<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>foreign-type-lisp-pre-padding</title><link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: ff</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/operators/ff/foreign-type-lisp-pre-padding.htm">9.0 version</a></td></tr></table><h2 id="2">foreign-type-lisp-pre-padding</h2>

<p id="3"><b>Arguments: </b><i>
type
</i></p>

<p id="4">
This function returns how much prepadding is done for a
<code>:lisp</code> allocated instance of the argument
<i>type</i>. The <i>type</i> can be a
symbol naming the type or an expression to define the type, as in:
</p>
<pre id="5">
(ff:foreign-type-lisp-pre-padding 
           '(:struct (a :int) (b :double)))
</pre>
<p id="6">
<code>:lisp</code> allocated foreign structures are allocated in
Lisp arrays of element type <code>(unsigned-byte 8)</code>. Due
to alignment requirements of the structure being defined and of the
processor on which Lisp is running, some structures may be stored in
the Lisp array beginning at an index other than zero.
</p>
<p id="7">
For example this type, created by a call to <a href="def-foreign-type.htm"><b>def-foreign-type</b></a>,
</p>
<pre id="8">
(def-foreign-type foo (:struct (d :double) (i :int)))
</pre>
<p id="9">
will start at index 4 in the Lisp array when running on the Sparc
processor but at index 0 in the Lisp array when running on the Intel
x86 architecture. <a href="foreign-type-lisp-pre-padding.htm"><b>foreign-type-lisp-pre-padding</b></a>
applied to <code>(:struct (d :double) (i :int))</code>, thus,
returns 4 when run on an Intel x86 box and 0 when run on a Sparc box.
</p>

<p id="10">
See <a href="../../ftype.htm">ftype.htm</a> for
information on foreign types in Allegro CL and
<a href="../../foreign-functions.htm">foreign-functions.htm</a> for general
information on foreign functions in Allegro CL.
</p>

<hr><p id="11"><small>Copyright (c) 1998-2016, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 9.0 page.</small><br><small>Created 2015.5.21.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/operators/ff/foreign-type-lisp-pre-padding.htm">9.0 version</a></td></tr></table></body></html>