<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>def-foreign-variable</title><link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Macro</b></td><td align="left" bgcolor="#00FFFF"><b>Package: ff</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/operators/ff/def-foreign-variable.htm">9.0 version</a></td></tr></table><h2 id="2">def-foreign-variable</h2>

<p id="3"><b>Arguments: </b><i>
name-and-options </i>&amp;key <i>type convention</i><i>
</i></p>

<p id="4">
This macro creates the specification which allows lisp to correctly
reference non-lisp variable data. Like other defining forms, its
macroexpansion clearly shows what will occur and at what eval-when
times. The execution of the expanded form always returns the lisp name
being defined. The definition that is installed is a symbol-macro that
accesses the non-lisp value correctly.
</p>

<p id="5">
<i>name-and-options</i> can either be a symbol or a list of a
symbol and an external-name specification. The symbol represents the
lisp-name for which the foreign-variable definition will be
installed. The external name specification can be either a string
specifying a literal external name, or it can be a symbol, which
represents the name of a conversion function. That conversion function
must take one required argument and at least the language keyword
argument, and must be defined at the time the macro expansion is
executed. At that time this conversion function will be called and
will receive the lisp-name specified, as well as the arguments
<code>:language </code><code><em>lang</em></code> where <em>lang</em> is the value
of the <i>convention</i> keyword. </p>

<p id="6"><i>type</i> is the access type of the variable, and can be any of the valid access
types for <a href="../system/memref.htm"><b>memref</b></a> and <a href="../system/memref-int.htm"><b>memref-int</b></a>. The default access type is <code>:unsigned-long</code>.</p>

<p id="7"><i>convention</i> is used by the macro to properly translate the lisp name into a
foreign name, and is given to the conversion function as its <i>language</i> keyword
argument. The possible values are <code>:c</code> and <code>:fortran</code>.</p>

<p id="8">
See <a href="../../ftype.htm">ftype.htm</a> for
information on foreign types in Allegro CL and
<a href="../../foreign-functions.htm">foreign-functions.htm</a> for general
information on foreign functions in Allegro CL.
</p>

<hr><p id="9"><small>Copyright (c) 1998-2016, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 9.0 page.</small><br><small>Created 2015.5.21.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/operators/ff/def-foreign-variable.htm">9.0 version</a></td></tr></table></body></html>