<html><head><meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"><title>progress-indicator</title></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Class</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/classes/cg/progress-indicator.htm">10.0 version</a></td></tr></table><h2 id="2">progress-indicator</h2>

<h3 id="3">
Class 
</h3>
<p id="4">
The class of the progress-indicator control.
</p>
<h3 id="5">
Control
</h3>
<p id="6">
An instance of the progress-indicator class. This control often
appears where users make a request on a form and will have to wait for
some hidden process to complete before proceeding with the rest of the
possible functions on the form.
</p>
<h3 id="7">
Adding a progress-indicator control to your form
</h3>
<p id="8">
Click the progress-indicator tool on the Component toolbar. Move the
mouse cursor to the part of the form where you want to place the
control, and click again. The control will appear with colored
resizing handles.
</p>
<h3 id="9">
Resizing and moving the control
</h3>
<p id="10">
Controls can only be resized and moved on forms during the design
stage; the size and location of everything is fixed on a running form.
</p>
<p id="11">
Resize the control by clicking the mouse cursor and dragging one of
the handles to the new size-point. Release the mouse key when you are
satisfied with the new size.
</p>
<p id="12">
Move the control by clicking anywhere on it except a resizing handle
and dragging it to a new location on the form. Release the mouse key
when you are ready to place the control.
</p>
<h3 id="13">
Adding a caption to the progress indicator
</h3>
<ol>
<li id="14">
Select the static-text control tool.
</li>
<li id="15">
Click on the form and drag the control to the place where you want
the caption for the progress-indicator to appear.
</li>
<li id="16">
Double-click the static-text control to focus on it with the
Inspector.
</li>
<li id="17">
Inspect the <a href="../../operators/cg/t/title.htm"><b>title</b></a> property of the control by
double-clicking on the value of the title and changing it in the Edit
Expression dialog. Click the OK button when you are done editing the
new caption.
<p id="18">
If the caption is small enough to see in the Inspector's right column,
you can also click once on the title and delete and replace the text
right in the Inspector without opening the Edit Expression dialog.
</p>
</li>
<li id="19">
If you want to change the alignment of the text with respect to the
length of the progress-indicator, resize the text control to be the
exact same length as the progress-indicator.  Then change the <a href="../../operators/cg/j/justification.htm"><b>justification</b></a> property of
the text-control to either :right or :center. The initial <a href="../../operators/cg/j/justification.htm"><b>justification</b></a> on
a static-text control is :left.
</li>
</ol>
<p id="20">
See <a href="../../cgide.htm#code-creating-controls-1">About how
to get sample code for creating controls</a> in <a href="../../cgide.htm">cgide.htm</a>, which explains how to use the
IDE to create such code.
</p>

<h3 id="21">
Example
</h3>

<p id="22">
The following code creates a dialog window with a progress indicator
on it. The variable <code>my-pi</code> is set to the component,
using <a href="../../operators/cg/f/find-component.htm"><b>find-component</b></a>. The
function <b>foo</b> runs through a loop of length 10, printing the
fraction done and updating the progress indicator in each iteration,
while also sleeping for one second between loop interations. The
progress indicator is incremented with <a href="../../operators/cg/v/value.htm"><b>(setf value)</b></a>.
</p>

<pre id="23">
(in-package :cg-user)
(make-window :pi-dialog
  :class 'dialog
  :interior (make-box-relative 100 100 240 140)
  :dialog-items
  (list (make-instance 'progress-indicator
          :left 20 :top 20 :width 200 :height 20
          :name :my-pi
          :value 0
          :range '(0 100)
          )))

(defvar my-pi)
(setq my-pi (find-component :my-pi :pi-dialog))

(defun foo ()
  (declare (special my-pi))
  (setf (value my-pi) 0)
  (dotimes (i 10)
    (sleep 1)
    (format t "~D% done~%" (* 10 (+ i 1)))
    (setf (value my-pi) (* 10 (+ i 1)))
    ))
</pre>



<p id="24">
A diagram of window and widget classes is shown in <a href="../../cgide.htm#widget-classes-1">Widget and window
classes</a> in <a href="../../cgide.htm">cgide.htm</a>.
</p>


<hr><p id="25"><small>Copyright (c) 1998-2017, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 10.0 page.</small><br><small>Created 2017.2.15.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/classes/cg/progress-indicator.htm">10.0 version</a></td></tr></table></body></html>