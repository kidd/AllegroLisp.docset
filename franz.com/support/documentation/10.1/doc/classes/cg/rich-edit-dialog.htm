<html><head><meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"><title>rich-edit-dialog</title></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Class</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/classes/cg/rich-edit-dialog.htm">10.0 version</a></td></tr></table><h2 id="2">rich-edit-dialog</h2>

<p id="3">
A subclass of <a href="dialog.htm"><code>dialog</code></a> intended for use with
<a href="rich-edit.htm"><code>rich-edit</code></a>
controls. Currently the only functional differences between a <a href="dialog.htm"><code>dialog</code></a> and a <a href="rich-edit-dialog.htm"><code>rich-edit-dialog</code></a> are:
</p>
<ul>
<li id="4">
Creating a <a href="rich-edit-dialog.htm"><code>rich-edit-dialog</code></a> form will
automatically place the usual set of rich-edit controls and menu-bar
onto the form;
</li>
<li id="5">
Making a close gesture on a <a href="rich-edit-dialog.htm"><code>rich-edit-dialog</code></a> will prompt the
end user (with a pop-up window) to save any unsaved files in any
rich-edit controls on the dialog. The dialog will not be closed if the
user chooses <b>Cancel</b> or chooses <b>Save</b> but does not
actually save the files. If there are no unsaved files, the dialog is
closed without prompting.
</li>
</ul>
<p id="6">
To create a <a href="rich-edit-dialog.htm"><code>rich-edit-dialog</code></a> interactively,
invoke the <a href="../../ide-menus-and-dialogs/file-menu.htm#new-form">File | New Form</a> menu-bar command and select
<b>rich-edit-dialog</b> from the list of choices. This will make a
rich-edit-dialog form and will automatically add a rich-edit control
and an associated <a href="rich-edit-ruler.htm"><code>rich-edit-ruler</code></a> just above it to
the form, and also add auxiliary widgets in a toolbar for use with the
rich-edit control.
</p>

<p id="7">
This dialog will act as a complete WordPad(tm)-like application. If
you would like to add additional controls to the form or toolbar, you
can do so. The rich-edit controls appear at the right end of the
component toolbar. Note that if multiple rich-edit controls are added
to a single form, the single set of rich-edit helper controls works
for all of the rich-edit controls on the same parent window,
reflecting the rich-edit that most recently had the keyboard focus.
</p>
<p id="8">
Try running the initial rich-edit form (with that form selected, click
on <a href="../../ide-menus-and-dialogs/run-menu.htm#run-form">Run |
Run Form</a>), then clicking the Open button in the toolbar and
selecting the file examples\cg\rich-edit-sample.rtf (in the
examples\cg subdirectory of the main Allegro directory). This should
show some sample rich text.
</p>
<h3 id="9">
Building Rich-Edit Forms from Scratch
</h3>
<p id="10">
To test making your own rich-edit dialog from scratch, invoke the
<a href="../../ide-menus-and-dialogs/file-menu.htm#new-form">File | New Form</a> command, and select
dialog from the list of window classes that you can create. Double
click the interior of the new form to inspect it.
</p>
<p id="11">
If you would like to start the menu-bar off with the special rich-edit
commands, then go to the menu property of the form in the inspector
and enter #.(rich-edit-menubar) in the inspector line for the menu
property. (The #. reader macro is a trick to evaluate the expression
typed directly into a line of the inspector.) This should add the
standard rich-edit menu-bar to the form, and you can further edit this
menu as you like.
</p>
<p id="12">
Back in the inspector, toggle the <code>toolbar</code> property
on to give the form a toolbar. Also toggle the <a href="../../operators/cg/s/status-bar.htm"><b>status-bar</b></a> property to give the
form a status-bar for messages. Next, click on the Rich-Edit button of
the Component Toolbar (the one with a big green "R"), and then click
in the main interior of your form to create a rich-edit control. You
may want to size the rich-edit control larger, since the default size
is rather small. Now click on each of the next three rich-edit
"helper" controls on the Component Toolbar and instantiate those
widgets from left to right on the toolbar of your new form. (The
helper controls consist of the <a href="rich-edit-multipic.htm"><code>rich-edit-multipic</code></a>, the <a href="font-face-combo-box.htm"><code>font-face-combo-box</code></a>,
and the <a href="font-size-combo-box.htm"><code>font-size-combo-box</code></a>. Finally, click
on the Ruler button on the Component Toolbar, position it just above
the rich-edit control, and then drag it or stretch it partly over the
rich-edit as needed to make it snap into place along the top.
</p>
<p id="13">
Having done this, you now have a dialog that is functionally similar
to the one created by using the <a href="rich-edit-dialog.htm"><code>rich-edit-dialog</code></a> class. You can
customize either however you like by adding additional controls and
editing the initial rich-edit menubar. Note that only a
rich-edit-dialog has the built-in feature of prompting the user to
save any unsaved rich-edit controls when a closing gesture is made.
</p>
<h3 id="14">
Special Features 
</h3>
<p id="15">
While the rich-edit functionality basically allows for custom
WordPad--like applications, there are a couple of features that are
somewhat unique:
</p>
<ul>
<li id="16">
<b>Multiple editor panes</b>: The rich-edit helper controls will
automatically keep track of which rich-edit control most recently had
the keyboard focus, and apply any editing commands to that
rich-edit. Also, as the focus moves from one rich-edit to another, the
rich-edit helper controls will update themselves to reflect the
current rich-edit, just as they update to reflect the currently
selected text within a single rich-edit.
</li>
<li id="17">
<b>Copying formatting</b>: The Edit menu (on the rich-edit-dialog) has
a couple of items called Copy Format and Paste Format that allow you
to easily copy character formatting rather than text. Just select some
text (or position the text cursor), invoke Edit | Copy Format, then
select some other text, and invoke <b>Edit | Paste Format</b> (again,
these commands are on the Edit menu on the <a href="rich-edit-dialog.htm"><code>rich-edit-dialog</code></a>, not on the Allegro CL
Edit menu) The second text range will now have the character
formatting of the first text range.
</li>
</ul>

<p id="18">
If you place a menu bar on a rich-edit-dialog, you may want to use
<a href="../../operators/cg/f/funcall-menu-item-with-rich-edit.htm"><b>funcall-menu-item-with-rich-edit</b></a> instead of
<a href="../../operators/cg/f/funcall-menu-item-with-window.htm"><b>funcall-menu-item-with-window</b></a>
as the on-click function for the menu-bar.
</p>

<p id="19">
See <a href="../../cg/cg-rich-text.htm">cg-rich-text.htm</a> for information about
rich text editing in Common Graphics.
</p>






<p id="20">
A diagram of window and widget classes is shown in <a href="../../cgide.htm#widget-classes-1">Widget and window
classes</a> in <a href="../../cgide.htm">cgide.htm</a>.
</p>


<hr><p id="21"><small>Copyright (c) 1998-2017, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 10.0 page.</small><br><small>Created 2017.2.15.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/classes/cg/rich-edit-dialog.htm">10.0 version</a></td></tr></table></body></html>