<html><head><meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"><title>get-texture</title></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/cg/g/get-texture.htm">10.0 version</a></td></tr></table><h2 id="2">get-texture</h2>

<p id="3"><b>Arguments: </b><i>
hbitmap </i> &amp;optional <i>from-box texture texture-info</i><i>
</i></p>

<p id="4">
See <a href="../g/get-pixmap.htm"><b>get-pixmap</b></a>,
which provides a better interface to achieving what get-texture does.
</p>
<p id="5">
This function was called get-pixels in earlier releases. The
get-pixels symbol still exists and it names a function identical to
get-texture.
</p>
<p id="6">
This function copies all or part of the image displayed by a window or
a bitmap handle into texture and texture-info objects. Two values are
returned:
</p>
<p id="7">
(1) texture containing the pixels copied from the window or bitmap
handle, and
</p>
<p id="8">
(2) texture-info structure that can be used during further processing
of the pixel-map.
</p>
<p id="9">
This function can be used to store pixels from a screen into a file by
first calling get-pixels and then calling either 
<a href="../s/save-pixmap.htm"><b>save-pixmap</b></a> (to save
as a .bmp file) or 
<a href="../s/save-lisp-pixmap.htm"><b>save-lisp-pixmap</b></a> (to save as a Lisp form).
</p>
<p id="10">
<i>stream-or-texture-handle</i> identifies the object
from which to copy the pixel-map. It can be a window, 
<code>(screen *system*)</code> (see <a href="../s/screen.htm"><b>screen</b></a> and
<a href="../../../variables/cg/s_system_s.htm"><code>*system*</code></a>), or a
bitmap handle (as created by open-texture). If the window is a
bitmap-window or bitmap-pane, then the pixels are copied from the
memory bitmap associated with the window, and so the window does not
need to be visible on the screen while copying from it. For other
types of windows, pixels are copied from the window's interior as that
region currently appears on the screen, so you may need to expose and
redisplay the window before using <a href="../g/get-texture.htm"><b>get-texture</b></a> on it.
</p>
<p id="11">
<i>from-box</i> should be a box structure indicating the
area of the window or bitmap handle to copy from. If this argument is
not supplied, the page size of the window is used. The default page
size for windows is the size of the screen, which causes this function
to create very large pixmaps that often result in running out of
memory. If this is a problem, you can either pass this from-box
argument to specify a smaller area, or use a smaller page-width and
-height for the window.
</p>
<p id="12">
<i>texture</i> can be a scratch pixel-map array that you
can pass to avoid creating a new object each time you call <a href="../g/get-texture.htm"><b>get-texture</b></a>. If this
argument is supplied and the texture is at least as wide and as tall
as the area being copied, then it will be filled with the copied
pixels and returned; otherwise a new pixel-map array is created,
filled, and returned. The width of the texture should be a multiple of
32 (though the returned texture-info will contain the actual width of
the copied area).
</p>
<p id="13">
<i>texture-info</i> can be a scratch texture-info that
you can pass to avoid consing a new one with each call. If this
argument is supplied, it will be modified and returned as the second
value; otherwise a new texture-info structure is created and returned.
</p>


<hr><p id="14"><small>Copyright (c) 1998-2017, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 10.0 page.</small><br><small>Created 2017.2.15.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/cg/g/get-texture.htm">10.0 version</a></td></tr></table></body></html>