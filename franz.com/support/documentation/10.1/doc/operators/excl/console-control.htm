<html><head><meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"><title>console-control</title></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: excl</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/excl/console-control.htm">10.0 version</a></td></tr></table><h2 id="2">console-control</h2>

<p id="3"><b>Arguments: </b><i>
</i>&amp;key <i>tray tray-exit title close maximize minimize size show</i><i> 
</i></p>

<p id="4">
This function is useful on Windows only. The function is not defined
on UNIX and Linux (the symbol exists but does not have a function
definition). This function controls the behavior and features of the
program icon in the Windows system tray. 
</p>
<p id="5">
This function only works if the Lisp or Lisp application was started
with the Lisp console. If Lisp was started with the
<b><code>+c</code></b> command-line argument (meaning no
console), <a href="console-control.htm"><b>console-control</b></a>
has no effect. See <a href="../../startup.htm#command-line-args-1">Command line arguments</a> in
<a href="../../startup.htm">startup.htm</a> for details of command-line
arguments. Note that arguments other than <b>+c</b> allow you to have
the console created but hidden. The Common Graphics project system
allows you to specify no console: see the <b>Enable Debugging of
Runtime Errors</b> checkbox on the <a href="../../ide-menus-and-dialogs/project-manager-dialog-build.htm">Project Manager Build
Tab</a>.
</p>
<p id="6">
The keyword arguments are as follows. They are orthogonal, meaning
that any can be specified to any value regardless of the values of the
other arguments (although specifying <code>:tray nil</code> and
<code>:tray-exit t</code> is illogical, since there is no tray
icon to use to exit). A call that specifies no value for a keyword
argument does not change the current value (does not, that is, cause
it to revert to some initial value or default).
</p>
<ul>
<li id="7">
<b>:tray</b>: the value can be <code>nil</code>, meaning
do not show the tray icon, or <code>t</code>, meaning do
show it.
</li>
<li id="8">
<b>:tray-exit</b>: if <code>nil</code>, you cannot exit
Lisp (or the Lisp application) from the tray icon. If <code>t</code>, you can. There is an <b>Exit Lisp</b> menu item on
the right button menu on the tray icon. That item will still be there,
but the submenu item <b>Yes, Exit Lisp</b> will be inactive.
</li>
<li id="9">
<b>:title</b>: the value, if one is specified, must be a simple
string. That string will be the console title (instead of the usual
one which starts "Allegro Common Lisp Console ...")
</li>
<li id="10">
<b>:close</b>: specifies the action when the close button on the
console is clicked. The value can be: <code>:minimize</code>
(close button, menu and Alt-F4 minimize the console);
<code>:hide</code> (close button, menu and Alt-F4 hide the
console); <code>nil</code> (close button, menu and Alt-F4
are not active); and <code>t</code> (close button, menu
and Alt-F4 behave normally, i.e. close the running Lisp or Lisp
application). When t, see also <a href="console-close.htm"><b>console-close</b></a>.
</li>
<li id="11">
<b>:maximize</b>: provides control of the console window maximize
button and the maximize item on the system menu on the window title
bar. The possible values are <code>nil</code>, which
disables the button and menu item), and <code>t</code>
(the default), which enables the button and menu item.
</li>
<li id="12">
<b>:minimize</b>: provides control of the console window minimize
button and the minimize item on the system menu on the window title
bar. The possible values are <code>nil</code>, which
disables the button and menu item; <code>t</code> (the
default), which enables the button and menu item; and
<code>:hide</code>, which causes clicking on the minimize button
or choosing the menu item to hide rather than minimize the console
window.
</li>
<li id="13">
<b>:size</b>: the value should be a positive integer greater that 1000
(but substantially higher values are typical). It specifies the size,
in bytes, to which the console edit control (i.e. text in the console)
can grow. After the console edit control hits this size, it is
truncated. This value is also set by the
<code>+&lt;number&gt;</code> command-line argument (that is,
something like +50000 on the command line). It can reset with this
function. If unspecified on the command-line, the value defaults to
100,000 bytes on versions of Windows other than 98 and Me. the size is
25,000 on Windows 98 and Me and, on those platforms, cannot be
changed. This argument and the associated
<code>+&lt;number&gt;</code> command-line argument are ignored
on Windows 98 and Me. See <a href="../../startup.htm#command-line-args-1">Command line arguments</a> in
<a href="../../startup.htm">startup.htm</a> for a list of command-line arguments
accepted by Allegro CL.
</li>
<li id="14">
<b>:show</b>: the value can be a keyword or <code>t</code>
or <code>nil</code>, indicating a win32 API action as
indicated in the table:
<table border="1" cellspacing="1" width="40%">
<tr> <th>Value of :show</th> <th>win32 API def</th> </tr> 
<tr> 
<td width="7%" valign="top">nil, :hide</td> 
<td width="33%" valign="top"><b>SW_HIDE</b></td> 
</tr>
<tr>
<td width="7%" valign="top">t, :normal, :shownormal</td> <td width="33%" valign="top"><b>SW_SHOWNORMAL</b> (aka
<b>SW_NORMAL</b>)</td>
</tr>
<tr>
<td width="7%" valign="top">:showminimized</td> <td width="33%" valign="top"><b>SW_SHOWMINIMIZED</b></td>
</tr>
<tr>
<td width="7%" valign="top">:maximize, :showmaximized</td> <td width="33%" valign="top"><b>SW_SHOWMAXIMIZED</b>  (aka
<b>SW_MAXIMIZE</b>)</td>
</tr>
<tr>
<td width="7%" valign="top">:shownoactivate</td> <td width="33%" valign="top"><b>SW_SHOWNOACTIVATE</b></td>
</tr>
<tr>
<td width="7%" valign="top">:show</td> <td width="33%" valign="top"><b>SW_SHOW</b></td>
</tr>
<tr>
<td width="7%" valign="top">:minimize</td> <td width="33%" valign="top"><b>SW_MINIMIZE</b></td>
</tr>
<tr>
<td width="7%" valign="top">:showminnoactive</td> <td width="33%" valign="top"><b>SW_SHOWMINNOACTIVE</b></td>
</tr>
<tr>
<td width="7%" valign="top">:showna</td> <td width="33%" valign="top"><b>SW_SHOWNA</b></td>
</tr>
<tr>
<td width="7%" valign="top">:restore</td> <td width="33%" valign="top"><b>SW_RESTORE</b></td>
</tr>
<tr>
<td width="7%" valign="top">:showdefault</td> <td width="33%" valign="top"><b>SW_SHOWDEFAULT</b></td>
</tr>
</table>
<p id="15">
See the WinAPI documentation for details of the various actions. We
encourage you to test your choices thoroughly because some find the
Windows documentation somewhat sparse, and you may not be able to
determine the differences among the various options by documentation
alone.
</p>
</li>
</ul>

<hr><p id="16"><small>Copyright (c) 1998-2017, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 10.0 page.</small><br><small>Created 2017.2.15.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/excl/console-control.htm">10.0 version</a></td></tr></table></body></html>