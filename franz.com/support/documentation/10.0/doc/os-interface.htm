<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"> <title>Operating System Interface</title></head><link rel="stylesheet" href="acldoc-styles.css" type="text/css"><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><a href="contents.htm"><b>ToC</b></a></td><td align="left" bgcolor="#00FFFF"><a href="introduction.htm"><b>DocOverview</b></a></td><td align="left" bgcolor="#00FFFF"><a href="cgide.htm"><b>CGDoc</b></a></td><td align="left" bgcolor="#00FFFF"><a href="release-notes.htm"><b>RelNotes</b></a></td><td align="left" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="left" bgcolor="#00FFFF"><a href="index.htm"><b>Index</b></a></td><td align="left" bgcolor="#00FFFF"><a href="permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/os-interface.htm">9.0 version</a></td></tr></table><h1 id="2">Operating System Interface</h1><p id="3">This document contains the following sections:</p><a href="#os-interface-intro-1">1.0 Operating-system interface</a><br><a href="#subprocess-functions-1">2.0 Subprocess functions</a><br><a href="#environment-functions-1">3.0 Filesystem manipulation functions</a><br><a href="#temporary-directory-1">4.0 Temporary directory and files</a><br><a href="#command-line-arguments-1">5.0 Accessing command-line arguments</a><br><a href="#environment-variables-1">6.0 Polling and setting environment variables</a><br><a href="#osi-module-1">7.0 The Operating System Interface (OSI) module</a><br>&nbsp;&nbsp;&nbsp;<a href="#os-time-routines-2">7.1 System calls and library routines dealing with time</a><br><a href="#osi-functionality-1">Appendix A. Operating System Interface Functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-file-handling-2">Appendix A.1. OSI file handling functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-time-2">Appendix A.2. OSI time functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-password-2">Appendix A.3. OSI password functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-shadow-password-2">Appendix A.4. OSI shadow password functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-group-file-access-2">Appendix A.5. OSI group file access</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-networks-file-access-2">Appendix A.6. OSI networks file access</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-services-file-access-2">Appendix A.7. OSI services file access</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-protocols-file-access-2">Appendix A.8. OSI protocols file access</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-process-uid-gid-2">Appendix A.9. OSI process/uid/gid interface functions</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-file-locking-2">Appendix A.10. OSI file locking functions</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-misc-low-2">Appendix A.11. OSI miscellaneous low-level functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#osi-misc-high-2">Appendix A.12. OSI miscellaneous higher-level functionality</a><br>&nbsp;&nbsp;&nbsp;<a href="#lisp-constants-2">Appendix A.13. Lisp constants corresponding to Operating System constants</a><br><hr><hr><h2 id="4"><a name="os-interface-intro-1">1.0 Operating-system interface</a></h2>

<p id="5">
This chapter describes some functions in Allegro CL that interact with
the host operating system. These functions include those providing
access and control of system services, which, on UNIX and Linux, are
typically found in chapters 2 and 3 of the UNIX manual.
</p>

<p id="6">
A <code>:osi</code> module is described in
<a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a> below. Functionality
described in all sections of this document is enhanced, so every
section is changed in some fashion. The operators, constants, and
classes of the new module are not described (in this documentation
release) on individual documentation pages. Instead, the descriptions
are in <a href="#osi-functionality-1">Appendix A Operating System Interface Functionality</a>. 
</p>


<hr><hr><h2 id="7"><a name="subprocess-functions-1">2.0 Subprocess functions</a></h2> 

<p id="8">
The new OSI interface (see
<a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>) includes the function
<a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a> and the macros
<a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a> and <a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a>. Those operators
also execute operating system commands and can be used along with or
in place of the functions described in this section. They are
higher-level than <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> and <a href="operators/excl/shell.htm"><b>shell</b></a> and are now recommended when the
interaction with the subprocess requires input or produces output that
must be captured. The new operators do not have separate description
pages. They are described in
<a href="#osi-process-uid-gid-2">Appendix A.9 OSI process/uid/gid interface functions</a>.
</p>


<p id="9">
Allegro CL has the ability to run UNIX and Windows child processes
controlled from Lisp. Starting a subprocess and communicating with it
are slower than using the foreign function interface to accomplish the
same task, but it is sometimes unavoidable. Creating very many
simultaneous subprocesses may be limited by system resources.
</p>

<p id="10">
Subprocesses can be started with <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> and <a href="operators/excl/shell.htm"><b>shell</b></a>, and with the newly-added operators
<a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a>, <a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a>, and <a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a>. 
</p>
<p id="11">
If <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> is
called with the <em>wait</em> keyword argument <code>nil</code>, <a href="operators/system/reap-os-subprocess.htm"><b>reap-os-subprocess</b></a> (or <a href="operators/system/os-wait.htm"><b>os-wait</b></a>) must be called to clear the process
from the system. Failure to do this will eventually cause the system
to be unable to create new processes. Further, the streams opened by
<a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> must be
closed by the program. The system will not close them
automatically. In contrast, the newly-added operators <a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a>, <a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a>, and <a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a> handle reaping
the processes and closing the stream themselves.
</p>

<p id="12">
Here are a couple of examples, both on Unix, of <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> followed by examples using
the new functionality. (There are more examples of using <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> on its description
page).
</p>
<p id="13">
In the first, we simply have <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> execute a simple command
(<strong>who</strong>).
</p>

<pre id="14">
USER(1): <b>(run-shell-command "who")</b>
sdj       ttyp0       Aug 18 16:08 (rubix)
adam      ttyp2       Aug 18 16:17 (rubix)
dm        ttyp4       Aug 19 10:24 (rubix)
0
USER(2):
</pre>

<p id="15">
The second example is more complicated. We cause <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> to spawn a shell and
then we communicate with the shell via the stream set up by <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a>.
</p>

<pre id="16">
;; First we define a function to read the output from the shell. This
;; function is pretty simple -- it reads characters and prints them
;; out but it does show how a more useful function could be implemented.
USER(24): <b>(defun get-from-shell (stream)
             (do ((ch (read-char-no-hang stream)
                      (read-char-no-hang stream)))
                 ((null ch))
              (write-char ch)))</b>
GET-FROM-SHELL
;; Now we initiate the shell:
USER(25): <b>(setq shell-stream (excl:run-shell-command "csh"
                                :input :stream
                                :output :stream
                                :wait nil))</b>
#&lt;EXCL::BIDIRECTIONAL-TERMINAL-STREAM @ #x10a4aa6&gt;
USER(26): (format shell-stream &quot;who~%&quot;)
NIL
USER(27): <b>(force-output shell-stream)</b>
NIL
USER(28): <b>(get-from-shell shell-stream)</b>
rlogin ttya Aug 19 07:06
rlogin ttyb Aug 19 08:26
sdj ttyp0 Aug 18 16:08 (rubix)
cheetham ttyp1 Aug 18 17:17 (frozen)
adam ttyp2 Aug 18 16:17 (rubix)
NIL
;; We exit the shell:
USER(29): <b>(format shell-stream "exit~%")</b>
NIL
;; and close the stream.
USER(30): <b>(close shell-stream)</b>
T
;; We call sys:reap-os-subprocess because we called 
;; run-shell-command with :wait nil:
USER(31): <b>(sys:reap-os-subprocess)</b>
0
27201
USER(32):
</pre>

<p id="17">
Here are some examples using the new operators <a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a>, <a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a>, and <a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a>.
</p>

<pre id="18">
cl-user(1): <b>(require :osi)</b>
;; fast-loading osi.fasl
t
cl-user(2): <b>(use-package :excl.osi)</b>
t
cl-user(3): <b>(command-output "who")</b>
("mikel    pts/0    Oct  3 15:38 (ultra)"
 "layer    pts/1    Oct 22 10:26 (crikey)")
nil
0
cl-user(4): <b>(command-output "who" :whole t)</b>
"mikel    pts/0    Oct  3 15:38 (ultra)
layer    pts/1    Oct 22 10:26 (crikey)
"
nil
0
cl-user(5): <b>(command-output "cat" :input "this is multi-line
input for the cat program")</b>
("this is multi-line" "input for the cat program")
nil
0
cl-user(6): <b>(with-command-io ("cat")
	      (:input (stream)
		(format stream "cat this~%")
		(format stream "cat this, too~%"))
	      (:output (line)
		(format t "output: ~a~%" line)))</b>
output: cat this
output: cat this, too
0
cl-user(7): <b>(with-command-output (line "cat /etc/issue")
	      (format t "output: ~a~%" line))</b>
output: 
output: Red Hat Linux release 6.0 (Hedwig)
output: Kernel 2.2.19 on an i686
output: 
0
cl-user(8): 
</pre>

<hr><hr><h2 id="19"><a name="environment-functions-1">3.0 Filesystem manipulation functions</a></h2>

<p id="20">
The new OSI interface (see
<a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>) includes many operators
related to the file system, similar to the operators described in this
section. See <a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>
for descriptions of all the new functionality relevant to this
section.
</p>

<p id="21">The following functions provide information about directories in
the system:</p>

<table BORDER="1" CELLSPACING="1" CELLPADDING="7" WIDTH="638">
  <tr>
    <td WIDTH="264" VALIGN="TOP"><b>Name</b></td>
    <td WIDTH="126" VALIGN="TOP"><b>Arguments</b></td>
    <td WIDTH="194" VALIGN="TOP"><b>Notes</b></td>
  </tr>
  <tr>
    <td WIDTH="264" VALIGN="TOP"><a href="operators/excl/chdir.htm"><b>chdir</b></a></td>
    <td WIDTH="126" VALIGN="TOP">&optional <i>pathname</i></td>
    <td WIDTH="194" VALIGN="TOP">Make <em>pathname</em> the current directory. If unspecified,
    make the current user's home directory the current directory (UNIX) or make c:\ the
    current directory (Windows). See the full description as the function has some oddities.
    See also the example below.</td>
  </tr>
  <tr>
    <td WIDTH="264" VALIGN="TOP"><a href="operators/excl/current-directory.htm"><b>current-directory</b></a></td>
    <td WIDTH="126" VALIGN="TOP"> &nbsp;</td>
    <td WIDTH="194" VALIGN="TOP">Returns the current directory.</td>
  </tr>
  <tr>
    <td WIDTH="264" VALIGN="TOP"><a href="os-interface.htm#getcwd-op-bookmarkxx"><b>getcwd</b></a></td> 
   <td WIDTH="126" VALIGN="TOP"> &nbsp;</td> 
   <td WIDTH="194" VALIGN="TOP">Another name for <a href="operators/excl/current-directory.htm"><b>current-directory</b></a>. Added with the new 
   OSI interface (see <a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>). 
   See <a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>
   for descriptions of all the new functionality relevant to this
   section. Returns the current directory.</td>
  </tr>
  <tr>
    <td WIDTH="264" VALIGN="TOP"><a href="operators/excl/username-to-home-directory.htm"><b>username-to-home-directory</b></a></td>
    <td WIDTH="126" VALIGN="TOP"><i>name</i></td>
    <td WIDTH="194" VALIGN="TOP">On Unix, returns the home directory 
    of the user named by the
    argument. On Windows, uses the value of the <code>HOME</code>
    environment variable; uses <code>C:\\</code> if that variable 
    is not set.</td>
  </tr>
</table>

<p id="22">Examples using <a href="operators/excl/chdir.htm"><b>excl:chdir</b></a>. The current users home directory
is <i>/usr/tech/doe/</i>. The directory <i>/usr/tech/doe/tmp/</i>
exists. The Allegro directory for the Lisp is (in this example)
<i>/usr/acl70/</i>.</p>

<pre id="23">
user(15): <b>(chdir)</b> ;; no argument: change to user home directory
"/usr/tech/doe/"
user(16): <b>(chdir "sys:")</b> ;; a string naming a logical pathname 
                                   ;; which translates
                                   ;; to the Lisp home directory.
"/usr/acl70/"
user(17): <b>(chdir)</b>
"/usr/tech/doe/"
user(18): <b>(chdir "tmp")</b> ;; change to the tmp/ subdirectory
"tmp/"
user(19): <b>(chdir (make-pathname :directory "tmp"))</b> 
                                  ;; The absolute directory 
                                  ;; /tmp/
"/tmp/"
user(20): <b>(chdir)</b>
"/usr/tech/doe/"
user(21): 
</pre>

<p id="24">
The following functions provide information about or manipulate
files and/or directories:
</p>

<p id="25">
The <code>:osi</code> module has many
new functions associated with filesystem manipulation. See
<a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a> for descriptions of
the new functionality.
</p>

<table border="1" width="95%" height="291">
  <tr>
    <td width="33%" height="19"><strong>Function</strong></td>
    <td width="33%" height="19"><strong>Arguments</strong></td>
    <td width="34%" height="19"><strong>Notes</strong></td>
  </tr>
  <tr>
    <td width="33%" height="57"><a href="operators/excl/copy-directory.htm"><b>excl:copy-directory</b></a></td>
    <td width="33%" height="57"><em>from-dir to-dir </em>&key<em> quiet </em>&allow-other-keys</td>
    <td width="34%" height="57">Copies <em>from-dir</em> to <em>to-dir</em>. Accepts <a href="operators/system/copy-file.htm"><b>sys:copy-file</b></a> keywords for copying files
    in the directory being copied.</td>
  </tr>
  <tr>
    <td width="33%" height="57"><a href="operators/system/copy-file.htm"><b>sys:copy-file</b></a></td>
    <td width="33%" height="57"><em>from-pathname to-pathname </em>&key<em> link
    preserve-symbolic-links element-type preserve-time remove-destination force</em></td>
    <td width="34%" height="57">Copies <em>from-pathname</em> to <em>to-pathname</em>
    preserving features as specified by keyword arguments. 
    <b>Note:</b> <em>link</em> argument was called <em>link-ok</em> 
    in releases 5.0.1 and earlier. See also the other functions in the
    new <code>:osi</code> module associated with filesystem 
    manipulation, described in 
    <a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>. </td>
  </tr>
  <tr>
    <td width="33%" height="38"><a href="operators/excl/delete-directory.htm"><b>excl:delete-directory</b></a></td>
    <td width="33%" height="38"><em>pathname</em></td>
    <td width="34%" height="38">Deletes the directory named by <em>pathname</em>, which must
    be an empty directory. See also the new function 
    <a href="os-interface.htm#rmdir-op-bookmarkxx"><b>rmdir</b></a> and other functions in the
    new <code>:osi</code> module associated with filesystem 
    manipulation, described in 
    <a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>.</td>
  </tr>
  <tr>
    <td width="33%" height="40"><a href="operators/excl/delete-directory-and-files.htm"><b>excl:delete-directory-and-files</b></a></td>
    <td width="33%" height="40"><em>directory </em>&key<em> 
    if-does-not-exist quiet force</em></td>
    <td width="34%" height="40">Deletes the directory named by 
    <em>directory</em> and all of
    its subdirectories and files. See also the new functions in the
    new <code>:osi</code> module associated with filesystem 
    manipulation, described in 
    <a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>.</td>
  </tr>
  <tr>
    <td width="33%" height="19"><a href="operators/excl/directory-size.htm"><b>excl:directory-size</b></a></td>
    <td width="33%" height="19"><em>dirname</em> &key <em>roundup</em></td>
    <td width="34%" height="19">Returns the size in bytes of 
    all the files in the directory named by <em>dirname</em> and all
    its subdirectories. If 
    <em>roundup</em> is non-<code>nil</code>, 
    its value must be an integer, and the result will be 
    rounded up to a multiple of that integer.</td>
  </tr>
  <tr>
    <td width="33%" height="19"><a href="operators/excl/file-directory-p.htm"><b>excl:file-directory-p</b></a></td>
    <td width="33%" height="19"><em>filespec</em></td>
    <td width="34%" height="19">Returns true if argument names a directory.</td>
  </tr>
  <tr>
    <td width="33%" height="19"><a href="operators/excl/make-directory.htm"><b>excl:make-directory</b></a></td>
    <td width="33%" height="19"><em>pathname</em> &optional<em> mode</em></td>
    <td width="34%" height="19">Creates a directory named by <em>pathname</em>.</td>
  </tr>
  <tr>
    <td width="33%" height="19"><a href="operators/excl/map-over-directory.htm"><b>excl:map-over-directory</b></a></td>
    <td width="33%" height="19"><em>function directory</em> &key<em> 
    filter prune-directories include-directories file-type recurse</em></td>
    <td width="34%" height="19">Applies <i>function</i> to the 
    entries in <i>directory</i>, with keywords allowing 
    for finer control.</td>
  </tr>
</table>

<hr><hr><h2 id="26"><a name="temporary-directory-1">4.0 Temporary directory and files</a></h2>

<p id="27">
The OSI interface (see
<a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>) includes operators like


<a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a>, <a href="os-interface.htm#mkdtemp-op-bookmarkxx"><b>mkdtemp</b></a>, and <a href="os-interface.htm#with-open-temp-file-op-bookmarkxx"><b>with-open-temp-file</b></a>.

These
operators provide functionality related to the operators described in
this section. See <a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>.
</p>

<p id="28">Allegro CL may need to write temporary files while it runs. The
first function following returns the directory used by the current
running Lisp as its temporary directory. The second returns an unused
filename in that directory.</p>

<table BORDER="1" CELLSPACING="1" CELLPADDING="7" WIDTH="638">
  <tr>
    <td WIDTH="33%" VALIGN="TOP"><b>Name</b></td>
    <td WIDTH="28%" VALIGN="TOP"><b>Arguments</b></td>
    <td WIDTH="39%" VALIGN="TOP"><b>Notes</b></td>
  </tr>
  <tr>
    <td WIDTH="33%" VALIGN="TOP"><a href="operators/system/temporary-directory.htm"><b>system:temporary-directory</b></a></td>
    <td WIDTH="28%" VALIGN="TOP"> </td>
    <td WIDTH="39%" VALIGN="TOP">Returns the pathname of the temporary directory used by the
    current running Lisp for writing temporary files.</td>
  </tr>
  <tr>
    <td WIDTH="33%" VALIGN="TOP"><a href="operators/system/make-temp-file-name.htm"><b>system:make-temp-file-name</b></a></td>
    <td WIDTH="28%" VALIGN="TOP">&optional (<i>prefix</i> "temp")
    (<i>directory</i>(<a href="operators/system/temporary-directory.htm"><b>sys:temporary-directory</b></a>))</td>
    <td WIDTH="39%" VALIGN="TOP">Returns an unused filename but does not 
    create the file (so the same name could be returned by a subsequent 
    call if the file is not created).</td>
   </tr>
   <tr>
    <td WIDTH="33%" VALIGN="TOP"><a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a></td>
    <td WIDTH="28%" VALIGN="TOP"><i>template</i></td>
    <td WIDTH="39%" VALIGN="TOP">Like 
    <a href="operators/system/make-temp-file-name.htm"><b>system:make-temp-file-name</b></a>
    except it opens the file 
    for output and returns the stream (rather than the filename). 
    This operator is part of the new
    the new OSI interface 
    (see <a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>).</td>
   </tr>
  <tr>
    <td WIDTH="33%" VALIGN="TOP"><a href="os-interface.htm#with-open-temp-file-op-bookmarkxx"><b>with-open-temp-file</b></a></td>
    <td WIDTH="28%" VALIGN="TOP">(<i>var</i> &nbsp;
    <i>template</i>) &body <i>body</i></td>
    <td WIDTH="39%" VALIGN="TOP">Opens a temporary file named
    according to <i>template</i> while 
    <i>body</i> is evaluated, and returns the name of the 
    (now closed) file. This operator is part of the new
    the new OSI interface 
    (see <a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>).</td>
   </tr>
</table>

<hr><hr><h2 id="29"><a name="command-line-arguments-1">5.0 Accessing command-line arguments</a></h2>

<p id="30">
Allegro CL may be called with any number of arguments on the
command line. Some of these arguments are used by Allegro CL itself
(to suppress reading of initialization files, for example) and others
are simply collected and made available to the running Lisp.
</p>

<p id="31">
Lisp uses `--' as a delimiter between arguments used by Allegro CL
when starting up and arguments simply collected and made available
after Lisp has started. All arguments before the first appearance of
`--' are used by Allegro CL and any improper arguments before that
marker will cause Allegro CL to signal a warning. All arguments after
the first appearance of `--' are ignored by Allegro CL when starting
up and are available after startup, accessible with the following
functions. Note that the arguments before the `--' are also available
with these functions. Note too that Lisp can be created so it ignores
all command-line arguments (simply making all available after
startup). This will happen if an image is created with <a href="operators/excl/dumplisp.htm"><b>dumplisp</b></a> with
<i>ignore-command-line-arguments</i> specified as 
true.
</p>

<p id="32">
Further, if no -I argument is provided (to specify an image file,
so the image file with the same name and in the same directory as the
executable is used), the command line will look like a -I argument was
specified, as shown in the examples.
</p>

<p id="33">
See <a href="operators/system/with-command-line-arguments.htm"><b>with-command-line-arguments</b></a>, which is a
macro that can be used to process command-line arguments.  See
<a href="startup.htm#command-line-args-1">Command line
arguments</a> in <a href="startup.htm">startup.htm</a> for information
on command-line-arguments. The functions that access command-line
arguments are shown in the following table.  + arguments, which are
Windows specific and affect how the executable starts up on Windows,
are discarded and not included in the information returned returned by
any of the command-line argument functions.
</p>

<table BORDER="1" CELLSPACING="1" CELLPADDING="7" WIDTH="638">
  <tr>
    <td WIDTH="39%" VALIGN="TOP"><b>Name</b></td>
    <td WIDTH="28%" VALIGN="TOP"><b>Arguments</b></td>
    <td WIDTH="33%" VALIGN="TOP"><b>Notes</b></td>
  </tr>
  <tr>
    <td WIDTH="39%" VALIGN="TOP"><a href="operators/system/command-line-argument.htm"><b>system:command-line-argument</b></a></td>
    <td WIDTH="28%" VALIGN="TOP">(<em>n</em> &key <em>application</em>)</td>
    <td WIDTH="33%" VALIGN="TOP">Returns the value of the <i>n</i>th command-line arguments.</td>
  </tr>
  <tr>
    <td WIDTH="39%" VALIGN="TOP"><a href="operators/system/command-line-arguments.htm"><b>system:command-line-arguments</b></a></td>
    <td WIDTH="28%" VALIGN="TOP">(&key <em>application</em>)</td>
    <td WIDTH="33%" VALIGN="TOP">Returns a list of all command-line arguments.</td>
  </tr>
  <tr>
    <td WIDTH="39%" VALIGN="TOP"><a href="operators/system/command-line-argument-count.htm"><b>system:command-line-argument-count</b></a></td>
    <td WIDTH="28%" VALIGN="TOP">(&key <em>application</em>)</td>
    <td WIDTH="33%" VALIGN="TOP">Returns the number of command-line arguments.</td>
  </tr>
</table>

<p id="34">
The <i>application</i> keyword argument, if <code>t</code>
(the default) leaves out any arguments before the first `--' and
leaves out the `--' (so if `--' doesn't appear, the list containing
only the executable name is returned). If <code>nil</code>, all arguments are considered.
</p>

<p id="35">
The purpose of these functions is to allow you to customize the
running of Lisp when the image is invoked. As a simple example,
suppose you invoke Lisp as follows: 
</p>

<pre id="36">
mlisp -qq -- foo -batch bar 
</pre>

<p id="37">
Here, <em>mlisp</em> is the name of the Allegro CL executable. Note
first that Lisp will not run in batch mode since the
<code>-batch</code> appears after `--'. However, no
initialization file will be read since the <code>-qq</code>
argument appears before the `--'. See <a href="startup.htm">startup.htm</a>
for more information on command line arguments which affect how Lisp
starts up. As we said above, the command line arguments will show
<em>-I &lt;image.dxl&gt;</em> arguments even though they were not
specified.
</p>

<p id="38">
Here is what the various command line functions return given that
command line:
</p>

<pre id="39">
(sys:command-line-argument 0) <b>[returns]</b> "mlisp"
(sys:command-line-argument 1) <b>[returns]</b> "foo"
(sys:command-line-argument 1 :application nil) <b>[returns]</b> "-I"
(sys:command-line-arguments) <b>[returns]</b> ("mlisp" "foo"
"-batch" "bar")
(sys:command-line-arguments :application nil) 
   <b>[returns]</b> ("mlisp" "-I" "mlisp.dxl"
"-qq" "--" "foo" "-batch" "bar")
(sys:command-line-argument-count) <b>[returns]</b> 4
(sys:command-line-argument-count :application nil) <b>[returns]</b> 8
</pre>

<p id="40">You may use this information as you see fit. One possible use, for
example, is to have some function defined and run (perhaps in an
initialization file) which takes some action (such as loading specific
files) based on the values of the arguments. </p>

<hr><hr><h2 id="41"><a name="environment-variables-1">6.0 Polling and setting environment variables</a></h2>

<p id="42">
The OSI interface (see
<a href="#osi-module-1">Section 7.0 The Operating System Interface (OSI) module</a>) includes more operators 
for setting, changing, and unsetting environment variables. These
are described <a href="#osi-misc-low-2">Appendix A.11 OSI miscellaneous low-level functionality</a>.
</p>


<p id="43">
The function <a href="operators/system/getenv.htm"><b>sys:getenv</b></a>
returns (and with <a href="../ansicl/dictentr/setfpset.htm"><b>setf</b></a> sets)
the value of an environment variable. The functions <a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a>,
<a href="os-interface.htm#putenv-op-bookmarkxx"><b>putenv</b></a>, and <a href="os-interface.htm#unsetenv-op-bookmarkxx"><b>unsetenv</b></a> set
and unset environment variables. The function <a href="os-interface.htm#environment-op-bookmarkxx"><b>environment</b></a>
returns a list of environment variables and values in the original
environment when Lisp was started (with later changes not
reflected). These functions are in the OSI interface module
mentioned above. Note that <a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a> and <a href="os-interface.htm#unsetenv-op-bookmarkxx"><b>unsetenv</b></a> are
not supported on all operating systems (see the descriptions for
details). <a href="operators/system/getenv.htm"><b>sys:getenv</b></a> and
<a href="os-interface.htm#putenv-op-bookmarkxx"><b>putenv</b></a> are supported on all
systems.
</p>

<pre id="44">
;; Here is an example using getenv and the new functions
;; setenv and unsetenv. It may be that the environment variables
;; exist on your system, in which case you will see different 
;; values and may not wish to unset them. SETENV and UNSETENV 
;; are not supported on all platforms.
cl-user(3): (getenv "FOO")
nil
cl-user(4): <b>(setf (getenv "FOO") "bar")</b>
"bar"
cl-user(5): <b>(getenv "FOO")</b>
"bar"
cl-user(6): <b>(getenv "FOO2")</b>
nil
cl-user(7): <b>(putenv "FOO2=bar2")</b>
t
cl-user(8): <b>(getenv "FOO2")</b>
"bar2"
cl-user(9): <b>(unsetenv "FOO2")</b>
t
cl-user(10): <b>(getenv "FOO2")</b>
nil
cl-user(11): <b>(setenv "FOO2" "baz" t)</b>
     ;;; overwrite (third argument) is t so does change value
t
cl-user(12): <b>(getenv "FOO2")</b>
"baz"
cl-user(13): (setenv "FOO2" "bazzzzzzzz" nil) 
     ;;; overwrite (third argument) is nil so does not change value
t
cl-user(14): <b>(getenv "FOO2")</b>
"baz"
cl-user(15): 
</pre>

<p id="45">
The next example show how to use <a href="operators/system/getenv.htm"><b>sys:getenv</b></a> and <a href="../ansicl/dictentr/setfpset.htm"><b>setf</b></a> to set and reset environment variables on
platforms that do not have <a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a>.
</p>

<pre id="46">
;; The current values of the environment variable on your system may,
;; of course, be different from what appears in this example.
user(2): (sys:getenv "SHELL")
"/bin/csh"
user(3): (setf (sys:getenv "SHELL") "/bin/sh")
"/bin/sh"
user(4): (sys:getenv "SHELL")
"/bin/sh"
</pre>

<p id="47">
<b>Warning:</b> If you use <a href="../ansicl/dictentr/setfpset.htm"><b>setf</b></a> with <a href="operators/system/getenv.htm"><b>sys:getenv</b></a> to set an environment variable,
the string specifying the new value is stored in malloc'ed space and
that space cannot be freed (in any practical way). This creates a
small memory leak in the system, but it should only be significant if
you set many, many environment variables.
</p>

<p id="48">
Prior to the release of the new OSI interface mentioned above, there
was no pre-defined, programmatic way to unset an environment variable
from within Lisp (on those platforms which supported unsetting
environment variables). With the new module, on platforms that support
it, <a href="os-interface.htm#unsetenv-op-bookmarkxx"><b>unsetenv</b></a> can be used.
</p>

<hr><hr><h2 id="49"><a name="osi-module-1">7.0 The Operating System Interface (OSI) module</a></h2>


<p id="50">
The goal of the OSI module is to provide a Lisp layer for
operating system services available on the platforms on which ACL
runs. Most of the functions and macros in this module are modeled on
system calls and library routines found in the UNIX manual (sections 2
and 3). The names of the functions in this module are usually the
same as those found in the UNIX manual. The number and type of
arguments are similar, however the interface to each system call and
library routine was designed to be natural in Common Lisp so there are
differences in number and type of arguments.
</p>
<p id="51">
All of the items described here reside in the
<code>:excl.osi</code> package.  You can load it with
<code>(require :osi)</code>.
</p>
<p id="52">
Many of the functions in this module are not available on Windows, for
the simple reason that the system call or library routine is not
available there.  A few functions are not available on all UNIX
versions on which Allegro CL runs, but most are. In all cases where a
function is not available, an error of a specific type is signaled.
The symbols for the functions which are not implemented are still
exported from the modules' package.
</p>
<p id="53">
Some of the functions here use system constants (e.g., R_OK).  The
naming of these constants is as follows: the name starts and ends with
`*', has been converted to lower case, and `_' has been replaced with
`-' (except leading `_'s are removed). This naming scheme is more
Lisp-like and allows for the different case modes in Common Lisp.
</p>
<p id="54">
There are a good number of system calls and library routines that take
file descriptors, returned by the <b>open()</b> system call. In an effort to
make this interface as natural in Lisp as possible, the corresponding
functions in this module take a stream instead of a file descriptor.
This means in general <a href="../ansicl/dictentr/open.htm"><b>common-lisp:open</b></a> should still be used to open
files. However, you may want to open a file with open(2) flags for
which there is no corresponding feature in Allegro CL (for example,
the flag <code>O_EXCL</code>). For this purpose, the function
<a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a> is provided. It also
returns a stream instead of a file descriptor.
</p>


<p id="55">
Finally, there are large number of system calls and library routines.
Not all of them are implemented in this module.  Some do not really
make sense in Lisp, or interfere with facilities already present.  One
such example in the latter category is signals.  All the signal calls
have been left out of this interface.  ACL does have a native facility
for handling signals (see the function <a href="operators/excl/add-signal-handler.htm"><b>add-signal-handler</b></a>).
</p>
<p id="56">
The Shell module provides Lisp versions of various shell commands. See
<a href="shell-module.htm">shell-module.htm</a> for details.
</p>
<p id="57">
See <a href="#osi-functionality-1">Appendix A Operating System Interface Functionality</a> for a list of
functions, constants, etc. in the module. Subsections, grouped by
functionality, contain the documentation pages.  The functions
etc. (except for those which already existed) do not have individual
documentation pages. They are listed in the <a href="index.htm">index</a> and the <a href="permuted-index.htm">permuted index</a>. (The constants are
not indexed, however.)
</p>


<hr><h2 id="58"><a name="os-time-routines-2">7.1 System calls and library routines dealing with time</a></h2>

<p id="59">
The system calls and library routines which take times take UNIX time
(as described in UNIX documentation). But UNIX time and the universal
time representation used by Common Lisp are different. Universal time
is the number of seconds since midnight 1/1/1900, while UNIX time is
the number of seconds since midnight 1/1/1970. In this module,
universal times are always expected and returned, and the equivalents
to the system calls and library routines which take times have been
modified to expect universal times. 
</p>
<p id="60">
The functions <a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a> and
<a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> convert
between UNIX and universal time. They are provided in case there is a
need to communicate time values outside of Lisp. The function <a href="os-interface.htm#ctime-op-bookmarkxx"><b>ctime</b></a> converts a universal time
to a string appropriate as an argument to certain routines.
</p>
<p id="61">
The decision to stay with universal time in Lisp was an easy one:
Common Lisp defines functions for encoding and decoding universal
times (see, e.g., <a href="../ansicl/dictentr/get-univ.htm"><b>get-universal-time</b></a> and <a href="../ansicl/dictentr/decode-u.htm"><b>decode-universal-time</b></a>). Lisp programmers are
familiar with these functions and there is no need to introduce a
parallel set of functions for UNIX time manipulation.
</p>



<hr><hr><h2 id="62"><a name="osi-functionality-1">Appendix A: Operating System Interface Functionality</a></h2>

<p id="63">
The new operators, classes, and constants in the OSI module are
described in the following subsections. They are grouped according to
purpose (except the constants are all described in a <a href="osi-constants.htm">separate document</a>, see
<a href="#lisp-constants-2">Appendix A.13 Lisp constants corresponding to Operating System constants</a>). Note that they are
are not indexed in the <a href="index.htm">index</a>.
</p>
<p id="64">
Certain functions already existed (such as <a href="operators/excl/chdir.htm"><b>chdir</b></a>). The symbols naming those functions
have been exported from the <code>excl.osi</code> package as
well as their home packages. 
</p>

<ul>
<li id="65">
<a href="#osi-file-handling-2">Appendix A.1 OSI file handling functionality</a>
</li>
<li id="66">
<a href="#osi-time-2">Appendix A.2 OSI time functionality</a>
</li>
<li id="67">
<a href="#osi-password-2">Appendix A.3 OSI password functionality</a>
</li>
<li id="68">
<a href="#osi-shadow-password-2">Appendix A.4 OSI shadow password functionality</a>
</li>
<li id="69">
<a href="#osi-group-file-access-2">Appendix A.5 OSI group file access</a>
</li>
<li id="70">
<a href="#osi-networks-file-access-2">Appendix A.6 OSI networks file access</a>
</li>
<li id="71">
<a href="#osi-services-file-access-2">Appendix A.7 OSI services file access</a>
</li>
<li id="72">
<a href="#osi-protocols-file-access-2">Appendix A.8 OSI protocols file access</a>
</li>
<li id="73">
<a href="#osi-process-uid-gid-2">Appendix A.9 OSI process/uid/gid interface functions</a>
</li>
<li id="74">
<a href="#osi-file-locking-2">Appendix A.10 OSI file locking functions</a>
</li>
<li id="75">
<a href="#osi-misc-low-2">Appendix A.11 OSI miscellaneous low-level functionality</a>
</li>
<li id="76">
<a href="#osi-misc-high-2">Appendix A.12 OSI miscellaneous higher-level functionality</a>
</li>
</ul>

<p id="77">
Here is a list of operators and classes, in alphabetical
order. There is also a list at the start of each subsection of the
objects described in that subsection, in the order in which they
appear in the subsection.
</p>

<h3 id="78">Operators</h3>

<ul>
<li id="79">
<a href="os-interface.htm#access-op-bookmarkxx"><b>access</b></a> 
</li>
<li id="80">
<a href="os-interface.htm#acct-op-bookmarkxx"><b>acct</b></a> 
</li>
<li id="81">
<a href="os-interface.htm#basename-op-bookmarkxx"><b>basename</b></a> 
</li>
<li id="82">
<a href="os-interface.htm#chdir-op-bookmarkxx"><b>chdir</b></a></li>
<li id="83">
<a href="os-interface.htm#chgrp-op-bookmarkxx"><b>chgrp</b></a>
</li>
<li id="84">
<a href="os-interface.htm#chmod-op-bookmarkxx"><b>chmod</b></a> 
</li>
<li id="85">
<a href="os-interface.htm#chown-op-bookmarkxx"><b>chown</b></a> 
</li>
<li id="86">
<a href="os-interface.htm#chroot-op-bookmarkxx"><b>chroot</b></a> 
</li>
<li id="87">
<a href="os-interface.htm#closedir-op-bookmarkxx"><b>closedir</b></a> 
</li>
<li id="88">
<a href="os-interface.htm#closelog-op-bookmarkxx"><b>closelog</b></a> 
</li>
<li id="89">
<a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a> 
</li>
<li id="90">
<a href="os-interface.htm#compare-files-op-bookmarkxx"><b>compare-files</b></a> 
</li>
<li id="91">
<a href="os-interface.htm#copy-file-op-bookmarkxx"><b>copy-file</b></a> 
</li>
<li id="92">
<a href="os-interface.htm#crypt-op-bookmarkxx"><b>crypt</b></a> 
</li>
<li id="93">
<a href="os-interface.htm#ctermid-op-bookmarkxx"><b>ctermid</b></a> 
</li>
<li id="94">
<a href="os-interface.htm#ctime-op-bookmarkxx"><b>ctime</b></a> 
</li>
<li id="95">
<a href="os-interface.htm#cuserid-op-bookmarkxx"><b>cuserid</b></a> 
</li>
<li id="96">
<a href="os-interface.htm#delete-directory-and-files-op-bookmarkxx"><b>delete-directory-and-files</b></a> 
</li>
<li id="97">
<a href="os-interface.htm#detach-from-terminal-supported-p-op-bookmarkxx"><b>detach-from-terminal-supported-p</b></a> 
</li>
<li id="98">
<a href="os-interface.htm#detach-from-terminal-op-bookmarkxx"><b>detach-from-terminal</b></a> 
</li>
<li id="99">
<a href="os-interface.htm#dirname-op-bookmarkxx"><b>dirname</b></a> 
</li>
<li id="100">
<a href="os-interface.htm#endgrent-op-bookmarkxx"><b>endgrent</b></a> 
</li>
<li id="101">
<a href="os-interface.htm#endnetent-op-bookmarkxx"><b>endnetent</b></a> 
</li>
<li id="102">
<a href="os-interface.htm#endprotoent-op-bookmarkxx"><b>endprotoent</b></a> 
</li>
<li id="103">
<a href="os-interface.htm#endpwent-op-bookmarkxx"><b>endpwent</b></a> 
</li>
<li id="104">
<a href="os-interface.htm#endservent-op-bookmarkxx"><b>endservent</b></a> 
</li>
<li id="105">
<a href="os-interface.htm#endspent-op-bookmarkxx"><b>endspent</b></a> 
</li>

<li id="106">
<a href="os-interface.htm#environment-op-bookmarkxx"><b>environment</b></a>
</li>

<li id="107">
<a href="os-interface.htm#execve-op-bookmarkxx"><b>execve</b></a> 
</li>
<li id="108">
<a href="os-interface.htm#fchdir-op-bookmarkxx"><b>fchdir</b></a> 
</li>
<li id="109">
<a href="os-interface.htm#fchgrp-op-bookmarkxx"><b>fchgrp</b></a> 
</li>
<li id="110">
<a href="os-interface.htm#fchmod-op-bookmarkxx"><b>fchmod</b></a> 
</li>
<li id="111">
<a href="os-interface.htm#fchown-op-bookmarkxx"><b>fchown</b></a> 
</li>
<li id="112">
<a href="os-interface.htm#find-in-path-op-bookmarkxx"><b>find-in-path</b></a> 
</li>
<li id="113">
<a href="os-interface.htm#fork-op-bookmarkxx"><b>fork</b></a> 
</li>
<li id="114">
<a href="os-interface.htm#fstat-op-bookmarkxx"><b>fstat</b></a> 
</li>

<li id="115">
<a href="os-interface.htm#fdatasync-op-bookmarkxx"><b>fdatasync</b></a> 
</li>

<li id="116">
<a href="os-interface.htm#fsync-op-bookmarkxx"><b>fsync</b></a> 
</li>
<li id="117">
<a href="os-interface.htm#get-filesystem-free-space-op-bookmarkxx"><b>get-filesystem-free-space</b></a>
</li>

<li id="118">
<a href="os-interface.htm#get-mem-info-op-bookmarkxx"><b>get-mem-info</b></a> 
</li>

<li id="119">
<a href="os-interface.htm#getcwd-op-bookmarkxx"><b>getcwd</b></a> 
</li>
<li id="120">
<a href="os-interface.htm#getdomainname-op-bookmarkxx"><b>getdomainname</b></a> 
</li>
<li id="121">
<a href="os-interface.htm#getegid-op-bookmarkxx"><b>getegid</b></a> 
</li>
<li id="122">
<a href="os-interface.htm#getenv-op-bookmarkxx"><b>getenv</b></a> 
</li>
<li id="123">
<a href="os-interface.htm#geteuid-op-bookmarkxx"><b>geteuid</b></a> 
</li>
<li id="124">
<a href="os-interface.htm#getgid-op-bookmarkxx"><b>getgid</b></a> 
</li>
<li id="125">
<a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a> 
</li>
<li id="126">
<a href="os-interface.htm#getgrgid-op-bookmarkxx"><b>getgrgid</b></a> 
</li>
<li id="127">
<a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> 
</li>
<li id="128">
<a href="os-interface.htm#getgroups-op-bookmarkxx"><b>getgroups</b></a> 
</li>
<li id="129">
<a href="os-interface.htm#gethostbyaddr-op-bookmarkxx"><b>gethostbyaddr</b></a> 
</li>
<li id="130">
<a href="os-interface.htm#gethostbyname-op-bookmarkxx"><b>gethostbyname</b></a> 
</li>
<li id="131">
<a href="os-interface.htm#gethostname-op-bookmarkxx"><b>gethostname</b></a> 
</li>
<li id="132">
<a href="os-interface.htm#getlogin-op-bookmarkxx"><b>getlogin</b></a> 
</li>
<li id="133">
<a href="os-interface.htm#getnetbyaddr-op-bookmarkxx"><b>getnetbyaddr</b></a> 
</li>
<li id="134">
<a href="os-interface.htm#getnetbyname-op-bookmarkxx"><b>getnetbyname</b></a> 
</li>
<li id="135">
<a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a> 
</li>
<li id="136">
<a href="os-interface.htm#getpgid-op-bookmarkxx"><b>getpgid</b></a> 
</li>
<li id="137">
<a href="os-interface.htm#getpgrp-op-bookmarkxx"><b>getpgrp</b></a> 
</li>
<li id="138">
<a href="os-interface.htm#getpid-op-bookmarkxx"><b>getpid</b></a> 
</li>
<li id="139">
<a href="os-interface.htm#getppid-op-bookmarkxx"><b>getppid</b></a> 
</li>
<li id="140">
<a href="os-interface.htm#getpriority-op-bookmarkxx"><b>getpriority</b></a> 
</li>
<li id="141">
<a href="os-interface.htm#getprotobyname-op-bookmarkxx"><b>getprotobyname</b></a> 
</li>
<li id="142">
<a href="os-interface.htm#getprotobynumber-op-bookmarkxx"><b>getprotobynumber</b></a> 
</li>
<li id="143">
<a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a> 
</li>
<li id="144">
<a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a> 
</li>
<li id="145">
<a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> 
</li>
<li id="146">
<a href="os-interface.htm#getpwuid-op-bookmarkxx"><b>getpwuid</b></a> 
</li>
<li id="147">
<a href="os-interface.htm#getservbyname-op-bookmarkxx"><b>getservbyname</b></a> 
</li>
<li id="148">
<a href="os-interface.htm#getservbyport-op-bookmarkxx"><b>getservbyport</b></a> 
</li>
<li id="149">
<a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a> 
</li>
<li id="150">
<a href="os-interface.htm#getsid-op-bookmarkxx"><b>getsid</b></a> 
</li>
<li id="151">
<a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a> 
</li>
<li id="152">
<a href="os-interface.htm#getspnam-op-bookmarkxx"><b>getspnam</b></a> 
</li>
<li id="153">
<a href="os-interface.htm#getuid-op-bookmarkxx"><b>getuid</b></a> 
</li>
<li id="154">
<a href="os-interface.htm#grent-gid-op-bookmarkxx"><b>grent-gid</b></a> 
</li>
<li id="155">
<a href="os-interface.htm#grent-mem-op-bookmarkxx"><b>grent-mem</b></a> 
</li>
<li id="156">
<a href="os-interface.htm#grent-name-op-bookmarkxx"><b>grent-name</b></a> 
</li>
<li id="157">
<a href="os-interface.htm#grent-p-op-bookmarkxx"><b>grent-p</b></a> 
</li>
<li id="158">
<a href="os-interface.htm#grent-passwd-op-bookmarkxx"><b>grent-passwd</b></a> 
</li>
<li id="159">
<a href="os-interface.htm#htonl-op-bookmarkxx"><b>htonl</b></a> 
</li>
<li id="160">
<a href="os-interface.htm#htons-op-bookmarkxx"><b>htons</b></a> 
</li>
<li id="161">
<a href="os-interface.htm#initgroups-op-bookmarkxx"><b>initgroups</b></a> 
</li>
<li id="162">
<a href="os-interface.htm#isatty-op-bookmarkxx"><b>isatty</b></a> 
</li>
<li id="163">
<a href="os-interface.htm#kill-op-bookmarkxx"><b>kill</b></a> 
</li>
<li id="164">
<a href="os-interface.htm#lchown-op-bookmarkxx"><b>lchown</b></a> 
</li>
<li id="165">
<a href="os-interface.htm#link-op-bookmarkxx"><b>link</b></a> 
</li>
<li id="166">
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> 
</li>
<li id="167">
<a href="os-interface.htm#lockf-op-bookmarkxx"><b>lockf</b></a> 
</li>
<li id="168">
<a href="os-interface.htm#locking-op-bookmarkxx"><b>locking</b></a> 
</li>
<li id="169">
<a href="os-interface.htm#lstat-op-bookmarkxx"><b>lstat</b></a> 
</li>
<li id="170">
<a href="os-interface.htm#mkdir-op-bookmarkxx"><b>mkdir</b></a> 
</li>

<li id="171">
<a href="os-interface.htm#mkdtemp-op-bookmarkxx"><b>mkdtemp</b></a> 
</li>

<li id="172">
<a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a> 
</li>
<li id="173">
<a href="os-interface.htm#netent-addrtype-op-bookmarkxx"><b>netent-addrtype</b></a> 
</li>
<li id="174">
<a href="os-interface.htm#netent-aliases-op-bookmarkxx"><b>netent-aliases</b></a> 
</li>
<li id="175">
<a href="os-interface.htm#netent-name-op-bookmarkxx"><b>netent-name</b></a> 
</li>
<li id="176">
<a href="os-interface.htm#netent-net-op-bookmarkxx"><b>netent-net</b></a> 
</li>
<li id="177">
<a href="os-interface.htm#netent-p-op-bookmarkxx"><b>netent-p</b></a> 
</li>
<li id="178">
<a href="os-interface.htm#ntohl-op-bookmarkxx"><b>ntohl</b></a> 
</li>
<li id="179">
<a href="os-interface.htm#ntohs-op-bookmarkxx"><b>ntohs</b></a> 
</li>
<li id="180">
<a href="os-interface.htm#opendir-op-bookmarkxx"><b>opendir</b></a> 
</li>
<li id="181">
<a href="os-interface.htm#openlog-op-bookmarkxx"><b>openlog</b></a> 
</li>
<li id="182">
<a href="os-interface.htm#os-close-op-bookmarkxx"><b>os-close</b></a> 
</li>
<li id="183">
<a href="os-interface.htm#os-ftruncate-op-bookmarkxx"><b>os-ftruncate</b></a> 
</li>
<li id="184">
<a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a> 
</li>
<li id="185">
<a href="os-interface.htm#os-remove-op-bookmarkxx"><b>os-remove</b></a> 
</li>
<li id="186">
<a href="os-interface.htm#os-truncate-op-bookmarkxx"><b>os-truncate</b></a> 
</li>
<li id="187">
<a href="os-interface.htm#perror-op-bookmarkxx"><b>perror</b></a> 
</li>
<li id="188">
<a href="os-interface.htm#pipe-op-bookmarkxx"><b>pipe</b></a> 
</li>
<li id="189">
<a href="os-interface.htm#protoent-aliases-op-bookmarkxx"><b>protoent-aliases</b></a> 
</li>
<li id="190">
<a href="os-interface.htm#protoent-name-op-bookmarkxx"><b>protoent-name</b></a> 
</li>
<li id="191">
<a href="os-interface.htm#protoent-p-op-bookmarkxx"><b>protoent-p</b></a> 
</li>
<li id="192">
<a href="os-interface.htm#protoent-proto-op-bookmarkxx"><b>protoent-proto</b></a> 
</li>
<li id="193">
<a href="os-interface.htm#putenv-op-bookmarkxx"><b>putenv</b></a> 
</li>
<li id="194">
<a href="os-interface.htm#pwent-dir-op-bookmarkxx"><b>pwent-dir</b></a> 
</li>
<li id="195">
<a href="os-interface.htm#pwent-gcos-op-bookmarkxx"><b>pwent-gcos</b></a> 
</li>
<li id="196">
<a href="os-interface.htm#pwent-gid-op-bookmarkxx"><b>pwent-gid</b></a> 
</li>
<li id="197">
<a href="os-interface.htm#pwent-name-op-bookmarkxx"><b>pwent-name</b></a> 
</li>
<li id="198">
<a href="os-interface.htm#pwent-p-op-bookmarkxx"><b>pwent-p</b></a> 
</li>
<li id="199">
<a href="os-interface.htm#pwent-passwd-op-bookmarkxx"><b>pwent-passwd</b></a> 
</li>
<li id="200">
<a href="os-interface.htm#pwent-shell-op-bookmarkxx"><b>pwent-shell</b></a> 
</li>
<li id="201">
<a href="os-interface.htm#pwent-uid-op-bookmarkxx"><b>pwent-uid</b></a> 
</li>
<li id="202">
<a href="os-interface.htm#readdir-op-bookmarkxx"><b>readdir</b></a> 
</li>
<li id="203">
<a href="os-interface.htm#readlink-op-bookmarkxx"><b>readlink</b></a> 
</li>
<li id="204">
<a href="os-interface.htm#realpath-op-bookmarkxx"><b>realpath</b></a> 
</li>
<li id="205">
<a href="os-interface.htm#rename-op-bookmarkxx"><b>rename</b></a> 
</li>
<li id="206">
<a href="os-interface.htm#rmdir-op-bookmarkxx"><b>rmdir</b></a> 
</li>
<li id="207">
<a href="os-interface.htm#same-file-p-op-bookmarkxx"><b>same-file-p</b></a> 
</li>
<li id="208">
<a href="os-interface.htm#same-filesystem-p-op-bookmarkxx"><b>same-filesystem-p</b></a> 
</li>
<li id="209">
<a href="os-interface.htm#servent-aliases-op-bookmarkxx"><b>servent-aliases</b></a> 
</li>
<li id="210">
<a href="os-interface.htm#servent-name-op-bookmarkxx"><b>servent-name</b></a> 
</li>
<li id="211">
<a href="os-interface.htm#servent-p-op-bookmarkxx"><b>servent-p</b></a> 
</li>
<li id="212">
<a href="os-interface.htm#servent-port-op-bookmarkxx"><b>servent-port</b></a> 
</li>
<li id="213">
<a href="os-interface.htm#servent-proto-op-bookmarkxx"><b>servent-proto</b></a> 
</li>
<li id="214">
<a href="os-interface.htm#setegid-op-bookmarkxx"><b>setegid</b></a> 
</li>
<li id="215">
<a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a> 
</li>
<li id="216">
<a href="os-interface.htm#seteuid-op-bookmarkxx"><b>seteuid</b></a> 
</li>
<li id="217">
<a href="os-interface.htm#setgid-op-bookmarkxx"><b>setgid</b></a> 
</li>
<li id="218">
<a href="os-interface.htm#setgrent-op-bookmarkxx"><b>setgrent</b></a> 
</li>
<li id="219">
<a href="os-interface.htm#setgroups-op-bookmarkxx"><b>setgroups</b></a> 
</li>
<li id="220">
<a href="os-interface.htm#setnetent-op-bookmarkxx"><b>setnetent</b></a> 
</li>
<li id="221">
<a href="os-interface.htm#setpgid-op-bookmarkxx"><b>setpgid</b></a> 
</li>
<li id="222">
<a href="os-interface.htm#setpgrp-op-bookmarkxx"><b>setpgrp</b></a> 
</li>
<li id="223">
<a href="os-interface.htm#setpriority-op-bookmarkxx"><b>setpriority</b></a> 
</li>
<li id="224">
<a href="os-interface.htm#setprotoent-op-bookmarkxx"><b>setprotoent</b></a> 
</li>
<li id="225">
<a href="os-interface.htm#setpwent-op-bookmarkxx"><b>setpwent</b></a> 
</li>
<li id="226">
<a href="os-interface.htm#setregid-op-bookmarkxx"><b>setregid</b></a> 
</li>
<li id="227">
<a href="os-interface.htm#setreuid-op-bookmarkxx"><b>setreuid</b></a> 
</li>
<li id="228">
<a href="os-interface.htm#setservent-op-bookmarkxx"><b>setservent</b></a> 
</li>
<li id="229">
<a href="os-interface.htm#setsid-op-bookmarkxx"><b>setsid</b></a> 
</li>
<li id="230">
<a href="os-interface.htm#setspent-op-bookmarkxx"><b>setspent</b></a> 
</li>
<li id="231">
<a href="os-interface.htm#setuid-op-bookmarkxx"><b>setuid</b></a> 
</li>
<li id="232">
<a href="os-interface.htm#shadow-passwd-supported-p-op-bookmarkxx"><b>shadow-passwd-supported-p</b></a> 
</li>
<li id="233">
<a href="os-interface.htm#spwd-expire-op-bookmarkxx"><b>spwd-expire</b></a> 
</li>
<li id="234">
<a href="os-interface.htm#spwd-inact-op-bookmarkxx"><b>spwd-inact</b></a> 
</li>
<li id="235">
<a href="os-interface.htm#spwd-last-change-op-bookmarkxx"><b>spwd-last-change</b></a> 
</li>
<li id="236">
<a href="os-interface.htm#spwd-max-op-bookmarkxx"><b>spwd-max</b></a> 
</li>
<li id="237">
<a href="os-interface.htm#spwd-min-op-bookmarkxx"><b>spwd-min</b></a> 
</li>
<li id="238">
<a href="os-interface.htm#spwd-name-op-bookmarkxx"><b>spwd-name</b></a> 
</li>
<li id="239">
<a href="os-interface.htm#spwd-p-op-bookmarkxx"><b>spwd-p</b></a> 
</li>
<li id="240">
<a href="os-interface.htm#spwd-passwd-op-bookmarkxx"><b>spwd-passwd</b></a> 
</li>
<li id="241">
<a href="os-interface.htm#spwd-warn-op-bookmarkxx"><b>spwd-warn</b></a> 
</li>
<li id="242">
<a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a> 
</li>
<li id="243">
<a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> 
</li>
<li id="244">
<a href="os-interface.htm#stat-dev-op-bookmarkxx"><b>stat-dev</b></a> 
</li>
<li id="245">
<a href="os-interface.htm#stat-gid-op-bookmarkxx"><b>stat-gid</b></a> 
</li>
<li id="246">
<a href="os-interface.htm#stat-ino-op-bookmarkxx"><b>stat-ino</b></a> 
</li>
<li id="247">
<a href="os-interface.htm#stat-mode-op-bookmarkxx"><b>stat-mode</b></a> 
</li>
<li id="248">
<a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> 
</li>
<li id="249">
<a href="os-interface.htm#stat-nlink-op-bookmarkxx"><b>stat-nlink</b></a> 
</li>
<li id="250">
<a href="os-interface.htm#stat-rdev-op-bookmarkxx"><b>stat-rdev</b></a> 
</li>
<li id="251">
<a href="os-interface.htm#stat-size-op-bookmarkxx"><b>stat-size</b></a> 
</li>
<li id="252">
<a href="os-interface.htm#stat-type-op-bookmarkxx"><b>stat-type</b></a> 
</li>
<li id="253">
<a href="os-interface.htm#stat-uid-op-bookmarkxx"><b>stat-uid</b></a> 
</li>
<li id="254">
<a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a> 
</li>
<li id="255">
<a href="os-interface.htm#strerror-op-bookmarkxx"><b>strerror</b></a> 
</li>
<li id="256">
<a href="os-interface.htm#symlink-op-bookmarkxx"><b>symlink</b></a> 
</li>
<li id="257">
<a href="os-interface.htm#sync-op-bookmarkxx"><b>sync</b></a> 
</li>
<li id="258">
<a href="os-interface.htm#syscall-error-errno-op-bookmarkxx"><b>syscall-error-errno</b></a> 
</li>

<li id="259">
<a href="os-interface.htm#sysconf-op-bookmarkxx"><b>sysconf</b></a> 
</li>

<li id="260">
<a href="os-interface.htm#syslog-op-bookmarkxx"><b>syslog</b></a> 
</li>
<li id="261">
<a href="os-interface.htm#ttyname-op-bookmarkxx"><b>ttyname</b></a> 
</li>
<li id="262">
<a href="os-interface.htm#umask-op-bookmarkxx"><b>umask</b></a> 
</li>
<li id="263">
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a> 
</li>
<li id="264">
<a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> 
</li>
<li id="265">
<a href="os-interface.htm#unlink-op-bookmarkxx"><b>unlink</b></a> 
</li>
<li id="266">
<a href="os-interface.htm#unlock-stream-op-bookmarkxx"><b>unlock-stream</b></a> 
</li>
<li id="267">
<a href="os-interface.htm#unsetenv-op-bookmarkxx"><b>unsetenv</b></a> 
</li>
<li id="268">
<a href="os-interface.htm#utime-op-bookmarkxx"><b>utime</b></a> 
</li>
<li id="269">
<a href="os-interface.htm#wait-op-bookmarkxx"><b>wait</b></a> 
</li>
<li id="270">
<a href="os-interface.htm#waitpid-op-bookmarkxx"><b>waitpid</b></a> 
</li>
<li id="271">
<a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a> 
</li>
<li id="272">
<a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a> 
</li>
<li id="273">
<a href="os-interface.htm#with-open-temp-file-op-bookmarkxx"><b>with-open-temp-file</b></a> 
</li>
<li id="274">
<a href="os-interface.htm#with-os-open-file-op-bookmarkxx"><b>with-os-open-file</b></a>
</li>
<li id="275">
<a href="os-interface.htm#with-pipe-op-bookmarkxx"><b>with-pipe</b></a> 
</li>
<li id="276">
<a href="os-interface.htm#with-stream-lock-op-bookmarkxx"><b>with-stream-lock</b></a> 
</li>
</ul>


<h3 id="277">Classes</h3>

<ul>
<li id="278">
<a href="os-interface.htm#osi-not-supported-class-bookmarkxx"><code>osi-not-supported</code></a> 
</li>
<li id="279">
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> 
</li>
</ul>

<h3 id="280">Constants</h3>

<p id="281">
We have provided Lisp constants corresponding to the various operating
system constants. The Lisp constants typically provide default values
for various arguments. See
<a href="#lisp-constants-2">Appendix A.13 Lisp constants corresponding to Operating System constants</a> and the separate
document <a href="osi-constants.htm">osi-constants.htm</a> for a complete list of
such constants. Note that not every constant is defined on every
platform (architecture). In each definition, we say what platforms the
constant is defined on. Then in <a href="osi-constants.htm#osi-const-by-arch-1">Defined Operating System/Lisp constants by
architecture</a> in <a href="osi-constants.htm">osi-constants.htm</a>, we
provide a list by platform of defined constants. We do not describe
how the constants are used. Please look at the appropriate Operating
System documentation for information on how these constants are
used. (The operating system name, which differs from the Lisp name, is
shown in each definition. You can search by the operating system name
to find the corresponding Lisp name, if there is one.)
</p>
<p id="282">
In an earlier version of the documentation, we did not name all
defined constants and we mixed definitions of constants we did name
with the related operators. In this version, we list all constants
together, and list them all.
</p>


<hr><h2 id="283"><a name="osi-file-handling-2">Appendix A.1 OSI file handling functionality</a></h2>

<ul>
<li id="284">
<a href="os-interface.htm#os-truncate-op-bookmarkxx"><b>os-truncate</b></a> 
</li>
<li id="285">
<a href="os-interface.htm#os-ftruncate-op-bookmarkxx"><b>os-ftruncate</b></a> 
</li>
<li id="286">
<a href="os-interface.htm#utime-op-bookmarkxx"><b>utime</b></a> 
</li>
<li id="287">
<a href="os-interface.htm#mkdir-op-bookmarkxx"><b>mkdir</b></a> 
</li>
<li id="288">
<a href="os-interface.htm#rmdir-op-bookmarkxx"><b>rmdir</b></a> 
</li>
<li id="289">
<a href="os-interface.htm#delete-directory-and-files-op-bookmarkxx"><b>delete-directory-and-files</b></a> 
</li>
<li id="290">
<a href="os-interface.htm#unlink-op-bookmarkxx"><b>unlink</b></a> 
</li>
<li id="291">
<a href="os-interface.htm#os-remove-op-bookmarkxx"><b>os-remove</b></a> 
</li>
<li id="292">
<a href="os-interface.htm#rename-op-bookmarkxx"><b>rename</b></a> 
</li>
<li id="293">
<a href="os-interface.htm#link-op-bookmarkxx"><b>link</b></a> 
</li>
<li id="294">
<a href="os-interface.htm#symlink-op-bookmarkxx"><b>symlink</b></a> 
</li>
<li id="295">
<a href="os-interface.htm#readlink-op-bookmarkxx"><b>readlink</b></a> 
</li>
<li id="296">
<a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a> 
</li>
<li id="297">
<a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a> 
</li>
<li id="298">
<a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> 
</li>
<li id="299">
<a href="os-interface.htm#stat-dev-op-bookmarkxx"><b>stat-dev</b></a> 
</li>
<li id="300">
<a href="os-interface.htm#stat-gid-op-bookmarkxx"><b>stat-gid</b></a> 
</li>
<li id="301">
<a href="os-interface.htm#stat-ino-op-bookmarkxx"><b>stat-ino</b></a> 
</li>
<li id="302">
<a href="os-interface.htm#stat-mode-op-bookmarkxx"><b>stat-mode</b></a> 
</li>
<li id="303">
<a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> 
</li>
<li id="304">
<a href="os-interface.htm#stat-nlink-op-bookmarkxx"><b>stat-nlink</b></a> 
</li>
<li id="305">
<a href="os-interface.htm#stat-rdev-op-bookmarkxx"><b>stat-rdev</b></a> 
</li>
<li id="306">
<a href="os-interface.htm#stat-size-op-bookmarkxx"><b>stat-size</b></a> 
</li>
<li id="307">
<a href="os-interface.htm#stat-type-op-bookmarkxx"><b>stat-type</b></a> 
</li>
<li id="308">
<a href="os-interface.htm#stat-uid-op-bookmarkxx"><b>stat-uid</b></a> 
</li>
<li id="309">
<a href="os-interface.htm#fstat-op-bookmarkxx"><b>fstat</b></a> 
</li>
<li id="310">
<a href="os-interface.htm#lstat-op-bookmarkxx"><b>lstat</b></a> 
</li>
<li id="311">
<a href="os-interface.htm#chmod-op-bookmarkxx"><b>chmod</b></a> 
</li>
<li id="312">
<a href="os-interface.htm#fchmod-op-bookmarkxx"><b>fchmod</b></a> 
</li>
<li id="313">
<a href="os-interface.htm#chown-op-bookmarkxx"><b>chown</b></a> 
</li>
<li id="314">
<a href="os-interface.htm#fchown-op-bookmarkxx"><b>fchown</b></a> 
</li>
<li id="315">
<a href="os-interface.htm#lchown-op-bookmarkxx"><b>lchown</b></a> 
</li>
<li id="316">
<a href="os-interface.htm#chgrp-op-bookmarkxx"><b>chgrp</b></a> 
</li>
<li id="317">
<a href="os-interface.htm#fchgrp-op-bookmarkxx"><b>fchgrp</b></a> 
</li>
<li id="318">
<a href="os-interface.htm#access-op-bookmarkxx"><b>access</b></a> 
</li>
<li id="319">
<a href="os-interface.htm#opendir-op-bookmarkxx"><b>opendir</b></a> 
</li>
<li id="320">
<a href="os-interface.htm#closedir-op-bookmarkxx"><b>closedir</b></a> 
</li>
<li id="321">
<a href="os-interface.htm#readdir-op-bookmarkxx"><b>readdir</b></a> 
</li>
<li id="322">
<a href="os-interface.htm#fsync-op-bookmarkxx"><b>fsync</b></a> 
</li>

<li id="323">
<a href="os-interface.htm#fdatasync-op-bookmarkxx"><b>fdatasync</b></a> 
</li>


<li id="324">
<a href="os-interface.htm#mkdtemp-op-bookmarkxx"><b>mkdtemp</b></a> 
</li>

<li id="325">
<a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a> 
</li>
<li id="326">
<a href="os-interface.htm#with-open-temp-file-op-bookmarkxx"><b>with-open-temp-file</b></a> 
</li>
<li id="327">
<a href="os-interface.htm#basename-op-bookmarkxx"><b>basename</b></a> 
</li>
<li id="328">
<a href="os-interface.htm#dirname-op-bookmarkxx"><b>dirname</b></a> 
</li>
<li id="329">
<a href="os-interface.htm#chdir-op-bookmarkxx"><b>chdir</b></a> 
</li>
<li id="330">
<a href="os-interface.htm#fchdir-op-bookmarkxx"><b>fchdir</b></a> 
</li>
<li id="331">
<a href="os-interface.htm#getcwd-op-bookmarkxx"><b>getcwd</b></a> 
</li>
<li id="332">
<a href="os-interface.htm#realpath-op-bookmarkxx"><b>realpath</b></a> 
</li>
<li id="333">
<a href="os-interface.htm#copy-file-op-bookmarkxx"><b>copy-file</b></a> 
</li>
<li id="334">
<a href="os-interface.htm#os-close-op-bookmarkxx"><b>os-close</b></a> 
</li>
<li id="335">
<a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a> 
</li>
<li id="336">
<a href="os-interface.htm#with-os-open-file-op-bookmarkxx"><b>with-os-open-file</b></a>
</li>
<li id="337">
<a href="os-interface.htm#get-filesystem-free-space-op-bookmarkxx"><b>get-filesystem-free-space</b></a>
</li>
</ul>

<hr><h3 id="338"><a name="os-truncate-op-bookmarkxx"></a>os-truncate</h3><h3 id="339">Function</h3><h4 id="340">Package: excl.osi</h4>

<p id="341"><b>Arguments: </b><i>
filespec length
</i></p>

<p id="342">
Truncate <i>filespec</i> to at most
<i>length</i> bytes in size.  Returns <code>t</code> on success, and signals an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure.  See
the UNIX man page truncate(2) for more information.
</p>

<hr>

<hr><h3 id="343"><a name="os-ftruncate-op-bookmarkxx"></a>os-ftruncate</h3><h3 id="344">Function</h3><h4 id="345">Package: excl.osi</h4>

<p id="346"><b>Arguments: </b><i>
stream length
</i></p>

<p id="347">
Truncate the file pointed to by <i>stream</i> to at most
<i>length</i> bytes in size.  Returns <code>t</code> on success, and signals an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure.  See
the UNIX man page ftruncate(2) for more information.
</p>

<hr>

<hr><h3 id="348"><a name="utime-op-bookmarkxx"></a>utime</h3><h3 id="349">Function</h3><h4 id="350">Package: excl.osi</h4>

<p id="351"><b>Arguments: </b><i>
filespec atime mtime
</i></p>

<p id="352">
Change the access and modification times on
<i>filespec</i> to those given by
<i>atime</i> (for access) and/or
<i>mtime</i> (for modification). At least one of
<i>atime</i> and <i>mtime</i> should be a
universal time. The other can also be a universal time or <code>nil</code> (in which case that time is not set). <a href="os-interface.htm#utime-op-bookmarkxx"><b>utime</b></a> returns <code>t</code> on success, and signals an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure. See the
UNIX man page utime(2) for more information.
</p>
<p id="353">
For information on conversion to/from universal and UNIX time see
<a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> and
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a>. 
</p>
<p id="354">
See also <a href="operators/excl/file-access-date.htm"><b>file-access-date</b></a>.
</p>

<hr>

<hr><h3 id="355"><a name="mkdir-op-bookmarkxx"></a>mkdir</h3><h3 id="356">Function</h3><h4 id="357">Package: excl.osi</h4>

<p id="358"><b>Arguments: </b><i>
filespec
</i>&amp;key <i>all mode</i><i>
</i></p>

<p id="359">
Make the directory given by <i>filespec</i>, and if the
keyword argument <i>all</i> is non-<code>nil</code> make all parent directories which do not exist.
</p>
<p id="360">
If <i>mode</i> is non-<code>nil</code> it should be a
numeric mode for the creation of <i>filespec</i>.
</p>

<hr>

<hr><h3 id="361"><a name="rmdir-op-bookmarkxx"></a>rmdir</h3><h3 id="362">Function</h3><h4 id="363">Package: excl.osi</h4>

<p id="364"><b>Arguments: </b><i>
filespec </i>&amp;key <i>force</i><i>
</i></p>

<p id="365">
Delete the directory given by <i>filespec</i>. On
Windows, the <i>force</i> keyword can be used to remove
<i>filespec</i> when it is read-only. On UNIX, this is
the default behavior so <i>force</i> is effectively
ignored.
</p>

<hr>

<hr><h3 id="366"><a name="delete-directory-and-files-op-bookmarkxx"></a>delete-directory-and-files</h3><h3 id="367">Function</h3><h4 id="368">Package: excl</h4>

<p id="369"><b>Arguments: </b><i>directory </i>&amp;key  (<i>if-does-not-exist</i> :error) (<i>quiet</i> t)<i> force</i></p>

<p id="370">
Delete all the files and subdirectories in the directory given by
<i>directory</i> and then delete the directory
itself. On Windows, the <i>force</i> keyword can be used
to remove <i>filespec</i> when it is read-only. On UNIX,
this is the default behavior so <i>force</i> is
effectively ignored.
</p>
<p id="371">
The symbol naming this function is in the <code>excl</code>
package and exported from the <code>excl.osi</code>
package. This function was defined in Allegro CL prior to the release
of the <code>:osi</code> module (though the
<i>force</i> argument was added with the release of the
<code>:osi</code> module). Its manual page is <a href="operators/excl/delete-directory-and-files.htm"><b>here</b></a>. The
keywords arguments are fully described on that page.
</p>

<hr>

<hr><h3 id="372"><a name="unlink-op-bookmarkxx"></a>unlink</h3><h3 id="373">Function</h3><h4 id="374">Package: excl.osi</h4>

<p id="375"><b>Arguments: </b><i>
filespec </i>&amp;key <i>force</i><i>
</i></p>

<p id="376">
Delete <i>filespec</i> from the filesystem.  On Windows,
the <i>force</i> keyword can be used to remove
<i>filespec</i> when it is read-only. On UNIX, this is
the default behavior so <i>force</i> is effectively
ignored. Returns <code>t</code> on success, and signals an
error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure.  See
the UNIX man page unlink(2) for more information.
</p>

<hr>

<hr><h3 id="377"><a name="os-remove-op-bookmarkxx"></a>os-remove</h3><h3 id="378">Function</h3><h4 id="379">Package: excl.osi</h4>

<p id="380"><b>Arguments: </b><i>
filespec </i>&amp;key <i>force</i><i>
</i></p>

<p id="381">
Delete <i>filespec</i> from the filesystem.  It calls
<a href="os-interface.htm#unlink-op-bookmarkxx"><b>unlink</b></a> for files and <a href="os-interface.htm#rmdir-op-bookmarkxx"><b>rmdir</b></a> for directories. On
Windows, the <i>force</i> keyword can be used to remove
<i>filespec</i> when it is read-only. On UNIX, this is
the default behavior so <i>force</i> is effectively
ignored.  Returns <code>t</code> on success, and signals
an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure.
</p>

<hr>

<hr><h3 id="382"><a name="rename-op-bookmarkxx"></a>rename</h3><h3 id="383">Function</h3><h4 id="384">Package: excl.osi</h4>

<p id="385"><b>Arguments: </b><i>
from-filespec to-filespec
</i></p>

<p id="386">
Rename <i>from-filespec</i> to
<i>to-filespec</i>.  On success <code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.  For a description of
the specific behavior of this system call, see the documentation for
rename(2) on UNIX and _rename on Windows.
</p>

<hr>

<hr><h3 id="387"><a name="link-op-bookmarkxx"></a>link</h3><h3 id="388">Function</h3><h4 id="389">Package: excl.osi</h4>

<p id="390"><b>Arguments: </b><i>
old-filespec new-filespec
</i></p>

<p id="391">
Create a new link (also known as a hard link) to an existing file.
If <i>new-filespec</i> exists it will not be overwritten.
Returns <code>t</code> on success, and signals an error of
type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure.  See the UNIX man
page link(2) for more information.
</p>
<p id="392">
The function <a href="os-interface.htm#symlink-op-bookmarkxx"><b>symlink</b></a> can be used to create
symbolic links.
</p>
<p id="393">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>


<hr>

<hr><h3 id="394"><a name="symlink-op-bookmarkxx"></a>symlink</h3><h3 id="395">Function</h3><h4 id="396">Package: excl.osi</h4>

<p id="397"><b>Arguments: </b><i>
old new </i>&amp;key <i>raw</i><i>
</i></p>

<p id="398">
Create a new symbolic link to an existing file.  This function is not
supported on Windows, where it signals an error. If
<i>raw</i> is non-<code>nil</code>, then the
required arguments must be strings. This prevents pathname merging,
which could turn a relative filename into an absolute one, and is
required if relative symbolic links are desired. Returns <code>t</code> on success, and signals an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> on failure.
</p>
<p id="399">
See the UNIX man page
link(2) for more information.
</p>
<p id="400">
The function <a href="os-interface.htm#link-op-bookmarkxx"><b>link</b></a> can be used to create hard
links.
</p>

<hr>

<hr><h3 id="401"><a name="readlink-op-bookmarkxx"></a>readlink</h3><h3 id="402">Function</h3><h4 id="403">Package: excl.osi</h4>

<p id="404"><b>Arguments: </b><i>
filespec
</i></p>


<p id="405">
Return the contents of a symbolic link given by
<i>filespec</i>. On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>

<p id="406">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="407"><a name="stat-op-bookmarkxx"></a>stat</h3><h3 id="408">Function</h3><h4 id="409">Package: excl.osi</h4>

<p id="410"><b>Arguments: </b><i>
filespec
</i></p>

<p id="411">
Return information about the specified file,
<i>filespec</i>.  The accessor functions <a href="os-interface.htm#stat-dev-op-bookmarkxx"><b>stat-dev</b></a>, <a href="os-interface.htm#stat-ino-op-bookmarkxx"><b>stat-ino</b></a>,
<a href="os-interface.htm#stat-mode-op-bookmarkxx"><b>stat-mode</b></a>, <a href="os-interface.htm#stat-nlink-op-bookmarkxx"><b>stat-nlink</b></a>,
<a href="os-interface.htm#stat-uid-op-bookmarkxx"><b>stat-uid</b></a>, <a href="os-interface.htm#stat-gid-op-bookmarkxx"><b>stat-gid</b></a>,
<a href="os-interface.htm#stat-rdev-op-bookmarkxx"><b>stat-rdev</b></a>, <a href="os-interface.htm#stat-size-op-bookmarkxx"><b>stat-size</b></a>,
<a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a>,
<a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> and <a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> can
be used to retrieve specific information from the value returned by
this function. On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>
is signaled.
</p>
<p id="412">
NOTE: the values returned by <a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a>, <a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> and
<a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> are universal times
and not UNIX times.  For information on conversion to/from universal
and UNIX time see <a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> and
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a>. See
<a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a>
</p>

<hr>

<hr><h3 id="413"><a name="stat-atime-op-bookmarkxx"></a>stat-atime</h3><h3 id="414">Function</h3><h4 id="415">Package: excl.osi</h4>

<p id="416"><b>Arguments: </b><i>
f
</i></p>

<p id="417">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>
<p id="418">
NOTE: the values returned by <a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a>, <a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> and
<a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> are universal times
and not UNIX times.  For information on conversion to/from universal
and UNIX time see <a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> and
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a>. See
<a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a>
</p>

<hr>

<hr><h3 id="419"><a name="stat-ctime-op-bookmarkxx"></a>stat-ctime</h3><h3 id="420">Function</h3><h4 id="421">Package: excl.osi</h4>

<p id="422"><b>Arguments: </b><i>
f
</i></p>

<p id="423">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>
<p id="424">
NOTE: the values returned by <a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a>, <a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> and
<a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> are universal times
and not UNIX times.  For information on conversion to/from universal
and UNIX time see <a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> and
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a>. See
<a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a>
</p>

<hr>

<hr><h3 id="425"><a name="stat-dev-op-bookmarkxx"></a>stat-dev</h3><h3 id="426">Function</h3><h4 id="427">Package: excl.osi</h4>

<p id="428"><b>Arguments: </b><i>
f
</i></p>

<p id="429">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>


<hr>

<hr><h3 id="430"><a name="stat-gid-op-bookmarkxx"></a>stat-gid</h3><h3 id="431">Function</h3><h4 id="432">Package: excl.osi</h4>

<p id="433"><b>Arguments: </b><i>
f
</i></p>

<p id="434">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>

<hr><h3 id="435"><a name="stat-ino-op-bookmarkxx"></a>stat-ino</h3><h3 id="436">Function</h3><h4 id="437">Package: excl.osi</h4>

<p id="438"><b>Arguments: </b><i>
f
</i></p>

<p id="439">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>

<hr><h3 id="440"><a name="stat-mode-op-bookmarkxx"></a>stat-mode</h3><h3 id="441">Function</h3><h4 id="442">Package: excl.osi</h4>

<p id="443"><b>Arguments: </b><i>
f
</i></p>

<p id="444">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>

<hr><h3 id="445"><a name="stat-mtime-op-bookmarkxx"></a>stat-mtime</h3><h3 id="446">Function</h3><h4 id="447">Package: excl.osi</h4>

<p id="448"><b>Arguments: </b><i>
f
</i></p>

<p id="449">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>
<p id="450">
NOTE: the values returned by <a href="os-interface.htm#stat-atime-op-bookmarkxx"><b>stat-atime</b></a>, <a href="os-interface.htm#stat-ctime-op-bookmarkxx"><b>stat-ctime</b></a> and
<a href="os-interface.htm#stat-mtime-op-bookmarkxx"><b>stat-mtime</b></a> are universal times
and not UNIX times.  For information on conversion to/from universal
and UNIX time see <a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> and
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a>. See
<a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a>
</p>

<hr>

<hr><h3 id="451"><a name="stat-nlink-op-bookmarkxx"></a>stat-nlink</h3><h3 id="452">Function</h3><h4 id="453">Package: excl.osi</h4>

<p id="454"><b>Arguments: </b><i>
f
</i></p>

<p id="455">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>

<hr><h3 id="456"><a name="stat-rdev-op-bookmarkxx"></a>stat-rdev</h3><h3 id="457">Function</h3><h4 id="458">Package: excl.osi</h4>

<p id="459"><b>Arguments: </b><i>
f
</i></p>

<p id="460">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>


<hr><h3 id="461"><a name="stat-size-op-bookmarkxx"></a>stat-size</h3><h3 id="462">Function</h3><h4 id="463">Package: excl.osi</h4>

<p id="464"><b>Arguments: </b><i>
f
</i></p>

<p id="465">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>

<hr><h3 id="466"><a name="stat-type-op-bookmarkxx"></a>stat-type</h3><h3 id="467">Function</h3><h4 id="468">Package: excl.osi</h4>

<p id="469"><b>Arguments: </b><i>
stat
</i></p>

<p id="470">
Given the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>, <a href="os-interface.htm#fstat-op-bookmarkxx"><b>fstat</b></a> or
<a href="os-interface.htm#lstat-op-bookmarkxx"><b>lstat</b></a>, return a keyword
describing the type of file object, one of: <code>:file</code>,
<code>:directory</code>, <code>:fifo</code>,
<code>:character-device</code>,
<code>:symbolic-link</code>, <code>:socket</code>,
<code>:block-device</code>, or <code>:unknown</code>.
<code>:symbolic-link</code>, <code>:socket</code> and
<code>:block-device</code> are never returned on Windows.
</p>

<hr>

<hr><h3 id="471"><a name="stat-uid-op-bookmarkxx"></a>stat-uid</h3><h3 id="472">Function</h3><h4 id="473">Package: excl.osi</h4>

<p id="474"><b>Arguments: </b><i>
f
</i></p>

<p id="475">
Accessor for the value returned by <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a>.
</p>

<hr>

<hr><h3 id="476"><a name="fstat-op-bookmarkxx"></a>fstat</h3><h3 id="477">Function</h3><h4 id="478">Package: excl.osi</h4>

<p id="479"><b>Arguments: </b><i>
stream
</i></p>

<p id="480">
This function is just like the function <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a> except
that it operates on an open stream.
</p>

<hr>

<hr><h3 id="481"><a name="lstat-op-bookmarkxx"></a>lstat</h3><h3 id="482">Function</h3><h4 id="483">Package: excl.osi</h4>

<p id="484"><b>Arguments: </b><i>
filespec
</i></p>

<p id="485">
This function is just like the function <a href="os-interface.htm#stat-op-bookmarkxx"><b>stat</b></a> except
that it operates on a symbolic link itself rather than the file to
which the symbolic links points.
</p>
<p id="486">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="487"><a name="chmod-op-bookmarkxx"></a>chmod</h3><h3 id="488">Function</h3><h4 id="489">Package: excl.osi</h4>

<p id="490"><b>Arguments: </b><i>
filespec mode
</i></p>

<p id="491">
Change the mode of <i>filespec</i> to
<i>mode</i>. <i>mode</i> should be a
number, and it is convenient to specify it as a three digit octal
number (#o755 for `rwxr-xr-x'). Consult the Windows documentation for
the precise meaning of <i>mode</i> on Windows.
</p>

<hr>

<hr><h3 id="492"><a name="fchmod-op-bookmarkxx"></a>fchmod</h3><h3 id="493">Function</h3><h4 id="494">Package: excl.osi</h4>

<p id="495"><b>Arguments: </b><i>
stream mode
</i></p>

<p id="496">
Change the mode of the file given by the open stream
<i>stream</i> to
<i>mode</i>. <i>mode</i> should be a
number, and it is convenient to specify it as a three digit octal
number (#o755 for `rwxr-xr-x').  Consult the Windows documentation for
the precise meaning of <i>mode</i> on Windows.
</p>

<hr>

<hr><h3 id="497"><a name="chown-op-bookmarkxx"></a>chown</h3><h3 id="498">Function</h3><h4 id="499">Package: excl.osi</h4>

<p id="500"><b>Arguments: </b><i>
filespec owner </i> &amp;optional <i>group</i><i>
</i></p>

<p id="501">
Change the owner of <i>filespec</i> to
<i>owner</i>, also changing the
<i>group</i> if that optional argument is provided.  On
success <code>t</code> is returned.  On failure an error
of type <a href="classes/excl/syscall-error.htm"><code>syscall-error</code></a> is signaled.
</p>
<p id="502">
<i>owner</i> can be either a number representing a UID
or a string naming a user.  In the case of a string naming a user,
that user is looked up with <a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> and
the resulting UID is taken from that.
</p>
<p id="503">
<i>group</i> can be either a number representing a GID
or a string naming a group In the case of a string naming a group,
that group is looked up with <a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> and
the resulting GID is taken from that.
</p>
<p id="504">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="505"><a name="fchown-op-bookmarkxx"></a>fchown</h3><h3 id="506">Function</h3><h4 id="507">Package: excl.osi</h4>

<p id="508"><b>Arguments: </b><i>
stream owner </i> &amp;optional <i>group</i><i>
</i></p>

<p id="509">
Change the owner of the file given by the open stream
<i>stream</i> to
<i>owner</i>, also changing the
<i>group</i> if that optional argument is provided.  On
success <code>t</code> is returned.  On failure an error
of type <a href="classes/excl/syscall-error.htm"><code>syscall-error</code></a> is signaled.
</p>
<p id="510">
<i>owner</i> can be either a number representing a UID
or a string naming a user.  In the case of a string naming a user,
that user is looked up with <a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> and
the resulting UID is taken from that.
</p>
<p id="511">
<i>group</i> can be either a number representing a GID
or a string naming a group In the case of a string naming a group,
that group is looked up with <a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> and
the resulting GID is taken from that.
</p>
<p id="512">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="513"><a name="lchown-op-bookmarkxx"></a>lchown</h3><h3 id="514">Function</h3><h4 id="515">Package: excl.osi</h4>

<p id="516"><b>Arguments: </b><i>
filespec owner </i> &amp;optional <i>group</i><i>
</i></p>

<p id="517">
Change the owner of the symbolic link given by
<i>filespec</i> to
<i>owner</i>, also changing the
<i>group</i> if that optional argument is provided.  On
success <code>t</code> is returned.  On failure an error
of type <a href="classes/excl/syscall-error.htm"><code>syscall-error</code></a> is signaled.
</p>
<p id="518">
<i>owner</i> can be either a number representing a UID
or a string naming a user.  In the case of a string naming a user,
that user is looked up with <a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> and
the resulting UID is taken from that.
</p>
<p id="519">
<i>group</i> can be either a number representing a GID
or a string naming a group In the case of a string naming a group,
that group is looked up with <a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> and
the resulting GID is taken from that.
</p>
<p id="520">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="521"><a name="chgrp-op-bookmarkxx"></a>chgrp</h3><h3 id="522">Function</h3><h4 id="523">Package: excl.osi</h4>

<p id="524"><b>Arguments: </b><i>
filespec group </i> &amp;optional <i>owner</i><i>
</i></p>

<p id="525">
Change the group of <i>filespec</i> to
<i>group</i>, also changing the
<i>owner</i> if that optional argument is provided. On
success <code>t</code> is returned.  On failure an error
of type <a href="classes/excl/syscall-error.htm"><code>syscall-error</code></a> is signaled.
</p>
<p id="526">
<i>group</i> can be either a number representing a GID
or a string naming a group In the case of a string naming a group,
that group is looked up with <a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> and the resulting GID is
taken from that.
</p>
<p id="527">
<i>owner</i> can be either a number representing a UID
or a string naming a user. In the case of a string naming a user,
that user is looked up with <a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> and the resulting UID is
taken from that.
</p>
<p id="528">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="529"><a name="fchgrp-op-bookmarkxx"></a>fchgrp</h3><h3 id="530">Function</h3><h4 id="531">Package: excl.osi</h4>

<p id="532"><b>Arguments: </b><i>
stream group </i> &amp;optional <i>owner</i><i>
</i></p>

<p id="533">
Change the group of the file given by the open stream
<i>stream</i> to <i>group</i>, also
changing the <i>owner</i> if that optional argument is
provided. On success <code>t</code> is returned.  On
failure an error of type <a href="classes/excl/syscall-error.htm"><code>syscall-error</code></a> is signaled.
</p>
<p id="534">
<i>group</i> can be either a number representing a GID
or a string naming a group In the case of a string naming a group,
that group is looked up with <a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> and the resulting GID is
taken from that.
</p>
<p id="535">
<i>owner</i> can be either a number representing a UID
or a string naming a user. In the case of a string naming a user,
that user is looked up with <a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> and the resulting UID is
taken from that.
</p>
<p id="536">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="537"><a name="access-op-bookmarkxx"></a>access</h3><h3 id="538">Function</h3><h4 id="539">Package: excl.osi</h4>

<p id="540"><b>Arguments: </b><i>
filespec mode </i>&amp;key <i>error</i><i>
</i></p>

<p id="541">
Test for permissions on <i>filespec</i> using mask
<i>mode</i>.  If the specified permissions exist, then
<code>t</code> is returned and <code>nil</code> otherwise.  On failure, signal an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> if
<i>error</i> is non-<code>nil</code>, or
return <code>nil</code> otherwise. The default value of
<i>error</i> is <code>nil</code>.
</p>
<p id="542">
Failure means the system function <b>access(2)</b> returned -1. That
might have happened, for example, if access to one of the directories
in the path of <i>filespec</i> was denied.
</p>
<p id="543"><i>mode</i> is composed from the bitwise
<b>or</b>'ing of the constants <a href="osi-constants.htm#s_r-ok_s-var-bookmarkxx"><code>*r-ok*</code></a>,
<a href="osi-constants.htm#s_w-ok_s-var-bookmarkxx"><code>*w-ok*</code></a>, <a href="osi-constants.htm#s_f-ok_s-var-bookmarkxx"><code>*f-ok*</code></a>, and
<a href="osi-constants.htm#s_x-ok_s-var-bookmarkxx"><code>*x-ok*</code></a>, which correspond to the C
definitions of R_OK, W_OK, F_OK and X_OK. <a href="osi-constants.htm#s_x-ok_s-var-bookmarkxx"><code>*x-ok*</code></a> is not
defined on Windows, since it has no meaning there.
</p>

<hr>


<hr><h3 id="544"><a name="opendir-op-bookmarkxx"></a>opendir</h3><h3 id="545">Function</h3><h4 id="546">Package: excl.osi</h4>

<p id="547"><b>Arguments: </b><i>
filespec
</i></p>

<p id="548">
Open the directory given my <i>filespec</i> and return a
handle for further operations on it. On failure signal an error of
type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>.
</p>

<hr>

<hr><h3 id="549"><a name="closedir-op-bookmarkxx"></a>closedir</h3><h3 id="550">Function</h3><h4 id="551">Package: excl.osi</h4>

<p id="552"><b>Arguments: </b><i>
dir
</i></p>

<p id="553">
Close the directory handle associated with <i>dir</i>.
On failure signal an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>.
</p>

<hr>

<hr><h3 id="554"><a name="readdir-op-bookmarkxx"></a>readdir</h3><h3 id="555">Function</h3><h4 id="556">Package: excl.osi</h4>

<p id="557"><b>Arguments: </b><i>
dir
</i></p>

<p id="558">
Return the string representing the next directory entry in the
directory stream pointed to by <i>dir</i>.  On failure
signal an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>.
</p>

<hr>


<hr><h3 id="559"><a name="fdatasync-op-bookmarkxx"></a>fdatasync</h3><h3 id="560">Function</h3><h4 id="561">Package: excl.osi</h4>

<p id="562"><b>Arguments: </b><i>
stream
</i></p>

<p id="563">
Synchronize the in-core parts of a file to disk. For more information
on this UNIX system call see the fsync(2) manual page. On
success <code>t</code> is returned. On failure an error of
type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>

<p id="564">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>


<hr>


<hr><h3 id="565"><a name="fsync-op-bookmarkxx"></a>fsync</h3><h3 id="566">Function</h3><h4 id="567">Package: excl.osi</h4>

<p id="568"><b>Arguments: </b><i>
stream
</i></p>

<p id="569">
Synchronize the in-core parts of a file to disk.  For more information
on this UNIX system call see the fsync(2) manual page.
</p>

<p id="570">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>


<hr>


<hr><h3 id="571"><a name="mkdtemp-op-bookmarkxx"></a>mkdtemp</h3><h3 id="572">Function</h3><h4 id="573">Package: excl.osi</h4>

<p id="574"><b>Arguments: </b><i>
template
</i></p>



<h4 id="575">
This function is not supported on Windows, 
or Solaris. Calling it on those platform signals an error
of type <code>osi-not-supported</code>.
</h4>

<p id="576">
This function creates a temporary directory and returns the name of
the directory created (a string).  The name of the file is determined
by the template specified by
<i>template</i>. <i>template</i> should
end with six X's, which are replaced with a unique letter
combination. The name ends with a trailing slash.
</p>
<p id="577">
On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="578">
See the UNIX man page for <b>mkdtemp(3)</b> for more information on
the system call associated with this function. It will tell you about
things like the permissions on the new directory. The input string
(<i>template</i>) is not modified and shares no space
with the output string naming the new directory, which will be a
newly-created string.
</p>
<p id="579">
See also <a href="#temporary-directory-1">Section 4.0 Temporary directory and files</a>.
</p>

<h4 id="580">
Example
</h4>
<pre id="581">
;; We create a suitable string to use as the template:
cl-user(2): (setq dir-template "/tmp/testXXXXXX")
"/tmp/testXXXXXX"

;; The call to EXCL.OSI:MKDTEMP returns the new directory name:
cl-user(3): (setq dir-result-1 (excl.osi:mkdtemp dir-template))
"/tmp/testUTxnSF"

;; This shows the new directory exists:
cl-user(4): (probe-file dir-result-1)
#P"/tmp/testUTxnSF"

;; The input template and the output name are not the same string:
cl-user(5): (eq dir-template dir-result-1)
nil

;; And the input string is unchanged:
cl-user(6): dir-template
"/tmp/testXXXXXX"

;; We use it again and get a different name:
cl-user(7): (setq dir-result-2 (excl.osi:mkdtemp dir-template))
"/tmp/testMaM3dH"

;; The string holding the first directory name is unaffected by 
;; subsequent calls:
cl-user(8): dir-result-1
"/tmp/testUTxnSF"
cl-user(9): 
</pre>

<hr>



<hr><h3 id="582"><a name="mkstemp-op-bookmarkxx"></a>mkstemp</h3><h3 id="583">Function</h3><h4 id="584">Package: excl.osi</h4>

<p id="585"><b>Arguments: </b><i>
template </i>&amp;key  (<i>external-format</i> :default) (<i>class</i> (quote file-simple-stream))<i>
</i></p>


<p id="586">
This function returns two values:
</p>
<ol>
<li id="587">
An open input/output stream
</li>
<li id="588">
The selected temporary filename, which is created
from <b><i>template</i></b>
</li>
</ol>
<p id="589">
<b><i>template</i></b> must end with six X's which will
be replaced with characters that form a unique filename. The
<b><i>external-format</i></b> keyword can be used to
specify the external-format used to open the stream.
The <b><i>class</i></b> keyword can be used to specify
the class of stream that is created.  See
<a href="implementation.htm#extensions-to-open-3">Extensions to cl:open</a>
in <a href="implementation.htm">implementation.htm</a> for detals.
</p>
<p id="590">
<a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a>, like the UNIX
counterpart, is free of race conditions on opening the file.  On
failure an error of type <code>syscall-error</code> is
signaled.
</p>
<p id="591">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>


<p id="592">
This function opens (for output) a stream on a temporary file and
returns two values: the stream and the name of the file. The name of
the file is determined by the template specified by
<i>template</i>. <i>template</i> should
end with six X's, which are replaced with the current process number
and/or a unique letter combination. <a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a>, like
the UNIX counterpart, is free of race conditions on opening the file.
</p>
<p id="593">
On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>

<p id="594">
The <b><i>external-format</i></b> keyword can be used
to change the default external-format used to open the stream.
</p>

<p id="595">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<p id="596">
See also <a href="os-interface.htm#with-open-temp-file-op-bookmarkxx"><b>with-open-temp-file</b></a>, <a href="os-interface.htm#mkdtemp-op-bookmarkxx"><b>mkdtemp</b></a>, and
<a href="#temporary-directory-1">Section 4.0 Temporary directory and files</a>.
</p>

<hr>

<hr><h3 id="597"><a name="with-open-temp-file-op-bookmarkxx"></a>with-open-temp-file</h3><h3 id="598">Macro</h3><h4 id="599">Package: excl.osi</h4>

<p id="600"><b>Arguments: </b><i>
(var template </i>&amp;key <i>filename delete external-format</i> (<i>class</i> (quote file-simple-stream))<i>) 
</i> &amp;body <i>body</i><i>
</i></p>

<p id="601">
This macro allows for safe use of temporary files, making sure they
are closed in the face of errors. It is also good for making sure
there are no race conditions on opening the file in the filesystem.
If an error occurs during the execution of <i>body</i>
then the open stream on the temporary file is closed
with <code>:abort t</code> given to <a href="../ansicl/dictentr/close.htm"><b>common-lisp:close</b></a>.
</p>
<p id="602">
<b><i>var</i></b> should be a symbol which will by bound
to the stream open to the file during the evaluation of body. The
argument <b><i>template</i></b> is passed
to <a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a> and should be a value
suitable for the <i>template</i> argument to that
function, that is a string ending in six X's. The beginning of the
string (up to the X's) should be directory information plus whatever
you want as the beginning of the temp file name, for example
"/tmp/mytempXXXXXX". The value of
the <b><i>class</i></b> argument is passed as
the <i>class</i> keyword argument to <a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a>. See
the description of that function for information on suitable values
for <i>class</i> (where you will be referred
to <a href="implementation.htm#extensions-to-open-3">Extensions to cl:open</a>
in <a href="implementation.htm">implementation.htm</a>).
</p>

<p id="603">
The <b><i>filename</i></b> keyword argument, when
supplied, must be a symbol. The symbol will be bound during the
evaluation of the body to the actual filename that is used. The
<b><i>delete</i></b> keyword argument, if supplied and
non-<code>nil</code>, causes the file to be deleted after
the body completes (either normally or abnormally). Any errors that
may occur during file deletion are ignored.
</p>

<p id="604">
The name of the temp file actually used is returned after body
completes. The file is not deleted automatically after this macro
 completes unless
<i>delete</i> is specified true. Here are a
couple of examples:
</p>
<pre id="605">
cl-user(31): (excl.osi:with-open-temp-file (ss "/tmp/mytempXXXXXX") 
                    (print 10 ss))
"/tmp/mytempRQaWrj"
cl-user(32): (shell "cat /tmp/mytempRQaWrj")

10 0
cl-user(33): (excl.osi:with-open-temp-file (ss "/tmp/mytempXXXXXX")
	       (print 10 ss)
	       (file-position ss 0)
	       (setq a (read ss)))
"/tmp/mytempSQaWrj"
cl-user(34): a
10
cl-user(35): 
</pre>
<p id="606">
Because this macro uses <a href="os-interface.htm#mkstemp-op-bookmarkxx"><b>mkstemp</b></a> (which is not available
on Windows), this macro is not supported on Windows.
</p>

<hr>

<hr><h3 id="607"><a name="basename-op-bookmarkxx"></a>basename</h3><h3 id="608">Function</h3><h4 id="609">Package: excl.osi</h4>

<p id="610"><b>Arguments: </b><i>
filespec
</i></p>

<p id="611">
Break <i>filespec</i> into directory and filename
components, returning the filename component.  This is equivalent to
</p>
<pre id="612">
(file-namestring (pathname filespec))
</pre>

<hr>

<hr><h3 id="613"><a name="dirname-op-bookmarkxx"></a>dirname</h3><h3 id="614">Function</h3><h4 id="615">Package: excl.osi</h4>

<p id="616"><b>Arguments: </b><i>
filespec </i> &amp;optional <i>trailing-slash</i><i>
</i></p>

<p id="617">
Break <i>filespec</i> into directory and filename
components, returning the directory component.  The library routine
dirname(3) does not return a trailing slash, however this behavior is
problematic when considering Common Lisp pathnames--converting the
result, without a trailing slash, to a pathname will yield unexpected
results. The optional second argument,
<i>trailing-slash</i>, is meant to deal with this
problem.  The default value is <code>t</code>, which means
the non-dirname(3) behavior is the default.  Examples:
</p>
<pre id="618">
(dirname "/foo/bar/baz")
  <b>RETURNS</b> "/foo/bar/"
(dirname "/foo/bar/baz" nil)
  <b>RETURNS</b> "/foo/bar"
(pathname-directory (dirname "/foo/bar/baz"))
  <b>RETURNS</b> (:absolute "foo" "bar")
(pathname-directory (dirname "/foo/bar/baz" nil))
  <b>RETURNS</b> (:absolute "foo")
(pathname-name (dirname "/foo/bar/baz" nil))
  <b>RETURNS</b> "bar"
</pre>

<p id="619">
On Windows, drive and share names are considered part of the
<code>directory</code> component.
</p>

<hr>

<hr><h3 id="620"><a name="chdir-op-bookmarkxx"></a>chdir</h3><h3 id="621">Function</h3><h4 id="622">Package: excl</h4>

<p id="623"><b>Arguments: </b><i>
</i> &amp;optional <i>directory</i><i>
</i></p>

<p id="624">
Change the current working directory to the directory given by the
<i>directory</i> argument.  If no directory is given,
change to the user's home directory.  On success a string representing
the new current working directory is returned.  On failure an error of
type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="625">
<a href="os-interface.htm#chdir-op-bookmarkxx"><b>chdir</b></a>
does not change <a href="../ansicl/dictentr/default-.htm"><code>*default-pathname-defaults*</code></a>.
</p>
<p id="626">
The symbol naming this function is in the
<code>excl</code> package and exported from the
<code>excl.osi</code> package. This function was defined in
Allegro CL prior to the release of the <code>:osi</code>
module. Its manual page is <a href="operators/excl/chdir.htm"><b>here</b></a>.
</p>

<hr>

<hr><h3 id="627"><a name="fchdir-op-bookmarkxx"></a>fchdir</h3><h3 id="628">Function</h3><h4 id="629">Package: excl.osi</h4>

<p id="630"><b>Arguments: </b><i>
stream
</i></p>

<p id="631">
Change the current working directory to the directory given by the
<i>stream</i> argument.  <code>(fchdir
stream)</code> is equivalent to:
</p>
<pre id="632">
(chdir (dirname stream))
</pre>

<p id="633">
See <a href="os-interface.htm#chdir-op-bookmarkxx"><b>chdir</b></a>. Note that <a href="os-interface.htm#chdir-op-bookmarkxx"><b>chdir</b></a> (and thus
<a href="os-interface.htm#fchdir-op-bookmarkxx"><b>fchdir</b></a>) do not change <a href="../ansicl/dictentr/default-.htm"><code>*default-pathname-defaults*</code></a>.
</p>

<hr>

<hr><h3 id="634"><a name="getcwd-op-bookmarkxx"></a>getcwd</h3><h3 id="635">Function</h3><h4 id="636">Package: excl.osi</h4>

<p id="637"><b>Arguments: </b><i>
</i></p>

<p id="638">
Return the current working directory as a pathname. This function is
the same as <a href="operators/excl/current-directory.htm"><b>current-directory</b></a>.
</p>

<hr>

<hr><h3 id="639"><a name="realpath-op-bookmarkxx"></a>realpath</h3><h3 id="640">Function</h3><h4 id="641">Package: excl.osi</h4>

<p id="642"><b>Arguments: </b><i>
filespec
</i></p>

<p id="643">
Return a pathname which is the canonicalized form of
<i>filespec</i>.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.  See the UNIX manual
page for realpath(3) for more information on how
<i>filespec</i> is canonicalized.
</p>
<p id="644">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="645"><a name="copy-file-op-bookmarkxx"></a>copy-file</h3><h3 id="646">Function</h3><h4 id="647">Package: system</h4>

<p id="648"><b>Arguments: </b><i>from-pathname to-pathname 
</i>&amp;key <i>link overwrite preserve-symbolic-links preserve-time remove-destination force</i></p>

<p id="649">
Copy <i>from-pathname</i> to
<i>to-pathname</i>. The keyword arguments specify how to
handle particular situations and how to handle links.
</p>
<p id="650">
The symbol naming this function is in the <code>system</code>
package and exported from the <code>excl.osi</code>
package. This function was defined in Allegro CL prior to the release
of the <code>:osi</code> module (though the
<i>remove-destination</i> and <i>force</i>
keyword arguments were added with the release of the
<code>:osi</code> module). Its manual page is <a href="operators/system/copy-file.htm"><b>here</b></a>. The keywords
arguments are fully described on that page.
</p>

<hr>

<hr><h3 id="651"><a name="os-open-op-bookmarkxx"></a>os-open</h3><h3 id="652">Function</h3><h4 id="653">Package: excl.osi</h4>

<p id="654"><b>Arguments: </b><i>
filespec flags </i> &amp;optional <i>mode</i><i>
</i></p>

<p id="655">
Open <i>filespec</i> for reading, writing or both. The
<i>flags</i> and <i>mode</i> arguments are
defined by the open(2) system call documentation on each system. The
value returned, if successful, is a Common Lisp stream. On failure an
error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="656">
The utility of <a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a> is for being able to use
open(2) flags for which there is no corresponding feature in Allegro.
<code>O_EXCL</code> is a good example of such a flag. Be aware
that using system specific flags will make your programs non-portable.
Consult the operating system documentation on the systems you care
about to make sure the flags in question exist on those platforms.
</p>
<p id="657">
See <a href="os-interface.htm#with-os-open-file-op-bookmarkxx"><b>with-os-open-file</b></a>, which is a
<a href="../ansicl/dictentr/with-op0.htm"><b>cl:with-open-file</b></a> analog using
<a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a> instead of <a href="../ansicl/dictentr/open.htm"><b>cl:open</b></a> to open the file.
</p>

<hr>

<hr><h3 id="658"><a name="with-os-open-file-op-bookmarkxx"></a>with-os-open-file</h3><h3 id="659">Macro</h3><h4 id="660">Package: excl.osi</h4>

<p id="661"><b>Arguments: </b><i>
(var </i> &amp;rest <i>rest os-open-args</i><i>) </i> &amp;body <i>body</i><i>
</i></p>

<p id="662">
This macro works like <a href="../ansicl/dictentr/with-op0.htm"><b>cl:with-open-file</b></a> except it uses <a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a> instead of <a href="../ansicl/dictentr/open.htm"><b>cl:open</b></a> to open the file. It binds
<i>var</i> to a stream returned by <a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a>,
executes <i>body</i> and then closes the stream. This
macro makes sure the stream is closed when the
<i>body</i> exits, regardless of whether the exit is
normal or non-local (i.e. caused by a throw or an
error). <i>os-open-args</i> are given directly to
<a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a>.
</p>
<p id="663">
This macro was added to a module in a patch released around April 4,
2003. You must have updated (using <a href="operators/system/update-allegro.htm"><b>sys:update-allegro</b></a>) after that date for this
macro to be defined.
</p>

<hr>

<hr><h3 id="664"><a name="os-close-op-bookmarkxx"></a>os-close</h3><h3 id="665">Function</h3><h4 id="666">Package: excl.osi</h4>

<p id="667"><b>Arguments: </b><i>
stream
</i></p>

<p id="668">
The same as <a href="../ansicl/dictentr/close.htm"><b>common-lisp:close</b></a>,
provided for symmetry with <a href="os-interface.htm#os-open-op-bookmarkxx"><b>os-open</b></a>. <code>(excl.osi:os-close
stream)</code> is the same as <code>(cl:close stream)</code>.
</p>


<hr>


<hr><h3 id="669"><a name="get-filesystem-free-space-op-bookmarkxx"></a>get-filesystem-free-space</h3><h3 id="670">Function</h3><h4 id="671">Package: excl.osi</h4>

<p id="672"><b>Arguments: </b><i>
filespec
</i></p>

<p id="673">
get-filesystem-free-space returns three values indicating space
information about the filesystem on which `filespec' resides.

<ul>
<li id="674"><i>available</i>: The number of free bytes that
are available to the user making the call.</li>
<li id="675"><i>total-free</i>: The number of free bytes
in the filesystem.</li>
<li id="676"><i>total-size</i>: The size of the filesystem (in bytes).</li>
</ul>
</p>

<p id="677">
For various reasons, it is not unusual for 'available' to be less than
'total-free'.  For example, if filesystem quotas are in place,
'available' will indicate the amount remaining in your quota. On
Unix filesystems, it is common to reserve a portion of free space such
that it can only be used by the root user. In those cases,
'available' will report the free space available to non-root users and
'total-free' will report the free space available to root.
</p>

<hr>




<hr><h2 id="678"><a name="osi-time-2">Appendix A.2 OSI time functionality</a></h2>


<ul>
<li id="679">
<a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a> 
</li>
<li id="680">
<a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a> 
</li>
<li id="681">
<a href="os-interface.htm#ctime-op-bookmarkxx"><b>ctime</b></a> 
</li>
</ul>

<hr><h3 id="682"><a name="universal-to-unix-time-op-bookmarkxx"></a>universal-to-unix-time</h3><h3 id="683">Function</h3><h4 id="684">Package: excl.osi</h4>

<p id="685"><b>Arguments: </b><i>
universal-time
</i></p>

<p id="686">
Convert the argument <i>universal-time</i> to a UNIX
time. See <a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a> for more
information. See also <a href="os-interface.htm#unix-to-universal-time-op-bookmarkxx"><b>unix-to-universal-time</b></a>.
</p>

<hr>

<hr><h3 id="687"><a name="unix-to-universal-time-op-bookmarkxx"></a>unix-to-universal-time</h3><h3 id="688">Function</h3><h4 id="689">Package: excl.osi</h4>

<p id="690"><b>Arguments: </b><i>
unix-time
</i></p>


<p id="691">
Convert the argument <i>unix-time</i> to a universal
time. See <a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a> for more
information. See also <a href="os-interface.htm#universal-to-unix-time-op-bookmarkxx"><b>universal-to-unix-time</b></a>.
</p>

<hr>

<hr><h3 id="692"><a name="ctime-op-bookmarkxx"></a>ctime</h3><h3 id="693">Function</h3><h4 id="694">Package: excl.osi</h4>

<p id="695"><b>Arguments: </b><i>
</i> &amp;optional <i>ut</i><i>
</i></p>

<p id="696">
Return a string containing the time as of <i>ut</i>
(which is a universal time) in the same format as the UNIX library
routine ctime(3). In ACL, this is:
</p>
<pre id="697">
(locale-print-time ut :fmt "%a %b %d %T %Y")
</pre>

<p id="698">
Here are a couple of examples. They indicate that
<i>ut</i> defaults to the current time, as returned by
<a href="../ansicl/dictentr/get-univ.htm"><b>get-universal-time</b></a> (the times
differ by a few seconds because they were run sequentially).
</p>

<pre id="699">
cl-user(2): (excl.osi:ctime)
"Thu Oct 24 10:11:30 2002"
cl-user(3): (excl.osi:ctime (get-universal-time))
"Thu Oct 24 10:11:36 2002"
cl-user(4): 
</pre>


<p id="700">
See <a href="#os-time-routines-2">Section 7.1 System calls and library routines dealing with time</a> for more
information.
</p>

<hr>



<hr><h2 id="701"><a name="osi-password-2">Appendix A.3 OSI password functionality</a></h2>

<ul>
<li id="702">
<a href="os-interface.htm#setpwent-op-bookmarkxx"><b>setpwent</b></a> 
</li>
<li id="703">
<a href="os-interface.htm#endpwent-op-bookmarkxx"><b>endpwent</b></a> 
</li>
<li id="704">
<a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a> 
</li>
<li id="705">
<a href="os-interface.htm#getpwnam-op-bookmarkxx"><b>getpwnam</b></a> 
</li>
<li id="706">
<a href="os-interface.htm#getpwuid-op-bookmarkxx"><b>getpwuid</b></a> 
</li>
<li id="707">
<a href="os-interface.htm#pwent-p-op-bookmarkxx"><b>pwent-p</b></a> 
</li>
<li id="708">
<a href="os-interface.htm#pwent-dir-op-bookmarkxx"><b>pwent-dir</b></a> 
</li>
<li id="709">
<a href="os-interface.htm#pwent-gcos-op-bookmarkxx"><b>pwent-gcos</b></a> 
</li>
<li id="710">
<a href="os-interface.htm#pwent-gid-op-bookmarkxx"><b>pwent-gid</b></a> 
</li>
<li id="711">
<a href="os-interface.htm#pwent-name-op-bookmarkxx"><b>pwent-name</b></a> 
</li>
<li id="712">
<a href="os-interface.htm#pwent-passwd-op-bookmarkxx"><b>pwent-passwd</b></a> 
</li>
<li id="713">
<a href="os-interface.htm#pwent-shell-op-bookmarkxx"><b>pwent-shell</b></a> 
</li>
<li id="714">
<a href="os-interface.htm#pwent-uid-op-bookmarkxx"><b>pwent-uid</b></a> 
</li>
</ul>


<hr><h3 id="715"><a name="setpwent-op-bookmarkxx"></a>setpwent</h3><h3 id="716">Function</h3><h4 id="717">Package: excl.osi</h4>

<p id="718"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="719">
This function rewinds the file pointer to the beginning of the
<i>/etc/passwd</i> file so <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a> can
be used to iterate over all the entries.
</p>

<hr>

<hr><h3 id="720"><a name="endpwent-op-bookmarkxx"></a>endpwent</h3><h3 id="721">Function</h3><h4 id="722">Package: excl.osi</h4>

<p id="723"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="724">
This function closes the <i>/etc/passwd</i> file. See
<a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="725"><a name="getpwent-op-bookmarkxx"></a>getpwent</h3><h3 id="726">Function</h3><h4 id="727">Package: excl.osi</h4>

<p id="728"><b>Arguments: </b><i>
</i></p>

<p id="729">
Return a pwent (i.e. password entry) structure corrsponding to the
current entry in the file <i>/etc/passwd</i>. The pwent
accessors are used to extract values from the structure, and the
functions <a href="os-interface.htm#setpwent-op-bookmarkxx"><b>setpwent</b></a> and <a href="os-interface.htm#endpwent-op-bookmarkxx"><b>endpwent</b></a> are
used to open and close the passwd file. See the Operating System
documentation about passwords for details of the pwent structures and
the specifics of this and related functions.
</p>
<p id="730">
<a href="os-interface.htm#pwent-p-op-bookmarkxx"><b>pwent-p</b></a> returns true if its
argument is a pwent structure. pwent structures have the following
accessors:
</p>

<ul>
<li id="731">
<a href="os-interface.htm#pwent-dir-op-bookmarkxx"><b>pwent-dir</b></a> 
</li>
<li id="732">
<a href="os-interface.htm#pwent-gcos-op-bookmarkxx"><b>pwent-gcos</b></a> 
</li>
<li id="733">
<a href="os-interface.htm#pwent-gid-op-bookmarkxx"><b>pwent-gid</b></a> 
</li>
<li id="734">
<a href="os-interface.htm#pwent-name-op-bookmarkxx"><b>pwent-name</b></a> 
</li>
<li id="735">
<a href="os-interface.htm#pwent-passwd-op-bookmarkxx"><b>pwent-passwd</b></a> 
</li>
<li id="736">
<a href="os-interface.htm#pwent-shell-op-bookmarkxx"><b>pwent-shell</b></a> 
</li>
<li id="737">
<a href="os-interface.htm#pwent-uid-op-bookmarkxx"><b>pwent-uid</b></a>
</li>
</ul>

<p id="738">
The pwent functions are only available on UNIX.
</p>

<hr>

<hr><h3 id="739"><a name="getpwnam-op-bookmarkxx"></a>getpwnam</h3><h3 id="740">Function</h3><h4 id="741">Package: excl.osi</h4>

<p id="742"><b>Arguments: </b><i>
name
</i></p>

<p id="743">
Get a pwent structure by name. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="744"><a name="getpwuid-op-bookmarkxx"></a>getpwuid</h3><h3 id="745">Function</h3><h4 id="746">Package: excl.osi</h4>

<p id="747"><b>Arguments: </b><i>
uid
</i></p>

<p id="748">
Get a pwent structure by uid. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="749"><a name="pwent-p-op-bookmarkxx"></a>pwent-p</h3><h3 id="750">Function</h3><h4 id="751">Package: excl.osi</h4>

<p id="752"><b>Arguments: </b><i>
object
</i></p>

<p id="753">
Return <code>t</code> if the argument is a pwent, <code>nil</code> otherwise. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>


<hr>

<hr><h3 id="754"><a name="pwent-dir-op-bookmarkxx"></a>pwent-dir</h3><h3 id="755">Function</h3><h4 id="756">Package: excl.osi</h4>

<p id="757"><b>Arguments: </b><i>
struct
</i></p>

<p id="758">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="759"><a name="pwent-gcos-op-bookmarkxx"></a>pwent-gcos</h3><h3 id="760">Function</h3><h4 id="761">Package: excl.osi</h4>

<p id="762"><b>Arguments: </b><i>
struct
</i></p>

<p id="763">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="764"><a name="pwent-gid-op-bookmarkxx"></a>pwent-gid</h3><h3 id="765">Function</h3><h4 id="766">Package: excl.osi</h4>

<p id="767"><b>Arguments: </b><i>
struct
</i></p>

<p id="768">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="769"><a name="pwent-name-op-bookmarkxx"></a>pwent-name</h3><h3 id="770">Function</h3><h4 id="771">Package: excl.osi</h4>

<p id="772"><b>Arguments: </b><i>
pwent
</i></p>

<p id="773">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>. 
</p>

<hr>

<hr><h3 id="774"><a name="pwent-passwd-op-bookmarkxx"></a>pwent-passwd</h3><h3 id="775">Function</h3><h4 id="776">Package: excl.osi</h4>

<p id="777"><b>Arguments: </b><i>
pwent
</i></p>

<p id="778">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="779"><a name="pwent-shell-op-bookmarkxx"></a>pwent-shell</h3><h3 id="780">Function</h3><h4 id="781">Package: excl.osi</h4>

<p id="782"><b>Arguments: </b><i>
pwent
</i></p>

<p id="783">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>

<hr><h3 id="784"><a name="pwent-uid-op-bookmarkxx"></a>pwent-uid</h3><h3 id="785">Function</h3><h4 id="786">Package: excl.osi</h4>

<p id="787"><b>Arguments: </b><i>
pwent
</i></p>

<p id="788">
Accessor for the pwent type. See <a href="os-interface.htm#getpwent-op-bookmarkxx"><b>getpwent</b></a>.
</p>

<hr>



<hr><h2 id="789"><a name="osi-shadow-password-2">Appendix A.4 OSI shadow password functionality</a></h2>

<ul>
<li id="790">
<a href="os-interface.htm#shadow-passwd-supported-p-op-bookmarkxx"><b>shadow-passwd-supported-p</b></a> 
</li>
<li id="791">
<a href="os-interface.htm#setspent-op-bookmarkxx"><b>setspent</b></a> 
</li>
<li id="792">
<a href="os-interface.htm#endspent-op-bookmarkxx"><b>endspent</b></a> 
</li>
<li id="793">
<a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a> 
</li>
<li id="794">
<a href="os-interface.htm#getspnam-op-bookmarkxx"><b>getspnam</b></a> 
</li>
<li id="795">
<a href="os-interface.htm#spwd-p-op-bookmarkxx"><b>spwd-p</b></a> 
</li>
<li id="796">
<a href="os-interface.htm#spwd-expire-op-bookmarkxx"><b>spwd-expire</b></a> 
</li>
<li id="797">
<a href="os-interface.htm#spwd-inact-op-bookmarkxx"><b>spwd-inact</b></a> 
</li>
<li id="798">
<a href="os-interface.htm#spwd-last-change-op-bookmarkxx"><b>spwd-last-change</b></a> 
</li>
<li id="799">
<a href="os-interface.htm#spwd-max-op-bookmarkxx"><b>spwd-max</b></a> 
</li>
<li id="800">
<a href="os-interface.htm#spwd-min-op-bookmarkxx"><b>spwd-min</b></a> 
</li>
<li id="801">
<a href="os-interface.htm#spwd-name-op-bookmarkxx"><b>spwd-name</b></a> 
</li>
<li id="802">
<a href="os-interface.htm#spwd-passwd-op-bookmarkxx"><b>spwd-passwd</b></a> 
</li>
<li id="803">
<a href="os-interface.htm#spwd-warn-op-bookmarkxx"><b>spwd-warn</b></a> 
</li>
</ul>

<hr><h3 id="804"><a name="shadow-passwd-supported-p-op-bookmarkxx"></a>shadow-passwd-supported-p</h3><h3 id="805">Function</h3><h4 id="806">Package: excl.osi</h4>

<p id="807"><b>Arguments: </b><i>
</i></p>

<p id="808">
Return <code>t</code> if shadow passwd support is
available on this version of Lisp.
</p>

<hr>

<hr><h3 id="809"><a name="setspent-op-bookmarkxx"></a>setspent</h3><h3 id="810">Function</h3><h4 id="811">Package: excl.osi</h4>

<p id="812"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="813">
This function rewinds the file pointer to the beginning of the shadow
passwd file so <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a> can be used to iterate
over all the entries.
</p>

<hr>

<hr><h3 id="814"><a name="endspent-op-bookmarkxx"></a>endspent</h3><h3 id="815">Function</h3><h4 id="816">Package: excl.osi</h4>

<p id="817"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="818">
This function closes the shadow passwd file. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a> and
<a href="os-interface.htm#setspent-op-bookmarkxx"><b>setspent</b></a>.
</p>

<hr>

<hr><h3 id="819"><a name="getspent-op-bookmarkxx"></a>getspent</h3><h3 id="820">Function</h3><h4 id="821">Package: excl.osi</h4>

<p id="822"><b>Arguments: </b><i>
</i></p>

<p id="823">
Return a spwd (i.e. shadow password) structure corrsponding to the
current entry in the shadow passwd file.  The spwd accessors are used
to extract values from the structure, and the functions <a href="os-interface.htm#setspent-op-bookmarkxx"><b>setspent</b></a> and <a href="os-interface.htm#endspent-op-bookmarkxx"><b>endspent</b></a> are
used to open and close the shadow passwd file.
</p>
<p id="824">
<a href="os-interface.htm#spwd-p-op-bookmarkxx"><b>spwd-p</b></a> returns true if its
argument is a spwd structure. The accessors for spwd structures are:
</p>

<ul>
<li id="825">
<a href="os-interface.htm#spwd-expire-op-bookmarkxx"><b>spwd-expire</b></a> 
</li>
<li id="826">
<a href="os-interface.htm#spwd-inact-op-bookmarkxx"><b>spwd-inact</b></a> 
</li>
<li id="827">
<a href="os-interface.htm#spwd-last-change-op-bookmarkxx"><b>spwd-last-change</b></a> 
</li>
<li id="828">
<a href="os-interface.htm#spwd-max-op-bookmarkxx"><b>spwd-max</b></a> 
</li>
<li id="829">
<a href="os-interface.htm#spwd-min-op-bookmarkxx"><b>spwd-min</b></a> 
</li>
<li id="830">
<a href="os-interface.htm#spwd-name-op-bookmarkxx"><b>spwd-name</b></a> 
</li>
<li id="831">
<a href="os-interface.htm#spwd-passwd-op-bookmarkxx"><b>spwd-passwd</b></a> 
</li>
<li id="832">
<a href="os-interface.htm#spwd-warn-op-bookmarkxx"><b>spwd-warn</b></a> 
</li>
</ul>

<p id="833">
The spwd functions are only available on some versions of UNIX.
</p>

<hr>

<hr><h3 id="834"><a name="getspnam-op-bookmarkxx"></a>getspnam</h3><h3 id="835">Function</h3><h4 id="836">Package: excl.osi</h4>

<p id="837"><b>Arguments: </b><i>
name
</i></p>

<p id="838">
Get a spwd structure by name. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="839"><a name="spwd-p-op-bookmarkxx"></a>spwd-p</h3><h3 id="840">Function</h3><h4 id="841">Package: excl.osi</h4>

<p id="842"><b>Arguments: </b><i>
object
</i></p>

<p id="843">
Return <code>t</code> if the argument is a spwd, <code>nil</code> otherwise. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="844"><a name="spwd-expire-op-bookmarkxx"></a>spwd-expire</h3><h3 id="845">Function</h3><h4 id="846">Package: excl.osi</h4>

<p id="847"><b>Arguments: </b><i>
spwd
</i></p>

<p id="848">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="849"><a name="spwd-inact-op-bookmarkxx"></a>spwd-inact</h3><h3 id="850">Function</h3><h4 id="851">Package: excl.osi</h4>

<p id="852"><b>Arguments: </b><i>
spwd
</i></p>

<p id="853">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="854"><a name="spwd-last-change-op-bookmarkxx"></a>spwd-last-change</h3><h3 id="855">Function</h3><h4 id="856">Package: excl.osi</h4>

<p id="857"><b>Arguments: </b><i>
spwd
</i></p>

<p id="858">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="859"><a name="spwd-max-op-bookmarkxx"></a>spwd-max</h3><h3 id="860">Function</h3><h4 id="861">Package: excl.osi</h4>

<p id="862"><b>Arguments: </b><i>
spwd
</i></p>

<p id="863">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="864"><a name="spwd-min-op-bookmarkxx"></a>spwd-min</h3><h3 id="865">Function</h3><h4 id="866">Package: excl.osi</h4>

<p id="867"><b>Arguments: </b><i>
spwd
</i></p>

<p id="868">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="869"><a name="spwd-name-op-bookmarkxx"></a>spwd-name</h3><h3 id="870">Function</h3><h4 id="871">Package: excl.osi</h4>

<p id="872"><b>Arguments: </b><i>
spwd
</i></p>

<p id="873">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="874"><a name="spwd-passwd-op-bookmarkxx"></a>spwd-passwd</h3><h3 id="875">Function</h3><h4 id="876">Package: excl.osi</h4>

<p id="877"><b>Arguments: </b><i>
spwd
</i></p>

<p id="878">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>

<hr><h3 id="879"><a name="spwd-warn-op-bookmarkxx"></a>spwd-warn</h3><h3 id="880">Function</h3><h4 id="881">Package: excl.osi</h4>

<p id="882"><b>Arguments: </b><i>
spwd
</i></p>

<p id="883">
Accessor for the spwd type. See <a href="os-interface.htm#getspent-op-bookmarkxx"><b>getspent</b></a>.
</p>

<hr>



<hr><h2 id="884"><a name="osi-group-file-access-2">Appendix A.5 OSI group file access</a></h2>

<ul>
<li id="885">
<a href="os-interface.htm#setgrent-op-bookmarkxx"><b>setgrent</b></a> 
</li>
<li id="886">
<a href="os-interface.htm#endgrent-op-bookmarkxx"><b>endgrent</b></a> 
</li>
<li id="887">
<a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a> 
</li>
<li id="888">
<a href="os-interface.htm#grent-p-op-bookmarkxx"><b>grent-p</b></a> 
</li>
<li id="889">
<a href="os-interface.htm#grent-gid-op-bookmarkxx"><b>grent-gid</b></a> 
</li>
<li id="890">
<a href="os-interface.htm#grent-mem-op-bookmarkxx"><b>grent-mem</b></a> 
</li>
<li id="891">
<a href="os-interface.htm#grent-name-op-bookmarkxx"><b>grent-name</b></a> 
</li>
<li id="892">
<a href="os-interface.htm#grent-passwd-op-bookmarkxx"><b>grent-passwd</b></a> 
</li>
<li id="893">
<a href="os-interface.htm#getgrnam-op-bookmarkxx"><b>getgrnam</b></a> 
</li>
<li id="894">
<a href="os-interface.htm#getgrgid-op-bookmarkxx"><b>getgrgid</b></a> 
</li>
</ul>

<hr><h3 id="895"><a name="setgrent-op-bookmarkxx"></a>setgrent</h3><h3 id="896">Function</h3><h4 id="897">Package: excl.osi</h4>

<p id="898"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="899">
This function rewinds the file pointer to the beginning of
<i>/etc/group</i> so <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a> can
be used to iterate over all the entries.
</p>

<hr>

<hr><h3 id="900"><a name="endgrent-op-bookmarkxx"></a>endgrent</h3><h3 id="901">Function</h3><h4 id="902">Package: excl.osi</h4>

<p id="903"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="904">
This function closes the group file. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="905"><a name="getgrent-op-bookmarkxx"></a>getgrent</h3><h3 id="906">Function</h3><h4 id="907">Package: excl.osi</h4>

<p id="908"><b>Arguments: </b><i>
</i></p>

<p id="909">
Return a grent structure corrsponding to the current entry in the file
<i>/etc/group</i>. The grent accessors are used to
extract values from the structure, and the functions <a href="os-interface.htm#setgrent-op-bookmarkxx"><b>setgrent</b></a> and
<a href="os-interface.htm#endgrent-op-bookmarkxx"><b>endgrent</b></a> are used to open and
close the group file.
</p>
<p id="910">
<a href="os-interface.htm#grent-p-op-bookmarkxx"><b>grent-p</b></a> returns true if its
argument is a grent structure. The accessors for grent structures are:
</p>

<ul>
<li id="911">
<a href="os-interface.htm#grent-gid-op-bookmarkxx"><b>grent-gid</b></a> 
</li>
<li id="912">
<a href="os-interface.htm#grent-mem-op-bookmarkxx"><b>grent-mem</b></a> 
</li>
<li id="913">
<a href="os-interface.htm#grent-name-op-bookmarkxx"><b>grent-name</b></a> 
</li>
<li id="914">
<a href="os-interface.htm#grent-passwd-op-bookmarkxx"><b>grent-passwd</b></a> 
</li>
</ul>
<p id="915">
This grent functions are only available on UNIX.
</p>

<hr>

<hr><h3 id="916"><a name="grent-p-op-bookmarkxx"></a>grent-p</h3><h3 id="917">Function</h3><h4 id="918">Package: excl.osi</h4>

<p id="919"><b>Arguments: </b><i>
object
</i></p>

<p id="920">
Return <code>t</code> if the argument is a grent, <code>nil</code> otherwise. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="921"><a name="grent-gid-op-bookmarkxx"></a>grent-gid</h3><h3 id="922">Function</h3><h4 id="923">Package: excl.osi</h4>

<p id="924"><b>Arguments: </b><i>
gid
</i></p>

<p id="925">
Accessor for the grent type. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="926"><a name="grent-mem-op-bookmarkxx"></a>grent-mem</h3><h3 id="927">Function</h3><h4 id="928">Package: excl.osi</h4>

<p id="929"><b>Arguments: </b><i>
gid
</i></p>

<p id="930">
Accessor for the grent type. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="931"><a name="grent-name-op-bookmarkxx"></a>grent-name</h3><h3 id="932">Function</h3><h4 id="933">Package: excl.osi</h4>

<p id="934"><b>Arguments: </b><i>
gid
</i></p>

<p id="935">
Accessor for the grent type. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="936"><a name="grent-passwd-op-bookmarkxx"></a>grent-passwd</h3><h3 id="937">Function</h3><h4 id="938">Package: excl.osi</h4>

<p id="939"><b>Arguments: </b><i>
gid
</i></p>

<p id="940">
Accessor for the grent type. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="941"><a name="getgrnam-op-bookmarkxx"></a>getgrnam</h3><h3 id="942">Function</h3><h4 id="943">Package: excl.osi</h4>

<p id="944"><b>Arguments: </b><i>
name
</i></p>


<p id="945">
Get a grent structure by name. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>

<hr><h3 id="946"><a name="getgrgid-op-bookmarkxx"></a>getgrgid</h3><h3 id="947">Function</h3><h4 id="948">Package: excl.osi</h4>

<p id="949"><b>Arguments: </b><i>
gid
</i></p>

<p id="950">
Get a grent structure by uid. See <a href="os-interface.htm#getgrent-op-bookmarkxx"><b>getgrent</b></a>.
</p>

<hr>



<hr><h2 id="951"><a name="osi-networks-file-access-2">Appendix A.6 OSI networks file access</a></h2>

<ul>
<li id="952">
<a href="os-interface.htm#setnetent-op-bookmarkxx"><b>setnetent</b></a> 
</li>
<li id="953">
<a href="os-interface.htm#endnetent-op-bookmarkxx"><b>endnetent</b></a> 
</li>
<li id="954">
<a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a> 
</li>
<li id="955">
<a href="os-interface.htm#netent-p-op-bookmarkxx"><b>netent-p</b></a> 
</li>
<li id="956">
<a href="os-interface.htm#netent-addrtype-op-bookmarkxx"><b>netent-addrtype</b></a> 
</li>
<li id="957">
<a href="os-interface.htm#netent-aliases-op-bookmarkxx"><b>netent-aliases</b></a> 
</li>
<li id="958">
<a href="os-interface.htm#netent-name-op-bookmarkxx"><b>netent-name</b></a> 
</li>
<li id="959">
<a href="os-interface.htm#netent-net-op-bookmarkxx"><b>netent-net</b></a> 
</li>
<li id="960">
<a href="os-interface.htm#getnetbyname-op-bookmarkxx"><b>getnetbyname</b></a> 
</li>
<li id="961">
<a href="os-interface.htm#getnetbyaddr-op-bookmarkxx"><b>getnetbyaddr</b></a> 
</li>
<li id="962">
<a href="os-interface.htm#setservent-op-bookmarkxx"><b>setservent</b></a> 
</li>
</ul>

<hr><h3 id="963"><a name="setnetent-op-bookmarkxx"></a>setnetent</h3><h3 id="964">Function</h3><h4 id="965">Package: excl.osi</h4>

<p id="966"><b>Arguments: </b><i>
</i> &amp;optional <i>stay-open</i><i>
</i></p>

<p id="967">
This function rewinds the file pointer to the beginning of
<i>/etc/networks</i> so <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a> can
be used to iterate over all the entries.  The argument
<i>stay-open</i> is non-<code>nil</code>,
then the file will not be closed between calls to <a href="os-interface.htm#getnetbyname-op-bookmarkxx"><b>getnetbyname</b></a>
and <a href="os-interface.htm#getnetbyaddr-op-bookmarkxx"><b>getnetbyaddr</b></a>.
</p>

<hr>

<hr><h3 id="968"><a name="endnetent-op-bookmarkxx"></a>endnetent</h3><h3 id="969">Function</h3><h4 id="970">Package: excl.osi</h4>

<p id="971"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="972">
This function closes the networks file. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>

<hr>

<hr><h3 id="973"><a name="getnetent-op-bookmarkxx"></a>getnetent</h3><h3 id="974">Function</h3><h4 id="975">Package: excl.osi</h4>

<p id="976"><b>Arguments: </b><i>
</i></p>

<p id="977">
Return a netent structure corrsponding to the current entry in the
file <i>/etc/networks</i>. The netent accessors are
used to extract values from the structure, and the functions <a href="os-interface.htm#setnetent-op-bookmarkxx"><b>setnetent</b></a> and <a href="os-interface.htm#endnetent-op-bookmarkxx"><b>endnetent</b></a> are
used to open and close the networks file.
</p>
<p id="978">
<a href="os-interface.htm#netent-p-op-bookmarkxx"><b>netent-p</b></a> returns true if its
argument is a netent structure. The netent accessors are:
</p>

<ul>
<li id="979">
<a href="os-interface.htm#netent-addrtype-op-bookmarkxx"><b>netent-addrtype</b></a> 
</li>
<li id="980">
<a href="os-interface.htm#netent-aliases-op-bookmarkxx"><b>netent-aliases</b></a> 
</li>
<li id="981">
<a href="os-interface.htm#netent-name-op-bookmarkxx"><b>netent-name</b></a> 
</li>
<li id="982">
<a href="os-interface.htm#netent-net-op-bookmarkxx"><b>netent-net</b></a> 
</li>
</ul>
<p id="983">
The netent functions are only available on UNIX.
</p>

<hr>

<hr><h3 id="984"><a name="netent-p-op-bookmarkxx"></a>netent-p</h3><h3 id="985">Function</h3><h4 id="986">Package: excl.osi</h4>

<p id="987"><b>Arguments: </b><i>
object
</i></p>

<p id="988">
Return <code>t</code> if the argument is a netent, <code>nil</code> otherwise. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>. 
</p>

<hr>

<hr><h3 id="989"><a name="netent-addrtype-op-bookmarkxx"></a>netent-addrtype</h3><h3 id="990">Function</h3><h4 id="991">Package: excl.osi</h4>

<p id="992"><b>Arguments: </b><i>
netent
</i></p>

<p id="993">
Accessor for the netent type. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>

<hr>

<hr><h3 id="994"><a name="netent-aliases-op-bookmarkxx"></a>netent-aliases</h3><h3 id="995">Function</h3><h4 id="996">Package: excl.osi</h4>

<p id="997"><b>Arguments: </b><i>
netent
</i></p>

<p id="998">
Accessor for the netent type. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>
<p id="999"><b>Arguments: </b><i>
</i></p>

<hr>

<hr><h3 id="1000"><a name="netent-name-op-bookmarkxx"></a>netent-name</h3><h3 id="1001">Function</h3><h4 id="1002">Package: excl.osi</h4>

<p id="1003"><b>Arguments: </b><i>
netent
</i></p>

<p id="1004">
Accessor for the netent type. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>

<hr>

<hr><h3 id="1005"><a name="netent-net-op-bookmarkxx"></a>netent-net</h3><h3 id="1006">Function</h3><h4 id="1007">Package: excl.osi</h4>

<p id="1008"><b>Arguments: </b><i>
netent
</i></p>

<p id="1009">
Accessor for the netent type. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>

<hr>

<hr><h3 id="1010"><a name="getnetbyname-op-bookmarkxx"></a>getnetbyname</h3><h3 id="1011">Function</h3><h4 id="1012">Package: excl.osi</h4>

<p id="1013"><b>Arguments: </b><i>
name
</i></p>

<p id="1014">
Get a netent structure by name. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>

<hr>

<hr><h3 id="1015"><a name="getnetbyaddr-op-bookmarkxx"></a>getnetbyaddr</h3><h3 id="1016">Function</h3><h4 id="1017">Package: excl.osi</h4>

<p id="1018"><b>Arguments: </b><i>
net type
</i></p>

<p id="1019">
Get a netent structure by address and type. See <a href="os-interface.htm#getnetent-op-bookmarkxx"><b>getnetent</b></a>.
</p>

<hr>




<hr><h2 id="1020"><a name="osi-services-file-access-2">Appendix A.7 OSI services file access</a></h2>

<ul>
<li id="1021">
<a href="os-interface.htm#endservent-op-bookmarkxx"><b>endservent</b></a> 
</li>
<li id="1022">
<a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a> 
</li>
<li id="1023">
<a href="os-interface.htm#servent-p-op-bookmarkxx"><b>servent-p</b></a> 
</li>
<li id="1024">
<a href="os-interface.htm#servent-aliases-op-bookmarkxx"><b>servent-aliases</b></a> 
</li>
<li id="1025">
<a href="os-interface.htm#servent-name-op-bookmarkxx"><b>servent-name</b></a> 
</li>
<li id="1026">
<a href="os-interface.htm#servent-port-op-bookmarkxx"><b>servent-port</b></a> 
</li>
<li id="1027">
<a href="os-interface.htm#servent-proto-op-bookmarkxx"><b>servent-proto</b></a> 
</li>
<li id="1028">
<a href="os-interface.htm#getservbyname-op-bookmarkxx"><b>getservbyname</b></a> 
</li>
<li id="1029">
<a href="os-interface.htm#getservbyport-op-bookmarkxx"><b>getservbyport</b></a> 
</li>
</ul>

<hr><h3 id="1030"><a name="setservent-op-bookmarkxx"></a>setservent</h3><h3 id="1031">Function</h3><h4 id="1032">Package: excl.osi</h4>

<p id="1033"><b>Arguments: </b><i>
</i> &amp;optional <i>stay-open</i><i>
</i></p>

<p id="1034">
This function rewinds the file pointer to the beginning of
/etc/services so <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a> can be used to iterate
over all the entries. The argument <i>stay-open</i> is
non-<code>nil</code>, then the file will not be closed
between calls to <a href="os-interface.htm#getservbyname-op-bookmarkxx"><b>getservbyname</b></a> and <a href="os-interface.htm#getservbyport-op-bookmarkxx"><b>getservbyport</b></a>.
</p>

<hr>

<hr><h3 id="1035"><a name="endservent-op-bookmarkxx"></a>endservent</h3><h3 id="1036">Function</h3><h4 id="1037">Package: excl.osi</h4>

<p id="1038"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="1039">
This function closes the services file. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1040"><a name="getservent-op-bookmarkxx"></a>getservent</h3><h3 id="1041">Function</h3><h4 id="1042">Package: excl.osi</h4>

<p id="1043"><b>Arguments: </b><i>
</i></p>

<p id="1044">
Return a servent structure corrsponding to the current entry in the
file <i>/etc/services</i>. The servent accessors are
used to extract values from the structure, and the functions <a href="os-interface.htm#setservent-op-bookmarkxx"><b>setservent</b></a> and <a href="os-interface.htm#endservent-op-bookmarkxx"><b>endservent</b></a>
are used to open and close the services file.
</p>
<p id="1045">
<a href="os-interface.htm#servent-p-op-bookmarkxx"><b>servent-p</b></a> returns true if its
argument is a servent structure. The servent accessors are:
</p>

<ul>
<li id="1046">
<a href="os-interface.htm#servent-aliases-op-bookmarkxx"><b>servent-aliases</b></a> 
</li>
<li id="1047">
<a href="os-interface.htm#servent-name-op-bookmarkxx"><b>servent-name</b></a> 
</li>
<li id="1048">
<a href="os-interface.htm#servent-port-op-bookmarkxx"><b>servent-port</b></a> 
</li>
<li id="1049">
<a href="os-interface.htm#servent-proto-op-bookmarkxx"><b>servent-proto</b></a> 
</li>
</ul>
<p id="1050">
The servent functions are only available on UNIX.
</p>

<hr>

<hr><h3 id="1051"><a name="servent-p-op-bookmarkxx"></a>servent-p</h3><h3 id="1052">Function</h3><h4 id="1053">Package: excl.osi</h4>

<p id="1054"><b>Arguments: </b><i>
object
</i></p>

<p id="1055">
Return <code>t</code> if the argument is a servent,
<code>nil</code> otherwise. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1056"><a name="servent-aliases-op-bookmarkxx"></a>servent-aliases</h3><h3 id="1057">Function</h3><h4 id="1058">Package: excl.osi</h4>

<p id="1059"><b>Arguments: </b><i>
servent
</i></p>

<p id="1060">
Accessor for the servent type. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1061"><a name="servent-name-op-bookmarkxx"></a>servent-name</h3><h3 id="1062">Function</h3><h4 id="1063">Package: excl.osi</h4>

<p id="1064"><b>Arguments: </b><i>
servent
</i></p>

<p id="1065">
Accessor for the servent type. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1066"><a name="servent-port-op-bookmarkxx"></a>servent-port</h3><h3 id="1067">Function</h3><h4 id="1068">Package: excl.osi</h4>

<p id="1069"><b>Arguments: </b><i>
servent
</i></p>

<p id="1070">
Accessor for the servent type. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1071"><a name="servent-proto-op-bookmarkxx"></a>servent-proto</h3><h3 id="1072">Function</h3><h4 id="1073">Package: excl.osi</h4>

<p id="1074"><b>Arguments: </b><i>
servent
</i></p>

<p id="1075">
Accessor for the servent type. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1076"><a name="getservbyname-op-bookmarkxx"></a>getservbyname</h3><h3 id="1077">Function</h3><h4 id="1078">Package: excl.osi</h4>

<p id="1079"><b>Arguments: </b><i>
name proto
</i></p>

<p id="1080">
Get a servent structure by name and protocol. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>

<hr><h3 id="1081"><a name="getservbyport-op-bookmarkxx"></a>getservbyport</h3><h3 id="1082">Function</h3><h4 id="1083">Package: excl.osi</h4>

<p id="1084"><b>Arguments: </b><i>
port proto
</i></p>

<p id="1085">
Get a servent structure by port and protocol. See <a href="os-interface.htm#getservent-op-bookmarkxx"><b>getservent</b></a>.
</p>

<hr>




<hr><h2 id="1086"><a name="osi-protocols-file-access-2">Appendix A.8 OSI protocols file access</a></h2>

<ul>
<li id="1087">
<a href="os-interface.htm#setprotoent-op-bookmarkxx"><b>setprotoent</b></a> 
</li>
<li id="1088">
<a href="os-interface.htm#endprotoent-op-bookmarkxx"><b>endprotoent</b></a> 
</li>
<li id="1089">
<a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a> 
</li>
<li id="1090">
<a href="os-interface.htm#protoent-p-op-bookmarkxx"><b>protoent-p</b></a> 
</li>
<li id="1091">
<a href="os-interface.htm#protoent-aliases-op-bookmarkxx"><b>protoent-aliases</b></a> 
</li>
<li id="1092">
<a href="os-interface.htm#protoent-name-op-bookmarkxx"><b>protoent-name</b></a> 
</li>
<li id="1093">
<a href="os-interface.htm#protoent-proto-op-bookmarkxx"><b>protoent-proto</b></a> 
</li>
<li id="1094">
<a href="os-interface.htm#getprotobyname-op-bookmarkxx"><b>getprotobyname</b></a> 
</li>
<li id="1095">
<a href="os-interface.htm#getprotobynumber-op-bookmarkxx"><b>getprotobynumber</b></a> 
</li>
</ul>

<hr><h3 id="1096"><a name="setprotoent-op-bookmarkxx"></a>setprotoent</h3><h3 id="1097">Function</h3><h4 id="1098">Package: excl.osi</h4>

<p id="1099"><b>Arguments: </b><i>
</i> &amp;optional <i>stay-open</i><i>
</i></p>

<p id="1100">
This function rewinds the file pointer to the beginning of
<i>/etc/protocols</i> so <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>
can be used to iterate over all the entries.  The argument
<i>stay-open</i> is non-<code>nil</code>,
then the file will not be closed between calls to <a href="os-interface.htm#getprotobyname-op-bookmarkxx"><b>getprotobyname</b></a>
and <a href="os-interface.htm#getprotobynumber-op-bookmarkxx"><b>getprotobynumber</b></a>.
</p>

<hr>

<hr><h3 id="1101"><a name="endprotoent-op-bookmarkxx"></a>endprotoent</h3><h3 id="1102">Function</h3><h4 id="1103">Package: excl.osi</h4>

<p id="1104"><b>Arguments: </b><i>
</i> &amp;rest <i>args</i><i>
</i></p>

<p id="1105">
This function closes the protocols file. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>


<hr>

<hr><h3 id="1106"><a name="getprotoent-op-bookmarkxx"></a>getprotoent</h3><h3 id="1107">Function</h3><h4 id="1108">Package: excl.osi</h4>

<p id="1109"><b>Arguments: </b><i>
</i></p>

<p id="1110">
Return a protoent structure corrsponding to the current entry in the
file /etc/protocols.  The protoent accessors are used to extract
values from the structure, and the functions <a href="os-interface.htm#setprotoent-op-bookmarkxx"><b>setprotoent</b></a>
and <a href="os-interface.htm#endprotoent-op-bookmarkxx"><b>endprotoent</b></a> are used to open and
close the protocols file.
</p>
<p id="1111">
<a href="os-interface.htm#protoent-p-op-bookmarkxx"><b>protoent-p</b></a> returns true if its
argument is a servent structure. The servent accessors are:
</p>

<ul>
<li id="1112">
<a href="os-interface.htm#protoent-aliases-op-bookmarkxx"><b>protoent-aliases</b></a> 
</li>
<li id="1113">
<a href="os-interface.htm#protoent-name-op-bookmarkxx"><b>protoent-name</b></a> 
</li>
<li id="1114">
<a href="os-interface.htm#protoent-proto-op-bookmarkxx"><b>protoent-proto</b></a> 
</li>
</ul>
<p id="1115">
The protoent functions are only available on UNIX.
</p>

<hr>

<hr><h3 id="1116"><a name="protoent-p-op-bookmarkxx"></a>protoent-p</h3><h3 id="1117">Function</h3><h4 id="1118">Package: excl.osi</h4>

<p id="1119"><b>Arguments: </b><i>
object
</i></p>

<p id="1120">Return <code>t</code> if the argument is a protoent,
<code>nil</code> otherwise. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>

<hr>

<hr><h3 id="1121"><a name="protoent-aliases-op-bookmarkxx"></a>protoent-aliases</h3><h3 id="1122">Function</h3><h4 id="1123">Package: excl.osi</h4>

<p id="1124"><b>Arguments: </b><i>
protoent
</i></p>

<p id="1125">
Accessor for the protoent type. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>

<hr>

<hr><h3 id="1126"><a name="protoent-name-op-bookmarkxx"></a>protoent-name</h3><h3 id="1127">Function</h3><h4 id="1128">Package: excl.osi</h4>

<p id="1129"><b>Arguments: </b><i>
protoent
</i></p>

<p id="1130">
Accessor for the protoent type. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>

<hr>

<hr><h3 id="1131"><a name="protoent-proto-op-bookmarkxx"></a>protoent-proto</h3><h3 id="1132">Function</h3><h4 id="1133">Package: excl.osi</h4>

<p id="1134"><b>Arguments: </b><i>
protoent
</i></p>

<p id="1135">
Accessor for the protoent type. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>

<hr>

<hr><h3 id="1136"><a name="getprotobyname-op-bookmarkxx"></a>getprotobyname</h3><h3 id="1137">Function</h3><h4 id="1138">Package: excl.osi</h4>

<p id="1139"><b>Arguments: </b><i>
name
</i></p>

<p id="1140">
Get a protoent structure by name. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>

<hr>

<hr><h3 id="1141"><a name="getprotobynumber-op-bookmarkxx"></a>getprotobynumber</h3><h3 id="1142">Function</h3><h4 id="1143">Package: excl.osi</h4>

<p id="1144"><b>Arguments: </b><i>
proto
</i></p>

<p id="1145">
Get a protoent structure by protocol number. See <a href="os-interface.htm#getprotoent-op-bookmarkxx"><b>getprotoent</b></a>.
</p>

<hr>




<hr><h2 id="1146"><a name="osi-process-uid-gid-2">Appendix A.9 OSI process/uid/gid interface functions</a></h2>

<ul>
<li id="1147">
<a href="os-interface.htm#fork-op-bookmarkxx"><b>fork</b></a> 
</li>
<li id="1148">
<a href="os-interface.htm#execve-op-bookmarkxx"><b>execve</b></a> 
</li>
<li id="1149">
<a href="os-interface.htm#pipe-op-bookmarkxx"><b>pipe</b></a> 
</li>
<li id="1150">
<a href="os-interface.htm#with-pipe-op-bookmarkxx"><b>with-pipe</b></a> 
</li>
<li id="1151">
<a href="os-interface.htm#wait-op-bookmarkxx"><b>wait</b></a> 
</li>
<li id="1152">
<a href="os-interface.htm#waitpid-op-bookmarkxx"><b>waitpid</b></a> 
</li>
<li id="1153">
<a href="os-interface.htm#kill-op-bookmarkxx"><b>kill</b></a> 
</li>
<li id="1154">
<a href="os-interface.htm#ctermid-op-bookmarkxx"><b>ctermid</b></a> 
</li>
<li id="1155">
<a href="os-interface.htm#cuserid-op-bookmarkxx"><b>cuserid</b></a> 
</li>
<li id="1156">
<a href="os-interface.htm#getlogin-op-bookmarkxx"><b>getlogin</b></a> 
</li>
<li id="1157">
<a href="os-interface.htm#initgroups-op-bookmarkxx"><b>initgroups</b></a> 
</li>
<li id="1158">
<a href="os-interface.htm#getgroups-op-bookmarkxx"><b>getgroups</b></a> 
</li>
<li id="1159">
<a href="os-interface.htm#setgroups-op-bookmarkxx"><b>setgroups</b></a> 
</li>
<li id="1160">
<a href="os-interface.htm#getpriority-op-bookmarkxx"><b>getpriority</b></a> 
</li>
<li id="1161">
<a href="os-interface.htm#setpriority-op-bookmarkxx"><b>setpriority</b></a> 
</li>
<li id="1162">
<a href="os-interface.htm#getpid-op-bookmarkxx"><b>getpid</b></a> 
</li>
<li id="1163">
<a href="os-interface.htm#getppid-op-bookmarkxx"><b>getppid</b></a> 
</li>
<li id="1164">
<a href="os-interface.htm#getuid-op-bookmarkxx"><b>getuid</b></a> 
</li>
<li id="1165">
<a href="os-interface.htm#setuid-op-bookmarkxx"><b>setuid</b></a> 
</li>
<li id="1166">
<a href="os-interface.htm#geteuid-op-bookmarkxx"><b>geteuid</b></a> 
</li>
<li id="1167">
<a href="os-interface.htm#seteuid-op-bookmarkxx"><b>seteuid</b></a> 
</li>
<li id="1168">
<a href="os-interface.htm#getgid-op-bookmarkxx"><b>getgid</b></a> 
</li>
<li id="1169">
<a href="os-interface.htm#setgid-op-bookmarkxx"><b>setgid</b></a> 
</li>
<li id="1170">
<a href="os-interface.htm#getegid-op-bookmarkxx"><b>getegid</b></a> 
</li>
<li id="1171">
<a href="os-interface.htm#setegid-op-bookmarkxx"><b>setegid</b></a> 
</li>
<li id="1172">
<a href="os-interface.htm#setreuid-op-bookmarkxx"><b>setreuid</b></a> 
</li>
<li id="1173">
<a href="os-interface.htm#setregid-op-bookmarkxx"><b>setregid</b></a> 
</li>
<li id="1174">
<a href="os-interface.htm#getpgrp-op-bookmarkxx"><b>getpgrp</b></a> 
</li>
<li id="1175">
<a href="os-interface.htm#setpgrp-op-bookmarkxx"><b>setpgrp</b></a> 
</li>
<li id="1176">
<a href="os-interface.htm#getsid-op-bookmarkxx"><b>getsid</b></a> 
</li>
<li id="1177">
<a href="os-interface.htm#setsid-op-bookmarkxx"><b>setsid</b></a> 
</li>
<li id="1178">
<a href="os-interface.htm#getpgid-op-bookmarkxx"><b>getpgid</b></a> 
</li>
<li id="1179">
<a href="os-interface.htm#setpgid-op-bookmarkxx"><b>setpgid</b></a> 
</li>
<li id="1180">
<a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a> 
</li>
<li id="1181">
<a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a> 
</li>
<li id="1182">
<a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a> 
</li>

<li id="1183">
<a href="os-interface.htm#get-mem-info-op-bookmarkxx"><b>get-mem-info</b></a> 
</li>

</ul>

<hr><h3 id="1184"><a name="fork-op-bookmarkxx"></a>fork</h3><h3 id="1185">Function</h3><h4 id="1186">Package: excl.osi</h4>

<p id="1187"><b>Arguments: </b><i>
</i></p>

<p id="1188">
Create a child process that differs from the parent, the calling
process, only in its PID and PPID , and in the fact that resource
utiltizations are set to 0.  File locks are not inherited.
</p>
<p id="1189">
On success, this function returns twice, once in the parent and once
in the child.  In the parent, the PID of the child is returned.  In
the child, 0 is returned.  On failure, an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1190">
For more information on this UNIX system call, see the fork(2) manual
page.
</p>
<p id="1191">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1192"><a name="execve-op-bookmarkxx"></a>execve</h3><h3 id="1193">Function</h3><h4 id="1194">Package: excl.osi</h4>

<p id="1195"><b>Arguments: </b><i>
filespec argv </i> &amp;optional <i>envp</i><i>
</i></p>

<p id="1196">
Execute the program given by <i>filespec</i> with
arguments given by the <i>argv</i> and environment given
by <i>envp</i>. The currently running program is
replaced with the new program, so on success it does not return.  On
failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1197">
<i>argv</i> should be a list of strings, and
<i>envp</i> a list of strings of the form "name=value".
For example:
</p>
<pre id="1198">
(execve "/bin/sh"
        '("sh" "-c" "env")
        '("FOO=bar" "BAZ=bam"))
</pre>
<p id="1199">
which might print something like this:
</p>
<pre id="1200">
BAZ=bam
FOO=bar
TERM=dumb
HOSTTYPE=i386
PATH=/usr/local/bin:/bin:/usr/bin
SHELL=/bin/csh
OSTYPE=Linux
SHLVL=1
_=/usr/bin/env
</pre>
<p id="1201">
If <i>envp</i> is <code>nil</code>, then the
program is given the null environment.
</p>
<p id="1202">
For more information on this UNIX system call, see the execve(2) manual
page.
</p>


<hr>

<hr><h3 id="1203"><a name="pipe-op-bookmarkxx"></a>pipe</h3><h3 id="1204">Function</h3><h4 id="1205">Package: excl.osi</h4>

<p id="1206"><b>Arguments: </b><i>
</i>&amp;key  (<i>mode</i> nil)<i>
</i></p>

<p id="1207">
Create and returns (as multiple values) a pair of streams, pointing
to a pipe. The first returned value is the input stream, used for
reading.  The second returned value is the output stream, used for
writing.  On failure an error of type <code>syscall-error</code>
is signaled.
</p>
<p id="1208">
<i>mode</i> is ignored on all but Windows, where it has
a meaning defined by the <b>_pipe()</b> documentation. The constants
<code>_O_TEXT</code> and <code>_O_BINARY</code> are
defined by this interface, as <a href="osi-constants.htm#s_o-text_s-var-bookmarkxx"><code>*o-text*</code></a> and
<a href="osi-constants.htm#s_o-binary_s-var-bookmarkxx"><code>*o-binary*</code></a>.
</p>
<p id="1209">
<b>Note</b>: on Windows, the blocking behavior of pipes with respect
to multiprocessing is currently unknown.  Windows has a more common
routine for creating pipes, <b>CreatePipe()</b>, but there is no
interface to this routine at the current time.
</p>

<p id="1210">
This function was added after the initial release of the OSI
interface. Please be sure you have updated with <a href="operators/system/update-allegro.htm"><b>sys:update-allegro</b></a> after February 10, 2003
to be sure this function is defined in your system.
</p>

<hr>



<hr><h3 id="1211"><a name="with-pipe-op-bookmarkxx"></a>with-pipe</h3><h3 id="1212">Macro</h3><h4 id="1213">Package: excl.osi</h4>

<p id="1214"><b>Arguments: </b><i>
(invar outvar) </i> &amp;body <i>body</i><i>
</i></p>

<p id="1215">
Binds symbols <i>invar</i> (used for reading from the
pipe) and <i>outvar</i> (used for writing to the pipe)
to the streams returned by <a href="os-interface.htm#pipe-op-bookmarkxx"><b>pipe</b></a>. The macro makes sure the
streams are closed when the macro <i>body</i> exits,
either normally or in non-local exit situations (i.e., an error or
throw).  The body is allowed to close either or both streams, without
causing an error or warning when the cleanup forms run after the body
executes and try to close the streams.
</p>

<p id="1216">
This macro was added after the initial release of the OSI
interface. Please be sure you have updated with <a href="operators/system/update-allegro.htm"><b>sys:update-allegro</b></a> after February
24, 2003 to be sure this function is defined in your system.
</p>

<hr>

<hr><h3 id="1217"><a name="wait-op-bookmarkxx"></a>wait</h3><h3 id="1218">Function</h3><h4 id="1219">Package: excl.osi</h4>

<p id="1220"><b>Arguments: </b><i>
</i></p>

<p id="1221">
Suspend execution in the current Lisp process until any child process
started by the Lisp has exited.  The return value is the PID of the
child which exited.  <code>(wait)</code> is equivalent to
<code>(sys:reap-os-subprocess :wait t)</code>. See <a href="operators/system/reap-os-subprocess.htm"><b>reap-os-subprocess</b></a>.
</p>


<hr>

<hr><h3 id="1222"><a name="waitpid-op-bookmarkxx"></a>waitpid</h3><h3 id="1223">Function</h3><h4 id="1224">Package: excl.osi</h4>

<p id="1225"><b>Arguments: </b><i>
pid </i>&amp;key <i>wnohang wuntraced</i><i>
</i></p>

<p id="1226">
Suspend execution in the current Lisp process until the child process
given by <i>pid</i> has exited.  The
<i>wnohang</i> and <i>wuntraced</i>
keyword arguments correspond to the WNOHANG and WUNTRACED options of
waitpid(2).  Currently, <b>wuntraced</b> is unimplemented.  <a href="os-interface.htm#waitpid-op-bookmarkxx"><b>waitpid</b></a> is implemented by this:
</p>
<pre id="1227">
(sys:reap-os-subprocess :pid pid :wait (not wnohang))
</pre>

<p id="1228">
See <a href="operators/system/reap-os-subprocess.htm"><b>reap-os-subprocess</b></a>.
</p>

<hr>

<hr><h3 id="1229"><a name="kill-op-bookmarkxx"></a>kill</h3><h3 id="1230">Function</h3><h4 id="1231">Package: excl.osi</h4>

<p id="1232"><b>Arguments: </b><i>
pid sig
</i></p>

<p id="1233">
Send a signal <i>sig</i> to a process
<i>pid</i>.  On success <code>t</code> is
returned.  On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>
is signaled. On each UNIX platform and operating system, constants are
provided for the various signals. The constant name is the signal
name, downcased and surrounded by stars and in the
<code>excl.osi</code> package: for example
<code>excl.osi:*sigint*</code> for SIGINT (which is available on
all platforms).
</p>
<p id="1234">
See the UNIX manual page for kill(2) for more information on the meaning of
the arguments.
</p>
<p id="1235">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1236"><a name="ctermid-op-bookmarkxx"></a>ctermid</h3><h3 id="1237">Function</h3><h4 id="1238">Package: excl.osi</h4>

<p id="1239"><b>Arguments: </b><i>
</i></p>

<p id="1240">
Return a string which is the pathname for the current controlling
terminal for this process.  On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1241">
See the UNIX manual page for ctermid(3) for more information on this
library function.
</p>
<p id="1242">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1243"><a name="cuserid-op-bookmarkxx"></a>cuserid</h3><h3 id="1244">Function</h3><h4 id="1245">Package: excl.osi</h4>

<p id="1246"><b>Arguments: </b><i>
</i></p>

<p id="1247">
Return a string which is the name of user logged in on the controlling
terminal of the process.  On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1248">
See the UNIX manual page for ctermid(3) for more information on this
library function.
</p>
<p id="1249">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1250"><a name="getlogin-op-bookmarkxx"></a>getlogin</h3><h3 id="1251">Function</h3><h4 id="1252">Package: excl.osi</h4>

<p id="1253"><b>Arguments: </b><i>
</i></p>

<p id="1254">
The same as cuserid.
</p>

<hr>

<hr><h3 id="1255"><a name="initgroups-op-bookmarkxx"></a>initgroups</h3><h3 id="1256">Function</h3><h4 id="1257">Package: excl.osi</h4>

<p id="1258"><b>Arguments: </b><i>
user group
</i></p>

<p id="1259">
Initialize the group access list by reading the group database
/etc/group and using all groups of which <i>user</i> is
a member.  The additional group <i>group</i> is also
added to the list.  On success <code>t</code> is returned.
On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is
signaled.
</p>
<p id="1260">
See the UNIX manual page for initgroups(3) for more information on this
library function.
</p>
<p id="1261">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1262"><a name="getgroups-op-bookmarkxx"></a>getgroups</h3><h3 id="1263">Function</h3><h4 id="1264">Package: excl.osi</h4>

<p id="1265"><b>Arguments: </b><i>
</i> &amp;optional <i>size</i><i>
</i></p>

<p id="1266">
This function returns a list of GIDs which correspond to the group
access list for the current process. The list will contain no more
than <i>size</i> elements. On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1267">
See the UNIX manual page for getgroups(2) for more information on this
library function.
</p>
<p id="1268">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1269"><a name="setgroups-op-bookmarkxx"></a>setgroups</h3><h3 id="1270">Function</h3><h4 id="1271">Package: excl.osi</h4>

<p id="1272"><b>Arguments: </b><i>
groups
</i></p>

<p id="1273">
Set the group access list for the current process to the list of GIDs
in <i>groups</i>.  On success <code>t</code>
is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1274">
See the UNIX manual page for setgroups(2) for more information on this
library function.
</p>
<p id="1275">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1276"><a name="getpriority-op-bookmarkxx"></a>getpriority</h3><h3 id="1277">Function</h3><h4 id="1278">Package: excl.osi</h4>

<p id="1279"><b>Arguments: </b><i>
which who
</i></p>

<p id="1280">
Return the scheduling priority of the process, process group or user,
as indicated by <i>which</i> and
<i>who</i>.  On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
<i>which</i> is one of <a href="osi-constants.htm#s_prio-process_s-var-bookmarkxx"><code>*prio-process*</code></a>, <a href="osi-constants.htm#s_prio-pgrp_s-var-bookmarkxx"><code>*prio-pgrp*</code></a>, or <a href="osi-constants.htm#s_prio-user_s-var-bookmarkxx"><code>*prio-user*</code></a>.
<i>who</i> is interpreted relative to
<i>which</i>, either a PID, process group identifier or
user ID.  A zero value for <i>who</i> indicates the
current process, process group or user.
</p>
<p id="1281">
See the UNIX manual page for getpriority(2) for more information on this
system call.
</p>
<p id="1282">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1283"><a name="setpriority-op-bookmarkxx"></a>setpriority</h3><h3 id="1284">Function</h3><h4 id="1285">Package: excl.osi</h4>

<p id="1286"><b>Arguments: </b><i>
which who priority
</i></p>

<p id="1287">
Set the scheduling priority of the process, process group or user, to
<i>priority</i> as indicated by
<i>which</i> and <i>who</i>.  On failure
an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1288">
See <a href="os-interface.htm#getpriority-op-bookmarkxx"><b>getpriority</b></a> for information on
<i>which</i> and <i>who</i>.  See the UNIX
manual page for setpriority(2) for more information on valid values
for <i>priority</i>.
</p>
<p id="1289">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1290"><a name="getpid-op-bookmarkxx"></a>getpid</h3><h3 id="1291">Function</h3><h4 id="1292">Package: excl.osi</h4>

<p id="1293"><b>Arguments: </b><i>
</i></p>

<p id="1294">
Return the current process ID.
</p>

<hr>

<hr><h3 id="1295"><a name="getppid-op-bookmarkxx"></a>getppid</h3><h3 id="1296">Function</h3><h4 id="1297">Package: excl.osi</h4>

<p id="1298"><b>Arguments: </b><i>
</i></p>


<p id="1299">
Return the parent process ID of the calling process.
</p>
<p id="1300">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1301"><a name="getuid-op-bookmarkxx"></a>getuid</h3><h3 id="1302">Function</h3><h4 id="1303">Package: excl.osi</h4>

<p id="1304"><b>Arguments: </b><i>
</i></p>

<p id="1305">
Return the user ID of the current process.
</p>
<p id="1306">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1307"><a name="setuid-op-bookmarkxx"></a>setuid</h3><h3 id="1308">Function</h3><h4 id="1309">Package: excl.osi</h4>

<p id="1310"><b>Arguments: </b><i>
uid
</i></p>

<p id="1311">
Set the user ID of the current process.  On success <code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1312">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1313"><a name="geteuid-op-bookmarkxx"></a>geteuid</h3><h3 id="1314">Function</h3><h4 id="1315">Package: excl.osi</h4>

<p id="1316"><b>Arguments: </b><i>
</i></p>

<p id="1317">
Return the effective user ID of the current process.
</p>
<p id="1318">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1319"><a name="seteuid-op-bookmarkxx"></a>seteuid</h3><h3 id="1320">Function</h3><h4 id="1321">Package: excl.osi</h4>

<p id="1322"><b>Arguments: </b><i>
euid
</i></p>

<p id="1323">
Set the effective user ID of the current process.  On success <code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1324">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1325"><a name="getgid-op-bookmarkxx"></a>getgid</h3><h3 id="1326">Function</h3><h4 id="1327">Package: excl.osi</h4>

<p id="1328"><b>Arguments: </b><i>
</i></p>

<p id="1329">
Return the group ID of the current process.
</p>
<p id="1330">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1331"><a name="setgid-op-bookmarkxx"></a>setgid</h3><h3 id="1332">Function</h3><h4 id="1333">Package: excl.osi</h4>

<p id="1334"><b>Arguments: </b><i>
gid
</i></p>

<p id="1335">
Set the group ID of the current process.  On success <code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1336">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1337"><a name="getegid-op-bookmarkxx"></a>getegid</h3><h3 id="1338">Function</h3><h4 id="1339">Package: excl.osi</h4>

<p id="1340"><b>Arguments: </b><i>
</i></p>

<p id="1341">
Return the effective group ID of the current process.
</p>
<p id="1342">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1343"><a name="setegid-op-bookmarkxx"></a>setegid</h3><h3 id="1344">Function</h3><h4 id="1345">Package: excl.osi</h4>

<p id="1346"><b>Arguments: </b><i>
egid
</i></p>

<p id="1347">
Set the effective group ID of the current process.  On success <code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1348">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1349"><a name="setreuid-op-bookmarkxx"></a>setreuid</h3><h3 id="1350">Function</h3><h4 id="1351">Package: excl.osi</h4>

<p id="1352"><b>Arguments: </b><i>
ruid euid
</i></p>

<p id="1353">
Set the real and effective user IDs of the current process.
On success <code>t</code> is returned.  On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is
signaled.
</p>
<p id="1354">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1355"><a name="setregid-op-bookmarkxx"></a>setregid</h3><h3 id="1356">Function</h3><h4 id="1357">Package: excl.osi</h4>

<p id="1358"><b>Arguments: </b><i>
rgid egid
</i></p>

<p id="1359">
Set the real and effective group IDs of the current process.  On
success <code>t</code> is returned.  On failure an error
of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1360">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1361"><a name="getpgrp-op-bookmarkxx"></a>getpgrp</h3><h3 id="1362">Function</h3><h4 id="1363">Package: excl.osi</h4>

<p id="1364"><b>Arguments: </b><i>
</i></p>

<p id="1365">
Return the process group ID of the current process.
</p>
<p id="1366">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1367"><a name="setpgrp-op-bookmarkxx"></a>setpgrp</h3><h3 id="1368">Function</h3><h4 id="1369">Package: excl.osi</h4>

<p id="1370"><b>Arguments: </b><i>
</i></p>

<p id="1371">
Set the process group ID of the current process.  On success <code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1372">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1373"><a name="getsid-op-bookmarkxx"></a>getsid</h3><h3 id="1374">Function</h3><h4 id="1375">Package: excl.osi</h4>



<p id="1376"><b>Arguments: </b><i>
</i> &amp;optional  (<i>pid</i> 0)<i>
</i></p>


<p id="1377">
Return the session ID of the current process.
</p>
<p id="1378">
This function is <b>not supported</b> on the following platforms, where it
signals an error of class
<code>osi-not-supported</code>:
</p>
<ul>
<li id="1379">
MAC OS X (prior to 10.2, it is supported on Mac OS X 10.2)
</li>
<li id="1380">
Windows
</li>
</ul>

<hr>

<hr><h3 id="1381"><a name="setsid-op-bookmarkxx"></a>setsid</h3><h3 id="1382">Function</h3><h4 id="1383">Package: excl.osi</h4>

<p id="1384"><b>Arguments: </b><i>
</i></p>



<p id="1385">
Creates a session and sets the process group ID. On success, the new
session ID is returned.  On failure an error of
type <code>syscall-error</code> is signaled.  See the UNIX
manual page for <b>setsid(2)</b> for more information on this system
call.
</p>

<p id="1386">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1387"><a name="getpgid-op-bookmarkxx"></a>getpgid</h3><h3 id="1388">Function</h3><h4 id="1389">Package: excl.osi</h4>

<p id="1390"><b>Arguments: </b><i>
pgid
</i></p>

<p id="1391">
Return the process group ID of the specified process.
</p>
<p id="1392">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1393"><a name="setpgid-op-bookmarkxx"></a>setpgid</h3><h3 id="1394">Function</h3><h4 id="1395">Package: excl.osi</h4>

<p id="1396"><b>Arguments: </b><i>
pid pgid
</i></p>

<p id="1397">
Set the process group ID of the specified process. On success <code>t</code> is returned. On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1398">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>


<hr><h3 id="1399"><a name="with-command-output-op-bookmarkxx"></a>with-command-output</h3><h3 id="1400">Macro</h3><h4 id="1401">Package: excl.osi</h4>

<p id="1402"><b>Arguments: </b><i>
(var command
</i>&amp;key <i>directory input error-output</i> (<i>show-window</i> :hide)<i> uid gid effective initgroups-user</i><i>)
</i> &amp;body <i>body</i><i>
</i></p>

<p id="1403">
Run program <i>command</i>, binding successive lines of
output the program sends to <code>stdout</code> to
<i>var</i>.
</p>
<p id="1404">
If <i>input</i> is given, it must be a string which is
given as input to the program.
</p>
<p id="1405">
If <i>error-output</i> is given, it has the same meaning
as the keyword of the same name to <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a>, except
<code>:stream</code> is not an acceptable value. Additionally,
it can be a function or symbol naming a function, which is given one
argument, a string containing a single line of error output at a time.
</p>
<p id="1406">
<i>show-window</i> is passed directly to <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> directly.
</p>
<p id="1407">
Defined in the lexical context of <i>body</i> are two
macros, <b>loop-next</b> and <b>loop-exit</b>.  <b>loop-exit</b>
causes <a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a> to return.
<b>loop-next</b> causes the next line to be read, if there is one.
</p>
<p id="1408">
The return value is the exit status of the program.
</p>

<h3 id="1409">The uid, gid, effective, and initgroups-user keyword arguments</h3>


<p id="1410">
These arguments only have meaning on UNIX platforms. They are not
supported on Windows.
</p>
<p id="1411">
<i>uid</i> and <i>gid</i> are numbers
representing user and group ids. <i>effective</i> is a
boolean which indicates that <i>uid</i> and
<i>gid</i> are effective user and group ids.
<i>initgroups-user</i> is a string naming a user.
</p>
<p id="1412">
Here is an example using <a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a> (which also has
the new arguments) and then <a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a>:
</p>
<pre id="1413">
cl-user(1): (require :osi)
; Fast loading code/osi.fasl
t
cl-user(2): (excl.osi:command-output "whoami" :uid 483)
("layer")
nil
0
cl-user(3): (excl.osi:command-output "whoami")
("root")
nil
0
cl-user(4): (excl.osi:with-command-output (var "whoami" :uid 483)
	       (format t "output: ~a~%" var))
output: layer
0
cl-user(5): 
</pre>
<p id="1414">
The <i>gid</i>, <i>initgroups-user</i>,
and <i>uid</i> arguments are independent and are
processed in the following order, using the indicated system calls (on
most UNIX platforms):
</p>

<table BORDER="1">
  <tr>
    <td VALIGN="TOP"><i>gid</i></td>
    <td VALIGN="TOP"><b>setgid()</b>, <b>setegid()</b></td>
  </tr>
  <tr>
    <td VALIGN="TOP"><i>initgroups-user</i></td>
    <td VALIGN="TOP"><b>initgroups()</b></td>
  </tr>
  <tr>
    <td VALIGN="TOP"><i>uid</i></td>
    <td VALIGN="TOP"><b>setuid()</b>, <b>seteuid()</b></td>
  </tr>
</table>
<p id="1415">
The group is always set first, since after changing users that user
may not have permission to change groups.
</p>

<h3 id="1416">A note about error handling</h3>

<p id="1417">
The input, if that option is being used, is given to the program being
run in a different Lisp process from the one that evaluated <a href="os-interface.htm#with-command-output-op-bookmarkxx"><b>with-command-output</b></a>. As a
result, debugging can be more difficult without emacs, where a
*background-interaction* buffer will usually result (if the emacs-lisp
interface is running).
</p>
<p id="1418">
This is done so that the process of generating input does not block
the process that is reading the output.  It is the most efficient,
from the lisp point of view.
</p>


<hr>


<hr><h3 id="1419"><a name="command-output-op-bookmarkxx"></a>command-output</h3><h3 id="1420">Function</h3><h4 id="1421">Package: excl.osi</h4>

<p id="1422"><b>Arguments: </b><i>
command </i>&amp;key <i>directory input</i> (<i>show-window</i> :hide)<i> whole output-file error-output-file uid gid effective initgroups-user</i><i>
</i></p>

<p id="1423">
Run <i>command</i> and return three values: a list of
stdout lines, stderr lines and exit status.
</p>
<p id="1424">
If <i>directory</i> is given, make that the current
working directory before executing <i>command</i>.  This
is done by changing the directory in a sub-shell started to process
<i>command</i> not in the Lisp process that evaluates
command-output.
</p>
<p id="1425">
If <i>input</i> is given it can either be a string or a
function, both used to generate data for <code>stdin</code> of
the program.  If a function, it must take a single stream argument and
output to this stream data for the program. A stream is also a valid
value.  It should be a stream that will produce input for the
executed command. 
</p>
<p id="1426">
If <i>output-file</i> or
<i>error-output-file</i> are given, they are used as
output files for `stdout' and `stderr'. If
<i>output-file</i> or
<i>error-output-file</i> are given, the corresponding
value returned by this function is <code>nil</code>.
</p>
<p id="1427">
If <i>whole</i> is non-<code>nil</code>,
then if there is any output, instead of a list of lines a string
containing the entire output is returned, for both
<code>stdout</code> and <code>stderr</code>. If
<i>whole</i> is non-<code>nil</code> and no
output is produced, <code>nil</code> (rather than the null
string) is returned.
</p>
<p id="1428">
If <i>show-window</i> is given it is used as the
<i>show-window</i> keyword argument to <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a>. The default is :hide. This
keyword is ignored on UNIX.
</p>


<h3 id="1429">The uid, gid, effective, and initgroups-user keyword arguments</h3>

<p id="1430">
These arguments were added in an update made on approximately February
24, 2003. You must have updated with <a href="operators/system/update-allegro.htm"><b>sys:update-allegro</b></a> subsequent to
that date for these arguments to be supported.
</p>
<p id="1431">
These arguments only have meaning on UNIX platforms. They are not
supported on Windows.
</p>
<p id="1432">
<i>uid</i> and <i>gid</i> are numbers
representing user and group ids. <i>effective</i> is a
boolean which indicates that <i>uid</i> and
<i>gid</i> are effective user and group ids.
<i>initgroups-user</i> is a string naming a user.
</p>
<p id="1433">
Here is an example using <a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a> (which also has
the new arguments):
</p>
<pre id="1434">
cl-user(1): (require :osi)
; Fast loading /stuff1/acl/acl70/src/code/osi.fasl
t
cl-user(2): (excl.osi:command-output "whoami" :uid 483)
("layer")
nil
0
cl-user(3): (excl.osi:command-output "whoami")
("root")
nil
0
cl-user(4): 
</pre>
<p id="1435">
The <i>gid</i>, <i>initgroups-user</i>,
and <i>uid</i> arguments are independent and are
processed in the following order, using the indicated system calls (on
most UNIX platforms):
</p>

<table BORDER="1">
  <tr>
    <td VALIGN="TOP"><i>gid</i></td>
    <td VALIGN="TOP"><b>setgid()</b>, <b>setegid()</b></td>
  </tr>
  <tr>
    <td VALIGN="TOP"><i>initgroups-user</i></td>
    <td VALIGN="TOP"><b>initgroups()</b></td>
  </tr>
  <tr>
    <td VALIGN="TOP"><i>uid</i></td>
    <td VALIGN="TOP"><b>setuid()</b>, <b>seteuid()</b></td>
  </tr>
</table>
<p id="1436">
The group is always set first, since after changing users that user
may not have permission to change groups.
</p>

<h3 id="1437">A note about error handling</h3>

<p id="1438">
The input, if that option is being used, is given to the program being
run in a different Lisp process from the one that evaluated <a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a>.  As a result,
debugging can be more difficult without emacs, where a
*background-interaction* buffer will usually result (if the emacs-lisp
interface is running).
</p>
<p id="1439">
This is done so that the process of generating input does not block
the process that is reading the output.  It is the most efficient,
from the lisp point of view.
</p>

<h3 id="1440">
What happens when the command does not exist: UNIX and Windows differ
</h3>

<p id="1441">
On UNIX platforms, this happens when you try to execute a non-existent
command:
</p>

<pre id="1442">
USER(3): (excl.osi:command-output "blarg")
NIL
("blarg: Command not found.")
1
User(4):
</pre>

<p id="1443">
On Windows, the same form signals an error:
</p>

<pre id="1444">
USER(14): (excl.osi:command-output "blarg")
Error: "starting shell command" resulted in error
  "No such file or directory"
[condition type: SYSCALL-ERROR] ...
</pre>

<p id="1445">
To avoid an error on Windows, you can preface the command
with <b>cmd</b>, like this:
</p>

<pre id="1446">
USER(16): (excl.osi:command-output "cmd /c blarg")
nil
("'blarg' is not recognized as an internal or external command,"
 "operable program or batch file.")
1
USER(17): 
</pre>
  

<hr>

<hr><h3 id="1447"><a name="with-command-io-op-bookmarkxx"></a>with-command-io</h3><h3 id="1448">Macro</h3><h4 id="1449">Package: excl.osi</h4>

<p id="1450"><b>Arguments: </b><i>
(command </i>&amp;key <i>directory</i> (<i>show-window</i> :hide)<i> whole uid gid effective initgroups-user</i><i>) </i> &amp;rest <i>clauses</i><i>
</i></p>

<p id="1451">
Run program <i>command</i> with the input and output
coming from forms defined by the <i>clauses</i>.  Each
clause has the form
</p>
<pre id="1452">
(keyword (var) {forms}*)
</pre>

<p id="1453">
where <i>keyword</i> is one of
<code>:input</code>, <code>:output</code> or
<code>:error-output</code>.  All clauses are optional.
<i>var</i> is bound by this macro during the evaluation
of <i>forms</i>.  For <code>:input</code>,
<i>var</i> is a stream to which output should be sent,
that is read by the command as input (stdin).  For :output,
<i>var</i> is a string representing either a single line
of output from the program that was sent to <code>stdout</code>,
if <i>whole</i> is <code>nil</code>, or the
entire output of the command, if <i>whole</i> is <code>t</code>.  <code>:error-output</code> is just like
<code>:output</code>, except it receives data sent to
<code>stderr</code>.
</p>
<p id="1454">
<i>directory</i> can be used to change the directory in
which the program is run. This is given to <a href="operators/excl/run-shell-command.htm"><b>run-shell-command</b></a> directly.
</p>
<p id="1455">
On Windows, <i>show-window</i> can be used to change the
visibility of the program run. It is ignored on UNIX.
</p>
<p id="1456">
The return value is the exit status of the program.
</p>


<h3 id="1457">The uid, gid, effective, and initgroups-user keyword arguments</h3>

<p id="1458">
These arguments were added in an update made on approximately February
24, 2003. You must have updated with <a href="operators/system/update-allegro.htm"><b>sys:update-allegro</b></a> subsequent to
that date for these arguments to be supported.
</p>
<p id="1459">
These arguments only have meaning on UNIX platforms. They are not
supported on Windows.
</p>
<p id="1460">
<i>uid</i> and <i>gid</i> are numbers
representing user and group ids. <i>effective</i> is a
boolean which indicates that <i>uid</i> and
<i>gid</i> are effective user and group ids.
<i>initgroups-user</i> is a string naming a user.
</p>
<p id="1461">
Here is an example using <a href="os-interface.htm#command-output-op-bookmarkxx"><b>command-output</b></a> (which also has
the new arguments):
</p>
<pre id="1462">
cl-user(1): (require :osi)
; Fast loading /stuff1/acl/acl70/src/code/osi.fasl
t
cl-user(2): (excl.osi:command-output "whoami" :uid 483)
("layer")
nil
0
cl-user(3): (excl.osi:command-output "whoami")
("root")
nil
0
cl-user(4): 
</pre>
<p id="1463">
The <i>gid</i>, <i>initgroups-user</i>,
and <i>uid</i> arguments are independent and are
processed in the following order, using the indicated system calls (on
most UNIX platforms):
</p>

<table BORDER="1">
  <tr>
    <td VALIGN="TOP"><i>gid</i></td>
    <td VALIGN="TOP"><b>setgid()</b>, <b>setegid()</b></td>
  </tr>
  <tr>
    <td VALIGN="TOP"><i>initgroups-user</i></td>
    <td VALIGN="TOP"><b>initgroups()</b></td>
  </tr>
  <tr>
    <td VALIGN="TOP"><i>uid</i></td>
    <td VALIGN="TOP"><b>setuid()</b>, <b>seteuid()</b></td>
  </tr>
</table>
<p id="1464">
The group is always set first, since after changing users that user
may not have permission to change groups.
</p>

<h3 id="1465">A note about error handling</h3>

<p id="1466">
The input, if that option is being used, is given to the program being
run in a different Lisp process from the one that evaluated <a href="os-interface.htm#with-command-io-op-bookmarkxx"><b>with-command-io</b></a>. As a result,
debugging can be more difficult without emacs, where a
*background-interaction* buffer will usually result (if the emacs-lisp
interface is running).
</p>
<p id="1467">
This is done so that the process of generating input does not block
the process that is reading the output.  It is the most efficient,
from the lisp point of view.
</p>
  

<hr>



<hr><h3 id="1468"><a name="get-mem-info-op-bookmarkxx"></a>get-mem-info</h3><h3 id="1469">Function</h3><h4 id="1470">Package: excl.osi</h4>

<p id="1471"><b>Arguments: </b><i>
</i></p>

<p id="1472">
Returns two values with information about the Lisp process memory size.
</p>
<p id="1473">
The first value is the resident set size of the Lisp process, in
bytes. On Windows, this value corresponds to the <b>Mem Usage</b>
column in Task Manager.
</p>
<p id="1474">
The second value represents the virtual memory size of the process (in
bytes). This value has a different interpretation between Unix and
Windows. On Unix systems, this value represents the amount of virtual
address space used by the process. On Windows systems, this value
represents the amount of page file space that would be required if the
process were fully paged out. It corresponds to the <b>VM size</b>
column in Task Manager.
</p>
  

<hr>




<hr><h2 id="1475"><a name="osi-file-locking-2">Appendix A.10 OSI file locking functions</a></h2>

<ul>
<li id="1476">
<a href="os-interface.htm#with-stream-lock-op-bookmarkxx"><b>with-stream-lock</b></a> 
</li>
<li id="1477">
<a href="os-interface.htm#lockf-op-bookmarkxx"><b>lockf</b></a> 
</li>
<li id="1478">
<a href="os-interface.htm#locking-op-bookmarkxx"><b>locking</b></a> 
</li>
<li id="1479">
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> 
</li>
<li id="1480">
<a href="os-interface.htm#unlock-stream-op-bookmarkxx"><b>unlock-stream</b></a> 
</li>
</ul>


<hr><h3 id="1481"><a name="with-stream-lock-op-bookmarkxx"></a>with-stream-lock</h3><h3 id="1482">Macro</h3><h4 id="1483">Package: excl.osi</h4>

<p id="1484"><b>Arguments: </b><i>
(stream </i>&amp;key  (<i>wait</i> t)<i>) </i> &amp;body <i>body</i><i>
</i></p>

<p id="1485">
On systems that support file locking, execute
<b><i>body</i></b> with a lock on
<b><i>stream</i></b>. <a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a>
and <a href="os-interface.htm#unlock-stream-op-bookmarkxx"><b>unlock-stream</b></a> are used to lock
and unlock <i>stream</i>.
</p>
<p id="1486">
The <b><i>wait</i></b> keyword argument is passed to
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a>.
When <i>wait</i> is <code>nil</code>,
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> will throw an error
if the lock cannot be acquired and <i>body</i> will not
be executed. If the lock is successfully acquired, then
<i>body</i> is evaluated, and the values returned
by <i>body</i> are returned.
</p>
<p id="1487">
Note that
entire files, not portions of files, are locked and unlocked by
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> and <a href="os-interface.htm#unlock-stream-op-bookmarkxx"><b>unlock-stream</b></a>.
</p>

<hr>

<hr><h3 id="1488"><a name="lockf-op-bookmarkxx"></a>lockf</h3><h3 id="1489">Function</h3><h4 id="1490">Package: excl.osi</h4>

<p id="1491"><b>Arguments: </b><i>
stream command length
</i></p>

<p id="1492">
Apply, test or remove a POSIX lock on an open stream.  See the UNIX
manual page for lockf(3) for more information on how to use this library
function.
</p>
<p id="1493">
This function is not supported on Windows and Mac OS X 10.1, where it
signals an error of class <code>osi-not-supported</code>.  Note:
Mac OS X 10.2 and later does have support for lockf.
</p>


<hr>


<hr><h3 id="1494"><a name="locking-op-bookmarkxx"></a>locking</h3><h3 id="1495">Function</h3><h4 id="1496">Package: excl.osi</h4>

<p id="1497"><b>Arguments: </b><i>
stream mode length
</i></p>

<p id="1498">
Apply, test or remove a Windows lock on an open stream.  See the
Windows API documentation for <code>_locking</code> for more
information on how to use this library function.
</p>
<p id="1499">
This function is not supported on UNIX, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1500"><a name="lock-stream-op-bookmarkxx"></a>lock-stream</h3><h3 id="1501">Function</h3><h4 id="1502">Package: excl.osi</h4>

<p id="1503"><b>Arguments: </b><i>
stream
</i>&amp;key <i>wait</i><i>
</i></p>

<p id="1504">
On systems that support file locking, it locks
<i>stream</i> for writing, optionally waiting for the
lock if the <i>wait</i> keyword argument is specified
and non-<code>nil</code>. The entire file is locked by
this operator, not just a portion of the file. Files are unlocked with
<a href="os-interface.htm#unlock-stream-op-bookmarkxx"><b>unlock-stream</b></a>.
</p>
<p id="1505">
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> returns <code>t</code> if it succeeds.  An error is signaled if
<i>wait</i> is <code>nil</code> and
<a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> fails to acquire a
lock.
</p>
<p id="1506">
On Linux (at least) you can only lock a stream that has been opened
for input and output (i.e. the <a href="../ansicl/dictentr/open.htm"><b>open</b></a> arguments <code>:direction
:io</code>). On Unix systems <a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a> uses the <b>lockf</b>
system call.  This is an advisory lock.  It does not prevent any
process from modifying the file, however processes that also use
<b>lockf</b> before accessing a file (such as mail processing
programs) will respect your lock on a file.
</p>

<hr>

<hr><h3 id="1507"><a name="unlock-stream-op-bookmarkxx"></a>unlock-stream</h3><h3 id="1508">Function</h3><h4 id="1509">Package: excl.osi</h4>

<p id="1510"><b>Arguments: </b><i>
stream
</i></p>

<p id="1511">
On systems that support file locking, it unlocks
<i>stream</i>. Files are locked with <a href="os-interface.htm#lock-stream-op-bookmarkxx"><b>lock-stream</b></a>.
Note that entire files, not portions of files, are locked and
unlocked.
</p>

<hr>






<hr><h2 id="1512"><a name="osi-misc-low-2">Appendix A.11 OSI miscellaneous low-level functionality</a></h2>

<ul>

<li id="1513">
<a href="os-interface.htm#sysconf-op-bookmarkxx"><b>sysconf</b></a> 
</li>

<li id="1514">
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> 
</li>
<li id="1515">
<a href="os-interface.htm#syscall-error-errno-op-bookmarkxx"><b>syscall-error-errno</b></a> 
</li>
<li id="1516">
<a href="os-interface.htm#perror-op-bookmarkxx"><b>perror</b></a> 
</li>
<li id="1517">
<a href="os-interface.htm#osi-not-supported-class-bookmarkxx"><code>osi-not-supported</code></a> 
</li>
<li id="1518">
<a href="os-interface.htm#umask-op-bookmarkxx"><b>umask</b></a> 
</li>
<li id="1519">
<a href="os-interface.htm#ttyname-op-bookmarkxx"><b>ttyname</b></a> 
</li>
<li id="1520">
<a href="os-interface.htm#isatty-op-bookmarkxx"><b>isatty</b></a> 
</li>
<li id="1521">
<a href="os-interface.htm#tcgetattr-op-bookmarkxx"><b>tcgetattr</b></a> 
</li>
<li id="1522">
<a href="os-interface.htm#tcsetattr-op-bookmarkxx"><b>tcsetattr</b></a> 
</li>
<li id="1523">
<a href="os-interface.htm#termios-iflag-op-bookmarkxx"><b>termios-iflag</b></a> 
</li>
<li id="1524">
<a href="os-interface.htm#termios-oflag-op-bookmarkxx"><b>termios-oflag</b></a> 
</li>
<li id="1525">
<a href="os-interface.htm#termios-cflag-op-bookmarkxx"><b>termios-cflag</b></a> 
</li>
<li id="1526">
<a href="os-interface.htm#termios-lflag-op-bookmarkxx"><b>termios-lflag</b></a> 
</li>
<li id="1527">
<a href="os-interface.htm#disable-terminal-echo-op-bookmarkxx"><b>disable-terminal-echo</b></a> 
</li>
<li id="1528">
<a href="os-interface.htm#enable-terminal-echo-op-bookmarkxx"><b>enable-terminal-echo</b></a> 
</li>
<li id="1529">
<a href="os-interface.htm#with-terminal-echo-disabled-op-bookmarkxx"><b>with-terminal-echo-disabled</b></a> 
</li>
<li id="1530">
<a href="os-interface.htm#chroot-op-bookmarkxx"><b>chroot</b></a> 
</li>
<li id="1531">
<a href="os-interface.htm#strerror-op-bookmarkxx"><b>strerror</b></a> 
</li>
<li id="1532">
<a href="os-interface.htm#crypt-op-bookmarkxx"><b>crypt</b></a> 
</li>
<li id="1533">
<a href="os-interface.htm#gethostname-op-bookmarkxx"><b>gethostname</b></a> 
</li>
<li id="1534">
<a href="os-interface.htm#gethostbyname-op-bookmarkxx"><b>gethostbyname</b></a> 
</li>
<li id="1535">
<a href="os-interface.htm#gethostbyaddr-op-bookmarkxx"><b>gethostbyaddr</b></a> 
</li>
<li id="1536">
<a href="os-interface.htm#getdomainname-op-bookmarkxx"><b>getdomainname</b></a> 
</li>
<li id="1537">
<a href="os-interface.htm#ntohl-op-bookmarkxx"><b>ntohl</b></a> 
</li>
<li id="1538">
<a href="os-interface.htm#ntohs-op-bookmarkxx"><b>ntohs</b></a> 
</li>
<li id="1539">
<a href="os-interface.htm#htonl-op-bookmarkxx"><b>htonl</b></a> 
</li>
<li id="1540">
<a href="os-interface.htm#htons-op-bookmarkxx"><b>htons</b></a> 
</li>
<li id="1541">
<a href="os-interface.htm#detach-from-terminal-supported-p-op-bookmarkxx"><b>detach-from-terminal-supported-p</b></a> 
</li>
<li id="1542">
<a href="os-interface.htm#detach-from-terminal-op-bookmarkxx"><b>detach-from-terminal</b></a> 
</li>
<li id="1543">
<a href="os-interface.htm#acct-op-bookmarkxx"><b>acct</b></a> 
</li>
<li id="1544">
<a href="os-interface.htm#openlog-op-bookmarkxx"><b>openlog</b></a> 
</li>
<li id="1545">
<a href="os-interface.htm#closelog-op-bookmarkxx"><b>closelog</b></a> 
</li>
<li id="1546">
<a href="os-interface.htm#syslog-op-bookmarkxx"><b>syslog</b></a> 
</li>
<li id="1547">
<a href="os-interface.htm#getenv-op-bookmarkxx"><b>getenv</b></a> 
</li>
<li id="1548">
<a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a> 
</li>
<li id="1549">
<a href="os-interface.htm#unsetenv-op-bookmarkxx"><b>unsetenv</b></a> 
</li>
<li id="1550">
<a href="os-interface.htm#putenv-op-bookmarkxx"><b>putenv</b></a> 
</li>

<li id="1551">
<a href="os-interface.htm#environment-op-bookmarkxx"><b>environment</b></a>
</li>

<li id="1552">
<a href="os-interface.htm#sync-op-bookmarkxx"><b>sync</b></a> 
</li>
</ul>


<hr><h3 id="1553"><a name="sysconf-op-bookmarkxx"></a>sysconf</h3><h3 id="1554">Function</h3><h4 id="1555">Package: excl.osi</h4>

<p id="1556"><b>Arguments: </b><i>
name
</i></p>

<p id="1557">
Get configuration information at runtime, giving by the
integer <i>name</i>. <b><i>name</i></b>
is one of the <code>_SC_*</code> constants defined by POSIX,
which are exported by the excl.osi package (see <a href="osi-constants.htm#constants-by-name-1">Lisp
constants corresponding to Operating System constants</a>).
</p>
<p id="1558">
This function is not supported on Windows, where it signals an error.
</p>
<p id="1559">
Example (on Linux):
</p>

<pre id="1560">
cl-user(6): (sysconf *sc-open-max*)
1024
cl-user(7): 
</pre>

<p id="1561">
Which is the same as calling <code>sysconf(_SC_OPEN_MAX)</code>
in C.
</p>

<hr>


<hr><h3 id="1562"><a name="syscall-error-class-bookmarkxx"></a>syscall-error</h3><h3 id="1563">Class</h3><h4 id="1564">Package: excl.osi</h4>

<p id="1565">
A condition type that inherits behavior from condition class
<code>error</code>.  <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> adds a slot
<code>errno</code>, which holds the value of the system error
generated with conditions of this type.  The accessor <a href="os-interface.htm#syscall-error-errno-op-bookmarkxx"><b>syscall-error-errno</b></a> can be used
to retrieve this value from instances of this class.
</p>

<hr>

<hr><h3 id="1566"><a name="syscall-error-errno-op-bookmarkxx"></a>syscall-error-errno</h3><h3 id="1567">Function</h3><h4 id="1568">Package: excl.osi</h4>

<p id="1569"><b>Arguments: </b><i>
syscall-error
</i></p>

<p id="1570">
An accessor for instances of <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>.
</p>

<hr>

<hr><h3 id="1571"><a name="perror-op-bookmarkxx"></a>perror</h3><h3 id="1572">Function</h3><h4 id="1573">Package: excl.osi</h4>

<p id="1574"><b>Arguments: </b><i>
errno format-string </i> &amp;rest <i>format-args</i><i>
</i></p>

<p id="1575">
Signal an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>, using
<i>errno</i> to construct an appropriate error message.
</p>

<hr>

<hr><h3 id="1576"><a name="osi-not-supported-class-bookmarkxx"></a>osi-not-supported</h3><h3 id="1577">Class</h3><h4 id="1578">Package: excl.osi</h4>

<p id="1579">
A condition class used for errors of unsupported functionality.
</p>

<hr>

<hr><h3 id="1580"><a name="umask-op-bookmarkxx"></a>umask</h3><h3 id="1581">Function</h3><h4 id="1582">Package: excl.osi</h4>

<p id="1583"><b>Arguments: </b><i>
mode
</i></p>

<p id="1584">
Set the file creation mask to <i>mode</i> and return
the previous mask.
</p>

<hr>

<hr><h3 id="1585"><a name="ttyname-op-bookmarkxx"></a>ttyname</h3><h3 id="1586">Function</h3><h4 id="1587">Package: excl.osi</h4>

<p id="1588"><b>Arguments: </b><i>
stream
</i></p>

<p id="1589">
Return a string naming the terminal device that is open on
<i>stream</i>.
</p>
<p id="1590">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1591"><a name="isatty-op-bookmarkxx"></a>isatty</h3><h3 id="1592">Function</h3><h4 id="1593">Package: excl.osi</h4>

<p id="1594"><b>Arguments: </b><i>
stream
</i></p>

<p id="1595">
Return <code>t</code> if <i>stream</i> is an
open stream connected to a terminal and <code>nil</code> otherwise.
</p>
<p id="1596">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1597"><a name="tcgetattr-op-bookmarkxx"></a>tcgetattr</h3><h3 id="1598">Function</h3><h4 id="1599">Package: excl.osi</h4>

<p id="1600"><b>Arguments: </b><i>
stream
</i></p>

<p id="1601">
If successful, returns a "termios" object that represents the current
state of the terminal associated with
<i>stream</i>.  If unsuccessful, an
error will be generated.  See the system man page for tcgetattr(3) for
details.
</p>
<p id="1602">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1603"><a name="tcsetattr-op-bookmarkxx"></a>tcsetattr</h3><h3 id="1604">Function</h3><h4 id="1605">Package: excl.osi</h4>

<p id="1606"><b>Arguments: </b><i>
stream termios
</i>&amp;key <i>action</i><i>
</i></p>

<p id="1607">
This function updates the terminal state associated with
<i>stream</i>.
'termios' should be an object that was previously returned by
<a href="os-interface.htm#tcgetattr-op-bookmarkxx"><b>tcgetattr</b></a>
for the same stream.
<i>action</i> (which defaults to
<a href="osi-constants.htm#s_tcsanow_s-var-bookmarkxx"><code>*tcsanow*</code></a>)
specifies when the changes should take effect.
Possible values for
<i>action</i> are
<a href="osi-constants.htm#s_tcsanow_s-var-bookmarkxx"><code>*tcsanow*</code></a>,
<a href="osi-constants.htm#s_tcsadrain_s-var-bookmarkxx"><code>*tcsadrain*</code></a>
and
<a href="osi-constants.htm#s_tcsaflush_s-var-bookmarkxx"><code>*tcsaflush*</code></a>.
</p>

<p id="1608">
If successful, the function returns <code>t</code>,
otherwise an error is generated.
See the system man page for tcsetattr(3) for details.
</p>

<p id="1609">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1610"><a name="termios-iflag-op-bookmarkxx"></a>termios-iflag</h3><h3 id="1611">Function</h3><h4 id="1612">Package: excl.osi</h4>

<p id="1613"><b>Arguments: </b><i>
termios
</i></p>

<p id="1614">
This function retrieves the value of the <i>iflag</i> slot of
the <i>termios</i> object.  See the system man page for tcgetattr(3)
for details.
</p>

<p id="1615">
<i>termios</i> objects are returned by
<a href="os-interface.htm#tcgetattr-op-bookmarkxx"><b>tcgetattr</b></a>.
</p>

<p id="1616">
This function is setfable.
</p>

<p id="1617">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1618"><a name="termios-oflag-op-bookmarkxx"></a>termios-oflag</h3><h3 id="1619">Function</h3><h4 id="1620">Package: excl.osi</h4>

<p id="1621"><b>Arguments: </b><i>
termios
</i></p>

<p id="1622">
This function retrieves the value of the <i>oflag</i> slot of
the <i>termios</i> object.  See the system man page for tcgetattr(3)
for details.
</p>

<p id="1623">
<i>termios</i> objects are returned by
<a href="os-interface.htm#tcgetattr-op-bookmarkxx"><b>tcgetattr</b></a>.
</p>

<p id="1624">
This function is setfable.
</p>

<p id="1625">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1626"><a name="termios-cflag-op-bookmarkxx"></a>termios-cflag</h3><h3 id="1627">Function</h3><h4 id="1628">Package: excl.osi</h4>

<p id="1629"><b>Arguments: </b><i>
termios
</i></p>

<p id="1630">
This function retrieves the value of the <i>cflag</i> slot of
the <i>termios</i> object.  See the system man page for tcgetattr(3)
for details.
</p>

<p id="1631">
<i>termios</i> objects are returned by
<a href="os-interface.htm#tcgetattr-op-bookmarkxx"><b>tcgetattr</b></a>.
</p>

<p id="1632">
This function is setfable.
</p>

<p id="1633">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1634"><a name="termios-lflag-op-bookmarkxx"></a>termios-lflag</h3><h3 id="1635">Function</h3><h4 id="1636">Package: excl.osi</h4>

<p id="1637"><b>Arguments: </b><i>
termios
</i></p>

<p id="1638">
This function retrieves the value of the <i>lflag</i> slot of
the <i>termios</i> object.  See the system man page for tcgetattr(3)
for details.
</p>

<p id="1639">
<i>termios</i> objects are returned by
<a href="os-interface.htm#tcgetattr-op-bookmarkxx"><b>tcgetattr</b></a>.
</p>

<p id="1640">
This function is setfable.
</p>

<p id="1641">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1642"><a name="disable-terminal-echo-op-bookmarkxx"></a>disable-terminal-echo</h3><h3 id="1643">Function</h3><h4 id="1644">Package: excl.osi</h4>

<p id="1645"><b>Arguments: </b><i>
stream
</i>&amp;key <i>echo-newline</i><i>
</i></p>

<p id="1646">
This function disables terminal echo on
<i>stream</i>.  If
<i>echo-newline</i>
is true, then newline characters will still be echoed anyway.
See the documentation for
<a href="os-interface.htm#with-terminal-echo-disabled-op-bookmarkxx"><b>with-terminal-echo-disabled</b></a>
for an example.
</p>

<p id="1647">
Keep in mind that if you are running Lisp within Emacs, character
echo may occur even when you've called this function, because
Emacs does its own echoing.
</p>

<p id="1648">
If successful, the function returns
<code>t</code>, otherwise an error is
generated.
</p>

<p id="1649">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1650"><a name="enable-terminal-echo-op-bookmarkxx"></a>enable-terminal-echo</h3><h3 id="1651">Function</h3><h4 id="1652">Package: excl.osi</h4>

<p id="1653"><b>Arguments: </b><i>
stream
</i></p>

<p id="1654">
This function enables terminal echo on
<i>stream</i>.
</p>

<p id="1655">
If successful, the function returns
<code>t</code>, otherwise an error is
generated.
</p>

<p id="1656">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1657"><a name="with-terminal-echo-disabled-op-bookmarkxx"></a>with-terminal-echo-disabled</h3><h3 id="1658">Macro</h3><h4 id="1659">Package: excl.osi</h4>

<p id="1660"><b>Arguments: </b><i>
(stream
</i>&amp;key <i>echo-newline</i><i>)
</i> &amp;body <i>body</i><i>
</i></p>

<p id="1661">
This macro disables terminal echo on
<i>stream</i>, evaluates
<i>body</i>, and
then restores the prior terminal state.
The terminal state is restored even if
<i>body</i> finishes abnormally.  
</p>

<p id="1662">
If <i>echo-newline</i> is true,
newline characters will still be echoed.
See below for an example of how that is sometimes useful.
</p>

<p id="1663">
Errors are ignored when attempting to disable/enable character echo.
(Therefore, this macro works on Windows, although it has no effect on
character echo).
</p>

<p id="1664">
The following example shows the use of with-terminal-echo-disabled
with echo-newline nil and non-nil.  In both cases, when the program
prompted for the secret word, a word was typed, followed by the
enter/return key.
The word that was typed is not visible in the transcript due to
terminal echo being successfully disabled.  In the first call, "Thank
You" appears on the same line as the prompt, because the user's
enter/return keystroke was not echoed.  In the second call, "Thank
You" appears on a new line because the user's enter/return keystroke
was echoed.  
</p>

<pre id="1665">
cl-user(2): (defun test-echo (arg)
              (excl.osi:with-terminal-echo-disabled (*terminal-io* 
                                         :echo-newline arg)
              (format t "Please type the secret word: ")
              (read-line)
              (format t "Thank you.~%")
              t))
test-echo
cl-user(3): (test-echo nil)
Please type the secret word: Thank you.
t
cl-user(4): (test-echo t)
Please type the secret word: 
Thank you.
t
</pre>

<hr>




<hr><h3 id="1666"><a name="chroot-op-bookmarkxx"></a>chroot</h3><h3 id="1667">Function</h3><h4 id="1668">Package: excl.osi</h4>

<p id="1669"><b>Arguments: </b><i>
filespec
</i></p>

<p id="1670">
Changes the root directory to that specified by
<i>filespec</i>. On success <code>t</code>
is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1671">
This function is not supported on Windows, where it signals an error
of class <code>osi-not-supported</code>.
</p>

<hr>

<hr><h3 id="1672"><a name="strerror-op-bookmarkxx"></a>strerror</h3><h3 id="1673">Function</h3><h4 id="1674">Package: excl.osi</h4>

<p id="1675"><b>Arguments: </b><i>
errno
</i></p>

<p id="1676">
Returns a string describing the error code passed in
<i>errno</i>, or an unknown error message if the error
code is unknown.
</p>

<hr>

<hr><h3 id="1677"><a name="crypt-op-bookmarkxx"></a>crypt</h3><h3 id="1678">Function</h3><h4 id="1679">Package: excl.osi</h4>

<p id="1680"><b>Arguments: </b><i>
string salt
</i></p>

<p id="1681">
Return a string which is the DES encryption of
<i>string</i> and <i>salt</i>.  See the
UNIX manual page crypt(3) for more information.  On failure an error
of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1682">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
On UNIX, the library routine is expected to be in libcrypt or a system
library already loaded into ACL.  If it is not, an error is signaled which
suggests how to remedy the situation.
</p>

<p id="1683">
The value of the variable <b>excl.osi:*libcrypt*</b> is the name of
the crypt library used by the <a href="os-interface.htm#crypt-op-bookmarkxx"><b>crypt</b></a> function. This symbol was
added by a patch released in late March, 2006.
</p>

<hr>


<hr><h3 id="1684"><a name="gethostname-op-bookmarkxx"></a>gethostname</h3><h3 id="1685">Function</h3><h4 id="1686">Package: excl.osi</h4>

<p id="1687"><b>Arguments: </b><i>
</i> &amp;optional <i>size</i><i>
</i></p>

<p id="1688">
Return at most <i>size</i> bytes of the hostname of the
current processor.  The default for <i>size</i> is 128.
On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is
signaled.
</p>
<p id="1689">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1690"><a name="gethostbyname-op-bookmarkxx"></a>gethostbyname</h3><h3 id="1691">Function</h3><h4 id="1692">Package: excl.osi</h4>

<p id="1693"><b>Arguments: </b><i>
host
</i>&amp;key <i>raw values ignore-cache</i><i>
</i></p>

<p id="1694">
Return a string containing the IP address of
<i>host</i>.  If the <i>raw</i> keyword is
non-<code>nil</code>, then a 32-bit is returned instead of
a string. If the <i>values</i> keyword is non-<code>nil</code> and <i>raw</i> is <code>nil</code>, then each of the parts of the IP address are
returned as values, the first being the most significant byte (`a'
from `a.b.c.d'). If the <i>ignore-cache</i> keyword is
non-<code>nil</code>, then no cached values are used.
</p>
<p id="1695">
If <i>host</i> cannot be found, an error is signaled.
</p>
<p id="1696">
See also <a href="os-interface.htm#gethostbyaddr-op-bookmarkxx"><b>gethostbyaddr</b></a>.
</p>
<p id="1697">
Using <a href="os-interface.htm#gethostbyname-op-bookmarkxx"><b>gethostbyname</b></a> can cause the Lisp
to freeze for the duration of the call (which can be up to a minute if
it takes a long time to get a response from a DNS server). We
recommend using <a href="operators/socket/lookup-hostname.htm"><b>lookup-hostname</b></a> instead. It uses, by
default, Allegro CL's own DNS client routines to look up the
information.
</p>

<hr>

<hr><h3 id="1698"><a name="gethostbyaddr-op-bookmarkxx"></a>gethostbyaddr</h3><h3 id="1699">Function</h3><h4 id="1700">Package: excl.osi</h4>

<p id="1701"><b>Arguments: </b><i>
addr
</i>&amp;key <i>ignore-cache</i><i>
</i></p>


<p id="1702">
Return the host name for a given IP address. This is the reverse of
what <a href="os-interface.htm#gethostbyname-op-bookmarkxx"><b>gethostbyname</b></a> does. If no host
name can be found, <code>nil</code> is returned.
</p>

<p id="1703">
Using <a href="os-interface.htm#gethostbyaddr-op-bookmarkxx"><b>gethostbyaddr</b></a> can cause the Lisp
to freeze for the duration of the call (which can be up to a minute if
it takes a long time to get a response from a DNS server). We
recommend using <a href="operators/socket/ipaddr-to-hostname.htm"><b>ipaddr-to-hostname</b></a> instead. It uses, by
default, Allegro CL's own DNS client routines to look up the
information.
</p>

<hr>

<hr><h3 id="1704"><a name="getdomainname-op-bookmarkxx"></a>getdomainname</h3><h3 id="1705">Function</h3><h4 id="1706">Package: excl.osi</h4>

<p id="1707"><b>Arguments: </b><i>
</i> &amp;optional <i>size</i><i>
</i></p>

<p id="1708">
Return at most <i>size</i> bytes of the domain name of
the current processor.  The default for <i>size</i> is
128.  On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is
signaled.
</p>
<p id="1709">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1710"><a name="ntohl-op-bookmarkxx"></a>ntohl</h3><h3 id="1711">Function</h3><h4 id="1712">Package: excl.osi</h4>

<p id="1713"><b>Arguments: </b><i>
val
</i></p>

<p id="1714">
Convert the long integer <i>val</i> from network byte
order to host byte order.
</p>

<hr>

<hr><h3 id="1715"><a name="ntohs-op-bookmarkxx"></a>ntohs</h3><h3 id="1716">Function</h3><h4 id="1717">Package: excl.osi</h4>

<p id="1718"><b>Arguments: </b><i>
val
</i></p>

<p id="1719">
Convert the short integer <i>val</i> from network byte
order to host byte order.
</p>

<hr>

<hr><h3 id="1720"><a name="htonl-op-bookmarkxx"></a>htonl</h3><h3 id="1721">Function</h3><h4 id="1722">Package: excl.osi</h4>

<p id="1723"><b>Arguments: </b><i>
val
</i></p>

<p id="1724">
Convert the long integer <i>val</i> from host byte order
to network byte order.
</p>

<hr>

<hr><h3 id="1725"><a name="htons-op-bookmarkxx"></a>htons</h3><h3 id="1726">Function</h3><h4 id="1727">Package: excl.osi</h4>

<p id="1728"><b>Arguments: </b><i>
val
</i></p>

<p id="1729">
Convert the short integer <i>val</i> from host byte
order to network byte order.
</p>

<hr>

<hr><h3 id="1730"><a name="detach-from-terminal-supported-p-op-bookmarkxx"></a>detach-from-terminal-supported-p</h3><h3 id="1731">Function</h3><h4 id="1732">Package: excl.osi</h4>

<p id="1733"><b>Arguments: </b><i>
</i></p>

<p id="1734">
Return <code>t</code> if detach-from-terminal is supported
on this version of ACL, <code>nil</code> otherwise.
</p>

<hr>

<hr><h3 id="1735"><a name="detach-from-terminal-op-bookmarkxx"></a>detach-from-terminal</h3><h3 id="1736">Function</h3><h4 id="1737">Package: excl.osi</h4>

<p id="1738"><b>Arguments: </b><i>
</i>&amp;key <i>output-stream error-output-stream</i><i>
</i></p>

<p id="1739">
Detach the current process from the terminal associated with that
process.  This is for daemonizing a process.  The keywords
<i>output-stream</i> and
<i>error-output-stream</i> are used for setting up what
the UNIX notions of `stdout' and `stderr' are set to. The value nil
(the default) for <i>output-stream</i> and
<i>error-output-stream</i>, the stream associated with
<i>/dev/null</i> is used.
</p>
<p id="1740">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>


<hr>

<hr><h3 id="1741"><a name="acct-op-bookmarkxx"></a>acct</h3><h3 id="1742">Function</h3><h4 id="1743">Package: excl.osi</h4>

<p id="1744"><b>Arguments: </b><i>
filespec
</i></p>


<p id="1745">
If <i>filespec</i> is non-<code>nil</code>,
then turn process accounting on, otherwise turn it off.  On success
<code>t</code> is returned.  On failure an error of type
<a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1746">
The file created by acct is in a system dependent format.
</p>
<p id="1747">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>


<hr>

<hr><h3 id="1748"><a name="openlog-op-bookmarkxx"></a>openlog</h3><h3 id="1749">Function</h3><h4 id="1750">Package: excl.osi</h4>

<p id="1751"><b>Arguments: </b><i>
ident option facility
</i></p>

<p id="1752">
Open a connection to the system logger.
</p>
<p id="1753">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>
<p id="1754">
The following are constants that can be passed to <a href="os-interface.htm#openlog-op-bookmarkxx"><b>openlog</b></a>:
<a href="osi-constants.htm#s_log-alert_s-var-bookmarkxx"><code>*log-alert*</code></a>, <a href="osi-constants.htm#s_log-auth_s-var-bookmarkxx"><code>*log-auth*</code></a>, <a href="osi-constants.htm#s_log-authpriv_s-var-bookmarkxx"><code>*log-authpriv*</code></a>, <a href="osi-constants.htm#s_log-cons_s-var-bookmarkxx"><code>*log-cons*</code></a>, <a href="osi-constants.htm#s_log-cron_s-var-bookmarkxx"><code>*log-cron*</code></a>, <a href="osi-constants.htm#s_log-daemon_s-var-bookmarkxx"><code>*log-daemon*</code></a>, <a href="osi-constants.htm#s_log-debug_s-var-bookmarkxx"><code>*log-debug*</code></a>, <a href="osi-constants.htm#s_log-emerg_s-var-bookmarkxx"><code>*log-emerg*</code></a>, <a href="osi-constants.htm#s_log-err_s-var-bookmarkxx"><code>*log-err*</code></a>, <a href="osi-constants.htm#s_log-ftp_s-var-bookmarkxx"><code>*log-ftp*</code></a>, <a href="osi-constants.htm#s_log-info_s-var-bookmarkxx"><code>*log-info*</code></a>, <a href="osi-constants.htm#s_log-kern_s-var-bookmarkxx"><code>*log-kern*</code></a>, <a href="osi-constants.htm#s_log-local0_s-var-bookmarkxx"><code>*log-local0*</code></a>, <a href="osi-constants.htm#s_log-local1_s-var-bookmarkxx"><code>*log-local1*</code></a>, <a href="osi-constants.htm#s_log-local2_s-var-bookmarkxx"><code>*log-local2*</code></a>, <a href="osi-constants.htm#s_log-local3_s-var-bookmarkxx"><code>*log-local3*</code></a>, <a href="osi-constants.htm#s_log-local4_s-var-bookmarkxx"><code>*log-local4*</code></a>, <a href="osi-constants.htm#s_log-local5_s-var-bookmarkxx"><code>*log-local5*</code></a>, <a href="osi-constants.htm#s_log-local6_s-var-bookmarkxx"><code>*log-local6*</code></a>, <a href="osi-constants.htm#s_log-local7_s-var-bookmarkxx"><code>*log-local7*</code></a>, <a href="osi-constants.htm#s_log-lpr_s-var-bookmarkxx"><code>*log-lpr*</code></a>, <a href="osi-constants.htm#s_log-mail_s-var-bookmarkxx"><code>*log-mail*</code></a>, <a href="osi-constants.htm#s_log-ndelay_s-var-bookmarkxx"><code>*log-ndelay*</code></a>, <a href="osi-constants.htm#s_log-news_s-var-bookmarkxx"><code>*log-news*</code></a>, <a href="osi-constants.htm#s_log-notice_s-var-bookmarkxx"><code>*log-notice*</code></a>, <a href="osi-constants.htm#s_log-perror_s-var-bookmarkxx"><code>*log-perror*</code></a>, <a href="osi-constants.htm#s_log-pid_s-var-bookmarkxx"><code>*log-pid*</code></a>, <a href="osi-constants.htm#s_log-syslog_s-var-bookmarkxx"><code>*log-syslog*</code></a>, <a href="osi-constants.htm#s_log-user_s-var-bookmarkxx"><code>*log-user*</code></a>, <a href="osi-constants.htm#s_log-uucp_s-var-bookmarkxx"><code>*log-uucp*</code></a>, <a href="osi-constants.htm#s_log-warning_s-var-bookmarkxx"><code>*log-warning*</code></a>.
</p>


<hr>

<hr><h3 id="1755"><a name="closelog-op-bookmarkxx"></a>closelog</h3><h3 id="1756">Function</h3><h4 id="1757">Package: excl.osi</h4>

<p id="1758"><b>Arguments: </b><i>
</i></p>


<p id="1759">
Close the connection to the system logger.
</p>
<p id="1760">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>

<hr><h3 id="1761"><a name="syslog-op-bookmarkxx"></a>syslog</h3><h3 id="1762">Function</h3><h4 id="1763">Package: excl.osi</h4>

<p id="1764"><b>Arguments: </b><i>
priority format-string </i> &amp;rest <i>format-arguments</i><i>
</i></p>

<p id="1765">
Generate a log message handled by the system logger.  See the UNIX
manual page for syslog(3) for more information.
</p>
<p id="1766">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>
<p id="1767">
The following are constants that can be passed to <a href="os-interface.htm#syslog-op-bookmarkxx"><b>syslog</b></a>:
<a href="osi-constants.htm#s_log-alert_s-var-bookmarkxx"><code>*log-alert*</code></a>, 
<a href="osi-constants.htm#s_log-debug_s-var-bookmarkxx"><code>*log-debug*</code></a>, 
<a href="osi-constants.htm#s_log-emerg_s-var-bookmarkxx"><code>*log-emerg*</code></a>, 
<a href="osi-constants.htm#s_log-err_s-var-bookmarkxx"><code>*log-err*</code></a>, 
<a href="osi-constants.htm#s_log-info_s-var-bookmarkxx"><code>*log-info*</code></a>, 
<a href="osi-constants.htm#s_log-notice_s-var-bookmarkxx"><code>*log-notice*</code></a>, 
<a href="osi-constants.htm#s_log-warning_s-var-bookmarkxx"><code>*log-warning*</code></a>.
</p>


<hr>

<hr><h3 id="1768"><a name="getenv-op-bookmarkxx"></a>getenv</h3><h3 id="1769">Function</h3><h4 id="1770">Package: system</h4>

<p id="1771"><b>Arguments: </b><i>string</i></p>

<p id="1772">
Return the value of the environment variable given by
<i>string</i>, or <code>nil</code> if it is
not defined. 
</p>
<p id="1773">
The symbol naming this function is in the
<code>system</code> package and exported from the
<code>excl.osi</code> package. This function was defined in
Allegro CL prior to the release of the <code>:osi</code>
module. Its manual page is <a href="operators/system/getenv.htm"><b>here</b></a>.
</p>
<p id="1774">
See <a href="#environment-variables-1">Section 6.0 Polling and setting environment variables</a>.
</p>

<hr>

<hr><h3 id="1775"><a name="setenv-op-bookmarkxx"></a>setenv</h3><h3 id="1776">Function</h3><h4 id="1777">Package: excl.osi</h4>

<p id="1778"><b>Arguments: </b><i>
name value overwrite
</i></p>

<p id="1779">
Add <i>name</i> to the environment, with value
<i>value</i>, if it does not already exist.  If it does
exist, change the value to <i>value</i> if
<i>overwrite</i> is non-<code>nil</code>,
leave it alone if <i>overwrite</i> is <code>nil</code>.  On success <code>t</code> is
returned (leaving an existing value alone when
<i>overwrite</i> is <code>nil</code> is a
successful outcome). On failure an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a>
is signaled.
</p>
<p id="1780">
This function is <b>not supported</b> on the following platforms, where it
signals an error of class
<code>osi-not-supported</code>:
</p>
<ul>
<li id="1781">
HP-UX (all varieties)
</li>
<li id="1782">
Solaris
</li>
<li id="1783">
Windows
</li>
</ul>

<p id="1784">
See <a href="#environment-variables-1">Section 6.0 Polling and setting environment variables</a>.
</p>

<hr>

<hr><h3 id="1785"><a name="unsetenv-op-bookmarkxx"></a>unsetenv</h3><h3 id="1786">Function</h3><h4 id="1787">Package: excl.osi</h4>

<p id="1788"><b>Arguments: </b><i>name</i></p>

<p id="1789">
Remove environment variable <i>name</i> from the
environment. Always returns <code>t</code>.
</p>
<p id="1790">
This function is <b>not supported</b> on the following platforms, where it
signals an error of class
<code>osi-not-supported</code>:
</p>
<ul>
<li id="1791">
AIX (on IBM machines)
</li>
<li id="1792">
HP-UX (all varieties)
</li>
<li id="1793">
Solaris
</li>
<li id="1794">
Windows
</li>
</ul>
<p id="1795">
See <a href="#environment-variables-1">Section 6.0 Polling and setting environment variables</a>.
</p>

<hr>

<hr><h3 id="1796"><a name="putenv-op-bookmarkxx"></a>putenv</h3><h3 id="1797">Function</h3><h4 id="1798">Package: excl.osi</h4>

<p id="1799"><b>Arguments: </b><i>
string
</i></p>

<p id="1800">
Add environment information as specifed by
<i>string</i>, which has the form "name=value", adding
or setting a variable <b>name</b> to value <b>value</b>.
</p>
<pre id="1801">
(putenv "name=value")
</pre>
<p id="1802">
is equivalent to
</p>
<pre id="1803">
(setenv "name" "Value" t)
</pre>
<p id="1804">
See <a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a>.  
</p>
<p id="1805">
<code>t</code> is returned if the operation succeeds. If it fails,
an error of type <a href="os-interface.htm#syscall-error-class-bookmarkxx"><code>syscall-error</code></a> is signaled.
</p>
<p id="1806">
See <a href="#environment-variables-1">Section 6.0 Polling and setting environment variables</a>.
</p>

<hr>

<hr><h3 id="1807"><a name="environment-op-bookmarkxx"></a>environment</h3><h3 id="1808">Function</h3><h4 id="1809">Package: excl.osi</h4>

<p id="1810"><b>Arguments: </b><i>
</i></p>

<p id="1811">
Return a list of the original environment when Lisp was started, each
element of which has the form of (var . value). Any changes to the
environment with <a href="os-interface.htm#setenv-op-bookmarkxx"><b>setenv</b></a>, <a href="os-interface.htm#putenv-op-bookmarkxx"><b>putenv</b></a> or
<a href="../ansicl/dictentr/setfpset.htm"><b>setf</b></a> of <a href="operators/system/getenv.htm"><b>getenv</b></a> are not reflected in the value
returned by this function.
</p>

<hr>

<hr><h3 id="1812"><a name="sync-op-bookmarkxx"></a>sync</h3><h3 id="1813">Function</h3><h4 id="1814">Package: excl.osi</h4>

<p id="1815"><b>Arguments: </b><i>
</i></p>

<p id="1816">
Flush filesystem buffers to disk.  See the sync(2) UNIX man page for
details.
</p>
<p id="1817">
This function is not supported on Windows, where it
signals an error of class <code>osi-not-supported</code>. 
</p>

<hr>




<hr><h2 id="1818"><a name="osi-misc-high-2">Appendix A.12 OSI miscellaneous higher-level functionality</a></h2>

<ul>
<li id="1819">
<a href="os-interface.htm#same-file-p-op-bookmarkxx"><b>same-file-p</b></a> 
</li>
<li id="1820">
<a href="os-interface.htm#same-filesystem-p-op-bookmarkxx"><b>same-filesystem-p</b></a> 
</li>
<li id="1821">
<a href="os-interface.htm#find-in-path-op-bookmarkxx"><b>find-in-path</b></a> 
</li>
<li id="1822">
<a href="os-interface.htm#compare-files-op-bookmarkxx"><b>compare-files</b></a> 
</li>
</ul>


<hr><h3 id="1823"><a name="same-file-p-op-bookmarkxx"></a>same-file-p</h3><h3 id="1824">Function</h3><h4 id="1825">Package: excl.osi</h4>

<p id="1826"><b>Arguments: </b><i>
filespec1 filespec2
</i></p>

<p id="1827">
Return <code>t</code> if the files given by
<i>filespec1</i> and <i>filespec2</i> are
the same file, and <code>nil</code> otherwise.
</p>

<hr>

<hr><h3 id="1828"><a name="same-filesystem-p-op-bookmarkxx"></a>same-filesystem-p</h3><h3 id="1829">Function</h3><h4 id="1830">Package: excl.osi</h4>

<p id="1831"><b>Arguments: </b><i>
filespec1 filespec2
</i></p>

<p id="1832">
Return <code>t</code> if the files
<i>filespec1</i> and <i>filespec2</i>
reside on the same filesystem, and <code>nil</code> otherwise.
</p>

<hr>

<hr><h3 id="1833"><a name="find-in-path-op-bookmarkxx"></a>find-in-path</h3><h3 id="1834">Function</h3><h4 id="1835">Package: excl.osi</h4>

<p id="1836"><b>Arguments: </b><i>
name </i>&amp;key <i>executable</i><i>
</i></p>

<p id="1837">
Return a pathname of the absolute pathname found when searching for
<i>name</i> in the directories given by the value of the
environment
variable <code>PATH</code>. The <b><i>executable</i></b>
keyword argument is ignored on Windows. On UNIX platforms,
if <i>executable</i> is specified true, it causes only
matches of files that have execute bit set in their mode to be
returned.
</p>

<hr>

<hr><h3 id="1838"><a name="compare-files-op-bookmarkxx"></a>compare-files</h3><h3 id="1839">Function</h3><h4 id="1840">Package: excl.osi</h4>

<p id="1841"><b>Arguments: </b><i>
filespec1 filespec2
</i></p>

<p id="1842">
Compare the contents of <i>filespec1</i> and
<i>filespec2</i>, returning <code>t</code>
if they are the same, <code>nil</code> otherwise.
</p>

<hr>



<hr><h2 id="1843"><a name="lisp-constants-2">Appendix A.13 Lisp constants corresponding to Operating System constants</a></h2>

<p id="1844">
The <code>:excl.osi</code> package includes symbols naming Lisp
constants which correspond to operating system constants.  We have
documented all the constants in a separate file (to make the size of
this file more manageable). See
<a href="osi-constants.htm">osi-constants.htm</a>. Note that Not every constant is
defined on every platform (architecture).
</p>

<p id="1845">
<a href="osi-constants.htm">osi-constants.htm</a> has two sections:
</p>

<ol>
<li id="1846">
<a href="osi-constants.htm#constants-by-name-1">Lisp
constants corresponding to Operating System constants</a>. In
this section rules for converting an operating system constant name to
a list constant name (if there is one) are given.
</li>
<li id="1847">
<a href="osi-constants.htm#osi-const-by-arch-1">Defined
Operating System/Lisp constants by architecture</a>. This
section lists each supported architecture and the constants defined in
that architecture.
</li>
</ol>






</body><hr><p id="2"><small>Copyright (c) 1998-2016, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 9.0 page.</small><br><small>Created 2015.5.21.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><a href="contents.htm"><b>ToC</b></a></td><td align="left" bgcolor="#00FFFF"><a href="introduction.htm"><b>DocOverview</b></a></td><td align="left" bgcolor="#00FFFF"><a href="cgide.htm"><b>CGDoc</b></a></td><td align="left" bgcolor="#00FFFF"><a href="release-notes.htm"><b>RelNotes</b></a></td><td align="left" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="left" bgcolor="#00FFFF"><a href="index.htm"><b>Index</b></a></td><td align="left" bgcolor="#00FFFF"><a href="permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/os-interface.htm">9.0 version</a></td></tr></table></html>